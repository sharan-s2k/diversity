Index: dsa/lib/dkm/tests/Makefile.depend.host
===================================================================
--- dsa/lib/dkm/tests/Makefile.depend.host	(revision 1333131)
+++ dsa/lib/dkm/tests/Makefile.depend.host	(working copy)
@@ -458,6 +458,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
 	layer3/usr.sbin/rpd/lib/ext-reslvr \
Index: junos/lib/libjevt/tests/Makefile.depend.host
===================================================================
--- junos/lib/libjevt/tests/Makefile.depend.host	(revision 1333131)
+++ junos/lib/libjevt/tests/Makefile.depend.host	(working copy)
@@ -345,6 +345,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/actions.host32 \
Index: junos/release/junos-routing-aggregated.manifest.in
===================================================================
--- junos/release/junos-routing-aggregated.manifest.in	(revision 1333131)
+++ junos/release/junos-routing-aggregated.manifest.in	(working copy)
@@ -31,6 +31,7 @@
 %INCLUDE% junos-routing-infra-advanced.manifest.in
 %INCLUDE% junos-routing-infra-rt-advanced.manifest.in
 %INCLUDE% junos-routing-infra-srlg.manifest.in
+%INCLUDE% junos-routing-infra-dat.manifest.in
 %INCLUDE% junos-routing-infra-resolver.manifest.in
 %INCLUDE% junos-routing-infra-nsr.manifest.in
 %INCLUDE% junos-routing-igp-sr.manifest.in
Index: junos/release/junos-routing-infra-dat.manifest.in
===================================================================
--- junos/release/junos-routing-infra-dat.manifest.in	(revision 0)
+++ junos/release/junos-routing-infra-dat.manifest.in	(working copy)
@@ -0,0 +1,8 @@
+# $Id$
+# Manifest for junos-routing-infra-dat DDL
+#
+#%EVAL% SOFLAG=${SOFLAG:-no_unlink}
+#%EVAL% TLVFLAG=${TLVFLAG:-no_unlink}
+
+${STAGE_DDL_TLV}/libjunos-routing-infra-dat-dd.tlv store=${LIB_DD}/libjunos-routing-infra-dat-dd.tlv uid=0 gid=0 mode=444 ${TLVFLAG}
+${STAGE_DDL_ACTIONS}/libjunos-routing-infra-dat-actions-dd.so.1 store=${LIB_DD}/libjunos-routing-infra-dat-actions-dd.so uid=0 gid=0 mode=444 ${SOFLAG}
Index: layer3/build/mk/layer3.libnames.mk
===================================================================
--- layer3/build/mk/layer3.libnames.mk	(revision 1333131)
+++ layer3/build/mk/layer3.libnames.mk	(working copy)
@@ -312,6 +312,12 @@
 SRC_librpd-infra-srlg-config ?= ${RELSRCTOP_LAYER3}/usr.sbin/rpd/lib/srlg/config
 LIBRPD-INFRA-SRLG-UI ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/srlg/ui/librpd-infra-srlg-ui.a
 SRC_librpd-infra-srlg-ui ?= ${RELSRCTOP_LAYER3}/usr.sbin/rpd/lib/srlg/ui
+LIBRPD-INFRA-DAT ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/divassoc/core/librpd-infra-dat.a
+SRC_librpd-infra-dat ?= ${RELSRCTOP_LAYER3}/usr.sbin/rpd/lib/divassoc/core
+LIBRPD-INFRA-DAT-CONFIG ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/divassoc/config/librpd-infra-dat-config.a
+SRC_librpd-infra-dat-config ?= ${RELSRCTOP_LAYER3}/usr.sbin/rpd/lib/divassoc/config
+LIBRPD-INFRA-DAT-UI ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/divassoc/ui/librpd-infra-dat-ui.a
+SRC_librpd-infra-dat-ui ?= ${RELSRCTOP_LAYER3}/usr.sbin/rpd/lib/divassoc/ui
 LIBRPD-INFRA-STATS-ADAPTOR ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/stats-adaptor/librpd-infra-stats-adaptor.a
 SRC_librpd-infra-stats-adaptor ?= ${RELSRCTOP_LAYER3}/usr.sbin/rpd/lib/stats-adaptor/
 INCLUDES_librpd-infra-stats-adaptor ?= -I${RELSRCTOP_LAYER3}/usr.sbin/rpd/lib/stats-adaptor/h
@@ -855,6 +861,9 @@
 LIBRPD-INFRA-SRLG ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/srlg/core/librpd-infra-srlg.a
 LIBRPD-INFRA-SRLG-CONFIG ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/srlg/config/librpd-infra-srlg-config.a
 LIBRPD-INFRA-SRLG-UI ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/srlg/ui/librpd-infra-srlg-ui.a
+LIBRPD-INFRA-DAT ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/divassoc/core/librpd-infra-dat.a
+LIBRPD-INFRA-DAT-CONFIG ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/divassoc/config/librpd-infra-dat-config.a
+LIBRPD-INFRA-DAT-UI ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/divassoc/ui/librpd-infra-dat-ui.a
 LIBRPD-INFRA-STATS-ADAPTOR ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/stats-adaptor/librpd-infra-stats-adaptor.a
 LIBRPD-INFRA-RT ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/rt/librpd-infra-rt.a
 LIBRPD-INFRA-RT-CONFIG ?= ${_OBJTOP_LAYER3}/usr.sbin/rpd/lib/rt/config/librpd-infra-rt-config.a
@@ -1300,6 +1309,9 @@
 	LIBRPD-INFRA-SRLG \
 	LIBRPD-INFRA-SRLG-CONFIG \
 	LIBRPD-INFRA-SRLG-UI \
+	LIBRPD-INFRA-DAT \
+	LIBRPD-INFRA-DAT-CONFIG \
+	LIBRPD-INFRA-DAT-UI \
 	LIBRPD-INFRA-STATS-ADAPTOR \
 	LIBRPD-INFRA-TELEMETRY \
 	LIBRPD-INFRA-TEVENT \
Index: layer3/ddl/include/layer3-common/te_include.dd
===================================================================
--- layer3/ddl/include/layer3-common/te_include.dd	(revision 1333131)
+++ layer3/ddl/include/layer3-common/te_include.dd	(working copy)
@@ -7,6 +7,8 @@
  * All rights reserved.
  */
 
+#define PCEP_DAT_MAX_GROUPS 8
+
 #define PRIORITY_ATTRIBUTE(helpstring)				\
 attribute priority {						\
     help helpstring;						\
@@ -84,6 +86,29 @@
     type admin_group_include_exclude;				\
 }
 
+#define PCEP_DIVERSITY_ASSOCIATION                                            \
+object diversity-association {                                                \
+    help "Configure diversity association for LSP";                           \
+    flag remove-empty oneliner-plus;                                          \
+    must ("protocols pcep diversity-association-capability");                 \
+    must-message "Referenced pcep diveristy association must be defined";     \
+    attribute group {                                                         \
+        help "Configure diversity association group";                         \
+        type setof string;                                                    \
+        flag mustquote;                                                       \
+        path-reference "routing-options diversity-association";               \
+        must ("routing-options diversity-association $$");                    \
+        must-message "Referenced diversity-association group is not defined"; \
+        max-elements PCEP_DAT_MAX_GROUPS;                                     \
+    }                                                                         \
+    attribute shortest-path-first {                                           \
+        help "Enable priority computation";                                   \
+        must (".. group");                                                    \
+        must-message "Referenced diversity-association group is not defined"; \
+        type toggle;                                                          \
+    }                                                                         \
+}
+
 object admin_group_include_exclude {
     flag allow-struct;
     /*
Index: layer3/lib/libpcep/core_junos.c
===================================================================
--- layer3/lib/libpcep/core_junos.c	(revision 1333131)
+++ layer3/lib/libpcep/core_junos.c	(working copy)
@@ -195,7 +195,8 @@
                           conn->parameters->local.proposition.pce_flowspec_capability,
                           conn->parameters->local.proposition.path_protection_association,
                           conn->parameters->local.proposition.srpag_association,
-                          conn->parameters->local.proposition.multipath_capability)) {
+                          conn->parameters->local.proposition.multipath_capability,
+                          conn->parameters->local.proposition.disjoint_assoc_capability)) {
             return;
         }
         transition_to_openwait(conn);
Index: layer3/lib/libpcep/message.c
===================================================================
--- layer3/lib/libpcep/message.c	(revision 1333131)
+++ layer3/lib/libpcep/message.c	(working copy)
@@ -331,7 +331,8 @@
                bool spring_capability, bool srv6_capability,
                unsigned flags, uint8_t msd,
                bool flowspec_capability, bool path_protection_assoc,
-               bool srpag_assoc, bool multipath_capability)
+               bool srpag_assoc, bool multipath_capability,
+               bool disjoint_assoc_capability)
 {
     struct pcep_object obj[5]; // Setting max objects sent through open message as 5, this value can be changed.
     int obj_index = 0;
@@ -359,8 +360,8 @@
     obj[obj_index].u.open.path_protection_association = path_protection_assoc;
     obj[obj_index].u.open.srpag_association = srpag_assoc;
     obj[obj_index].u.open.multipath_capability = multipath_capability;
+    obj[obj_index].u.open.disjoint_assoc_capability = disjoint_assoc_capability;
 
-
     obj[++obj_index].type = PCEP_OBJ_VENDOR;
     obj[obj_index].procrule = false;
     obj[obj_index].ignore = true;
Index: layer3/lib/libpcep/object.c
===================================================================
--- layer3/lib/libpcep/object.c	(revision 1333131)
+++ layer3/lib/libpcep/object.c	(working copy)
@@ -230,6 +230,14 @@
         .name = "TLV_ASSOCIATION_TYPE_LIST",
         .fixlen = 0,
     },
+    [TLV_DISJOINT_CONFIGURATION] = {
+        .name = "TLV_DISJOINT_ASSOCIATION_CONFIGURATION",
+        .fixlen = TLV_DISJOINT_CONFIGURATION_FIXED_LEN,
+    },
+    [TLV_DISJOINT_STATUS] = {
+        .name = "TLV_DISJOINT_ASSOCIATION_STATUS",
+        .fixlen = TLV_DISJOINT_STATUS_FIXED_LEN,
+    },
     /*
      * TLV type for TLV_VENDOR_LOCAL_CSPF is same as
      * TLV_SR_CANDIDATE_PATH_IDENTIFIER. So, cannot do length
@@ -632,6 +640,7 @@
     obj->srpag_association = false;
     obj->multipath_capability = false;
     obj->max_segment_list = 1;
+    obj->disjoint_assoc_capability = false;
     return 4;
 }
 
@@ -1363,6 +1372,8 @@
     obj->extended_assoc_id = false; //Default value
     obj->sr_candidate_path_identifier = false; //Default value
     obj->sr_preference = false; //Default value
+    obj->disjoint_config = false;
+    obj->disjoint_status = false;
 
     return 12;
 }
@@ -1404,6 +1415,9 @@
     obj->sr_candidate_path_identifier = false; //Default value
     obj->sr_preference = false; //Default value
 
+    obj->disjoint_config = false;
+    obj->disjoint_status = false;
+
     return 24;
 }
 
@@ -1751,6 +1765,8 @@
         uint16_t data = ntoh_uint16_t(tlv->data + read);
         if (ASSOCIATION_TYPE_PATH_PROTECTION == data) {
             obj->path_protection_association = true;
+        } else if (ASSOCIATION_TYPE_DISJOINT == data) {
+            obj->disjoint_assoc_capability = true;
         } else if (ASSOCIATION_TYPE_SRPAG == data) {
             obj->srpag_association = true;
         }
@@ -1919,7 +1935,7 @@
                         const struct pcep_tlv * const tlv)
 {
     struct pcep_obj_association *obj = ptr;
-    uint32_t read = 0;
+    uint32_t read = 0, disjoint_flags = 0;
     int16_t i = 0;
 
     if (TLV_PATH_PROTECTION_ASSOCIATION == tlv->type) {
@@ -2004,6 +2020,72 @@
         }
         obj->sr_preference = true;
         obj->sr_preference_tlv.preference = ntoh_uint32_t(tlv->data);
+    } else if (TLV_DISJOINT_STATUS == tlv->type) {
+        if (tlv->length != TLV_DISJOINT_STATUS_FIXED_LEN) {
+            log_error(pcep, "Incomplete tlv : malformed "
+                      "Disjoint Status TLV");
+            return true;
+        }
+        disjoint_flags = ntoh_uint32_t(tlv->data);
+        if (disjoint_flags & 0x1) {
+            obj->disjoint_status_tlv.link_disjoint = true;
+        } else {
+            obj->disjoint_status_tlv.link_disjoint = false;
+        }
+        if (disjoint_flags & 0x2) {
+            obj->disjoint_status_tlv.node_disjoint = true;
+        } else {
+            obj->disjoint_status_tlv.node_disjoint = false;
+        }
+        if (disjoint_flags & 0x4) {
+            obj->disjoint_status_tlv.srlg_disjoint = true;
+        } else {
+            obj->disjoint_status_tlv.srlg_disjoint = false;
+        }
+        if (disjoint_flags & 0x8) {
+            obj->disjoint_status_tlv.shortest_path_flag = true;
+        } else {
+            obj->disjoint_status_tlv.shortest_path_flag = false;
+        }
+        if (disjoint_flags & 0x10) {
+            obj->disjoint_status_tlv.stictness_flag = true;
+        } else {
+            obj->disjoint_status_tlv.stictness_flag = false;
+        }
+        obj->disjoint_status = true;
+    } else if (TLV_DISJOINT_CONFIGURATION == tlv->type) {
+        if (tlv->length != TLV_DISJOINT_CONFIGURATION_FIXED_LEN) {
+            log_error(pcep, "Incomplete tlv : malformed "
+                      "Disjoint configuration TLV");
+            return true;
+        }
+        disjoint_flags = ntoh_uint32_t(tlv->data);
+        if (disjoint_flags & 0x1) {
+            obj->disjoint_config_tlv.link_disjoint = true;
+        } else {
+            obj->disjoint_config_tlv.link_disjoint = false;
+        }
+        if (disjoint_flags & 0x2) {
+            obj->disjoint_config_tlv.node_disjoint = true;
+        } else {
+            obj->disjoint_config_tlv.node_disjoint = false;
+        }
+        if (disjoint_flags & 0x4) {
+            obj->disjoint_config_tlv.srlg_disjoint = true;
+        } else {
+            obj->disjoint_config_tlv.srlg_disjoint = false;
+        }
+        if (disjoint_flags & 0x8) {
+            obj->disjoint_config_tlv.shortest_path_flag = true;
+        } else {
+            obj->disjoint_config_tlv.shortest_path_flag = false;
+        }
+        if (disjoint_flags & 0x10) {
+            obj->disjoint_config_tlv.stictness_flag = true;
+        } else {
+            obj->disjoint_config_tlv.stictness_flag = false;
+        }
+        obj->disjoint_config = true;
     } else {
         log_error(pcep, "Unsupported TLV: %d", tlv->type);
     }
@@ -2023,7 +2105,7 @@
                           const struct pcep_tlv * const tlv)
 {
     struct pcep_obj_association_ipv6 *obj = ptr;
-    uint32_t read = 0;
+    uint32_t read = 0, disjoint_flags = 0;
 
     if(TLV_EXTENDED_ASSOCIATION_ID == tlv->type) {
         uint8_t data[TLV_EXTENDED_ASSOC_ID_IPV6_SRPAG_FIXED_LEN];
@@ -2069,6 +2151,72 @@
         }
         obj->sr_preference = true;
         obj->sr_preference_tlv.preference = ntoh_uint32_t(tlv->data);
+    } else if (TLV_DISJOINT_STATUS == tlv->type) {
+        if (tlv->length != TLV_DISJOINT_STATUS_FIXED_LEN) {
+            log_error(pcep, "Incomplete tlv : malformed "
+                      "Disjoint Status TLV");
+            return true;
+        }
+        disjoint_flags = ntoh_uint32_t(tlv->data);
+        if (disjoint_flags & 0x1) {
+            obj->disjoint_status_tlv.link_disjoint = true;
+        } else {
+            obj->disjoint_status_tlv.link_disjoint = false;
+        }
+        if (disjoint_flags & 0x2) {
+            obj->disjoint_status_tlv.node_disjoint = true;
+        } else {
+            obj->disjoint_status_tlv.node_disjoint = false;
+        }
+        if (disjoint_flags & 0x4) {
+            obj->disjoint_status_tlv.srlg_disjoint = true;
+        } else {
+            obj->disjoint_status_tlv.srlg_disjoint = false;
+        }
+        if (disjoint_flags & 0x8) {
+            obj->disjoint_status_tlv.shortest_path_flag = true;
+        } else {
+            obj->disjoint_status_tlv.shortest_path_flag = false;
+        }
+        if (disjoint_flags & 0x10) {
+            obj->disjoint_status_tlv.stictness_flag = true;
+        } else {
+            obj->disjoint_status_tlv.stictness_flag = false;
+        }
+        obj->disjoint_status = true;
+    } else if (TLV_DISJOINT_CONFIGURATION == tlv->type) {
+        if (tlv->length != TLV_DISJOINT_CONFIGURATION_FIXED_LEN) {
+            log_error(pcep, "Incomplete tlv : malformed "
+                      "Disjoint configuration TLV");
+            return true;
+        }
+        disjoint_flags = ntoh_uint32_t(tlv->data);
+        if (disjoint_flags & 0x1) {
+            obj->disjoint_config_tlv.link_disjoint = true;
+        } else {
+            obj->disjoint_config_tlv.link_disjoint = false;
+        }
+        if (disjoint_flags & 0x2) {
+            obj->disjoint_config_tlv.node_disjoint = true;
+        } else {
+            obj->disjoint_config_tlv.node_disjoint = false;
+        }
+        if (disjoint_flags & 0x4) {
+            obj->disjoint_config_tlv.srlg_disjoint = true;
+        } else {
+            obj->disjoint_config_tlv.srlg_disjoint = false;
+        }
+        if (disjoint_flags & 0x8) {
+            obj->disjoint_config_tlv.shortest_path_flag = true;
+        } else {
+            obj->disjoint_config_tlv.shortest_path_flag = false;
+        }
+        if (disjoint_flags & 0x10) {
+            obj->disjoint_config_tlv.stictness_flag = true;
+        } else {
+            obj->disjoint_config_tlv.stictness_flag = false;
+        }
+        obj->disjoint_config = true;
     } else {
         log_error(pcep, "Unsupported TLV: %d", tlv->type);
     }
@@ -2722,6 +2870,10 @@
                 trace(conn, trc_flag_tlv, "TLV Multipath Capability,"
                         " PCE is multipath capable");
             }
+            if (o->disjoint_assoc_capability) {
+                trace(conn, trc_flag_tlv, "TLV Association type list,"
+                        "association type is Disjoint association");
+            }
         }
         break;
     }
@@ -3645,6 +3797,9 @@
                 } else if (data == ASSOCIATION_TYPE_SRPAG){
                     trace(conn, PCEP_TRC_IN_TLVS, "TLV Association type list:"
                         "SRPAG association type is received");
+                } else if (data == ASSOCIATION_TYPE_DISJOINT){
+                    trace(conn, PCEP_TRC_IN_TLVS, "TLV Association type list:"
+                        "Disjoint association type is received");
                 } else {
                     trace(conn, PCEP_TRC_IN_TLVS, "TLV Association type list:"
                         "unknown type: %u is received", data);
@@ -3679,6 +3834,14 @@
                   "max_multi_paths:%u flags: %u", (ntoh_uint16_t(tlv->data) & 0xFFFF),
                   (ntoh_uint32_t(tlv->data) & 0xFFFF));
             break;
+        case TLV_DISJOINT_CONFIGURATION:
+            trace(conn, PCEP_TRC_IN_TLVS, "TLV Disjoint Configuration - flags:u",
+                  ntoh_uint32_t(&tlv->data[0]));
+            break;
+        case TLV_DISJOINT_STATUS:
+            trace(conn, PCEP_TRC_IN_TLVS, "TLV Disjoint Status - flags:u",
+                  ntoh_uint32_t(&tlv->data[0]));
+            break;
         default:
             trace(conn, PCEP_TRC_IN_TLVS, "Unsupported TLV type %u", tlv->type);
             break;
@@ -4235,8 +4398,9 @@
 }
 
 static uint16_t
-tlv_assoc_type_list_data_len(bool path_protection_assoc,
-                bool srpag_assoc)
+tlv_assoc_type_list_data_len (bool path_protection_assoc,
+                              bool srpag_assoc,
+                              bool disjoint_assoc_capability)
 {
     uint16_t data_len = 0;
 
@@ -4246,6 +4410,9 @@
     if (srpag_assoc) {
         data_len +=2;
     }
+    if (disjoint_assoc_capability) {
+        data_len +=2;
+    }
 
     return data_len;
 }
@@ -4348,7 +4515,8 @@
     {
         size_t assoc_type_list_data_len = tlv_assoc_type_list_data_len(
                                 obj->u.open.path_protection_association,
-                                obj->u.open.srpag_association);
+                                obj->u.open.srpag_association,
+                                obj->u.open.disjoint_assoc_capability);
         if (assoc_type_list_data_len != 0) {
             size_t padding_len = 0;
             ret += 4; /** Type + Length = 4 */
@@ -4415,6 +4583,9 @@
         /** optional TLV length */
         if (obj->u.association.path_protection)
             ret += 8;
+        if (obj->u.association.disjoint_config) {
+            ret += 8;
+        }
         if ((obj->u.association.association_type != ASSOCIATION_TYPE_SRPAG) &&
                 (obj->u.association.extended_assoc_id))
             ret += 8;
@@ -4430,6 +4601,9 @@
         ret += 24;  /** Association object length */
 
         /** optional TLV length */
+        if (obj->u.association.disjoint_config) {
+            ret += 8;
+        }
         if (obj->u.association_ipv6.extended_assoc_id)
             ret += 24;
         if (obj->u.association_ipv6.sr_candidate_path_identifier)
@@ -4913,20 +5087,24 @@
  */
 static bool
 send_tlv_assoc_type_list (struct pcep_conn *conn, bool path_protection_assoc,
-                bool srpag_assoc)
+                          bool srpag_assoc, bool disjoint_assoc_capability)
 {
     uint16_t data_len = 0;
-    uint8_t buf[4] = {0,0,0,0};
+    uint8_t buf[8] = {0,0,0,0,0,0,0,0};
     uint8_t itr = 0;
+    size_t padding_len = 0;
 
     data_len = tlv_assoc_type_list_data_len(path_protection_assoc,
-                                                srpag_assoc);
-    if (data_len == 0)
+                                            srpag_assoc, disjoint_assoc_capability);
+    if (data_len == 0) {
         return false;
-
+    }
+    padding_len = ((data_len % 4) != 0) ?
+                     (4 - (data_len % 4)) : 0;
     if (send_tlv_header(conn, TLV_ASSOCIATION_TYPE_LIST, data_len))
         return true;
 
+    data_len += padding_len;
     if (path_protection_assoc) {
         buf[itr++] = ((ASSOCIATION_TYPE_PATH_PROTECTION >> 8) & 0xFF);
         buf[itr++] = (ASSOCIATION_TYPE_PATH_PROTECTION & 0xFF);
@@ -4936,7 +5114,12 @@
         buf[itr++] = ((ASSOCIATION_TYPE_SRPAG >> 8) & 0xFF);
         buf[itr++] = (ASSOCIATION_TYPE_SRPAG & 0xFF);
     }
-    if(pcep_conn_send(conn, &buf, 4))
+
+    if (disjoint_assoc_capability) {
+        buf[itr++] = ((ASSOCIATION_TYPE_DISJOINT >> 8) & 0xFF);
+        buf[itr++] = (ASSOCIATION_TYPE_DISJOINT & 0xFF);
+    }
+    if(pcep_conn_send(conn, &buf, data_len))
         return true;
 
     trace(conn, PCEP_TRC_IN_TLVS, "send assoc type list TLV, data_len = %d",
@@ -4980,6 +5163,45 @@
     return false;
 }
 
+static bool
+send_tlv_disjoint_assoc_conf_tlv (struct pcep_conn                                  *conn,
+                                  const struct pcep_obj_disjoint_configuration_tlv  *tlv)
+{
+    uint32_t buf = 0;
+
+    if (send_tlv_header(conn, TLV_DISJOINT_CONFIGURATION,
+                        TLV_DISJOINT_CONFIGURATION_FIXED_LEN)) {
+        return true;
+    }
+
+    if (tlv->link_disjoint) {
+        buf = buf | 0x1;
+    }
+    if (tlv->node_disjoint) {
+        buf = buf | 0x2;
+    }
+    if (tlv->srlg_disjoint) {
+        buf = buf | 0x4;
+    }
+    if (tlv->shortest_path_flag) {
+        buf = buf | 0x8;
+    }
+    if (tlv->stictness_flag) {
+        buf = buf | 0x10;
+    }
+
+    trace(conn, PCEP_TRC_IN_TLVS, "sending disjoint config tlv:"
+          "link: %u, node: %u, srlg: %u, shortest_path: %u, strictness: %u",
+          tlv->link_disjoint, tlv->node_disjoint, tlv->srlg_disjoint,
+          tlv->shortest_path_flag, tlv->stictness_flag);
+
+    if (pcep_send_uint(conn, buf)) {
+        return true;
+    }
+
+    return false;
+}
+
 /**
  * Send extended association ID TLV
  *
@@ -6366,7 +6588,8 @@
             if (o->pce_flowspec_capability && send_tlv_pce_flowspec_capability(conn))
                 return true;
             if (send_tlv_assoc_type_list (conn, o->path_protection_association,
-                                         o->srpag_association))
+                                          o->srpag_association,
+                                          o->disjoint_assoc_capability))
                 return true;
             if (o->multipath_capability && 
                 send_tlv_multipath_capability(conn, PCEP_MAX_COMPUTED_SEGMENT_LIST)) {
@@ -6569,6 +6792,12 @@
             }
         }
 
+        if (o->disjoint_config) {
+            if (send_tlv_disjoint_assoc_conf_tlv(conn, &o->disjoint_config_tlv)) {
+                return true;
+            }
+        }
+
         if (o->extended_assoc_id) {
             if (send_tlv_extended_assoc_id(conn,&o->extended_assoc_id_tlv)) {
                 return true;
@@ -6627,6 +6856,12 @@
             }
         }
 
+        if (o->disjoint_config) {
+            if (send_tlv_disjoint_assoc_conf_tlv(conn, &o->disjoint_config_tlv)) {
+                return true;
+            }
+        }
+
         return false;
     }
     case PCEP_OBJ_VENDOR:
Index: layer3/lib/librpd/h/jnx/librpd/lspinfo.h
===================================================================
--- layer3/lib/librpd/h/jnx/librpd/lspinfo.h	(revision 1333131)
+++ layer3/lib/librpd/h/jnx/librpd/lspinfo.h	(working copy)
@@ -52,6 +52,8 @@
 #define LSPING_CMD_SRV6 0x2
 #endif
 
+#define DIVERSITY_ASSOC_GROUP_NAME_MAX 64
+#define MAX_DISJOINT_ASSOC_INFO 8
 
 /*
  * rspv_lspmon_info_t
@@ -1093,6 +1095,10 @@
 
     EXTCTRL_TLV_ACTUAL_METRIC,
 
+    EXTCTRL_TLV_DISJOINT_ASSOC_INFO,
+
+    EXTCTRL_TLV_DISJOINT_ASSOC_INFO_COUNT,
+
     EXTCTRL_TLV_MAX,
 
 } extctrl_tlv_type;
@@ -1428,6 +1434,32 @@
 }rpd_sr_srpag_t;
 
 /*
+ * This structure holds the disjoint configuration flags
+ * and disjoint status flags for PCEP messages.
+ * Both DISJOINTNESS-CONFIGURATION TLV & DISJOINTNESS-STATUS TLV
+ * Carries the flag
+ */
+typedef struct rpd_disjoint_assoc_info_s {
+    boolean link_diverse;
+    boolean node_diverse;
+    boolean srlg_diverse;
+    boolean strictness;
+    boolean shortest_first;
+} rpd_disjoint_assoc_info_t;
+
+/*
+ * Below structure carries single block of data for
+ * both disjoint association and disjoint configuration
+ * information
+ */
+typedef struct rpd_disjoint_assoc_block_s {
+    boolean                    assoc_conf_info_valid;
+    rpd_disjoint_assoc_info_t  assoc_conf_info;
+    boolean                    assoc_status_info_valid;
+    rpd_disjoint_assoc_info_t  assoc_status_info;
+} rpd_disjoint_assoc_block_t;
+
+/*
  * Flags used in the field lsp_flags.
  *
  * TAG_EXTCTRL_LSP_FLAGS_DELETE
@@ -1443,9 +1475,12 @@
     LSP_ASSOCIATION_TYPE_PROTECTION = 1U,
     LSP_ASSOCIATION_TYPE_TE_PLUSPLUS,
     LSP_ASSOCIATION_TYPE_SRPAG,
-    LSP_ASSOCIATION_TYPE_MAX,
+    LSP_ASSOCIATION_TYPE_DISJOINT,
+    LSP_ASSOCIATION_ALL_TYPE_MAX,
 }lsp_association_type;
 
+#define LSP_ASSOCIATION_TYPE_MAX (LSP_ASSOCIATION_ALL_TYPE_MAX-1)
+
 typedef struct {
     char      name[RPD_LSP_NAME_SIZE+1];
     u_int8_t  setup_prio;
@@ -1463,10 +1498,13 @@
     uint32_t               assoc_grp_id;
     lsp_association_type   assoc_type;
     uint8_t                assoc_flags;
-    ip_addr_t assoc_source_u;
-    boolean                   is_assoc_src_ipv6;
-    rpd_sr_srpag_t         sr_srpag_t;
-}lsp_association_info;
+    ip_addr_t              assoc_source_u;
+    boolean                is_assoc_src_ipv6;
+    union {
+        rpd_sr_srpag_t              sr_srpag_t;
+        rpd_disjoint_assoc_block_t  disjoint_assoc_list;
+    };
+} lsp_association_info;
 
 typedef struct lsp_binding_sid_s {
     u_int16_t binding_type;
@@ -1572,6 +1610,9 @@
 #define RPD_GET_OPT_METRIC_LIST_SIZE(metric_count) \
     (sizeof(metric_type_list_t) + (metric_count * sizeof(uint8_t)))
 
+#define RPD_GET_DIV_ASSOC_GRP_SIZE(count) \
+    (count * (sizeof(lsp_association_info)))
+
 /* Below data structure will be used for communication for PCCD and RPD
  * Make sure padding is proper on different CPU architectures
  */
@@ -1612,7 +1653,14 @@
     u_int32_t error_spec_obj_len;
     u_int16_t assoc_requested;
     u_int16_t num_assoc_info;
+    /*
+     * Size of assoc_info is set to value less than LSP_ASSOCIATION_TYPE_ALL_MAX because
+     * disjoint association information is save in different variable since
+     * number of disjoint groups is upto 8 groups.
+     */
     lsp_association_info  assoc_info[LSP_ASSOCIATION_TYPE_MAX];
+    lsp_association_info *div_assoc_info;
+    u_int32_t div_assoc_info_count;
     boolean   metric_valid;
     u_int32_t metric;                /* Route metric */
     u_int16_t num_paths;
Index: layer3/usr.sbin/pccd/odl/pccd/pccd.odl
===================================================================
--- layer3/usr.sbin/pccd/odl/pccd/pccd.odl	(revision 1333131)
+++ layer3/usr.sbin/pccd/odl/pccd/pccd.odl	(working copy)
@@ -71,6 +71,14 @@
         type string;
         help "PCC-multipath status";
     }
+    tag pce-disjoint-association {
+        type string;
+        help "PCE-disjoint-association status";
+    }
+    tag pcc-disjoint-association {
+        type string;
+        help "PCC-disjoint-association status";
+    }
 	tag pce-max-unknown-msgs {
 		type int;
 		help "A small but friendly message";
@@ -174,6 +182,8 @@
     PCE Traffic Steering     : @
     PCE Multipath Capable    : @
     PCC Multipath Capable    : @
+    PCE Diversity-Association Capable    : @
+    PCC Diversity-Association Capable    : @
     Max unknown messages     : @
     Keepalives received      : @
     Keepalives sent          : @
@@ -246,6 +256,12 @@
         line {
             field pcc-multipath;
         }
+        line {
+            field pce-disjoint-association;
+        }
+        line {
+            field pcc-disjoint-association;
+        }
 		line { 
 			field pce-max-unknown-msgs;
 		}
@@ -851,6 +867,53 @@
                 }
             }
         }
+        tag dag-association-entry {
+            tag config-disjoint-type {
+                type string;
+            }
+            tag config-strict {
+                type string;
+            }
+            tag config-shortest-path {
+                type string;
+            }
+            tag status-disjoint-type {
+                type string;
+            }
+            tag status-strict {
+                type string;
+            }
+            tag status-shortest-path {
+                type string;
+            }
+            format dag-association-entry-format {
+                picture"
+                Configured-disjoint-type       : @
+                Configured-Strictness          : @
+                Configured-Shortest-path-flag  : @
+                Actual-disjoint-type           : @
+                Actual-Strictness              : @
+                Actual-Shortest-path-flag      : @";
+                line {
+                    field config-disjoint-type;
+                }
+                line {
+                    field config-strict;
+                }
+                line {
+                    field config-shortest-path;
+                }
+                line {
+                    field status-disjoint-type;
+                }
+                line {
+                    field status-strict;
+                }
+                line {
+                    field status-shortest-path;
+                }
+            }
+        }
         format lsp-association-entry-format {
             header "LSP Association:\\n        Association-type                Association ID    Association Source\\n";
             picture                   "        @<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< @<<<<<<<<<<<<<<<< @<<<<<<<<<<<<<<";
@@ -1983,6 +2046,12 @@
         tag tlv-vendor-route-metric {
             type uint;
         }
+        tag tlv-disjoint-configuration {
+            type uint;
+        }
+        tag tlv-disjoint-status {
+            type uint;
+        }
     }
     format pcc-tlv-types-format {
        header "\\nTLV types and associated values:\\n";
@@ -2017,7 +2086,9 @@
     TLV PATH ATTRIBUTE COLOR         : @
     TLV PCE FLOWSPEC CAPABILITY      : @
     TLV FLOWSPEC FLOWFILTER          : @
-    TLV VENDOR ROUTE METRIC          : @";
+    TLV VENDOR ROUTE METRIC          : @
+    TLV DISJOINT CONFIGURATION       : @
+    TLV DISJOINT STATUS              : @";
         line {
             field tlv-no-path-vector;
         }
@@ -2111,6 +2182,12 @@
         line {
             field tlv-vendor-route-metric;
         }
+        line {
+            field tlv-disjoint-configuration;
+        }
+        line {
+            field tlv-disjoint-status;
+        }
     }
 }
 
Index: layer3/usr.sbin/pccd/pccd_core.h
===================================================================
--- layer3/usr.sbin/pccd/pccd_core.h	(revision 1333131)
+++ layer3/usr.sbin/pccd/pccd_core.h	(working copy)
@@ -35,6 +35,7 @@
 
 extern bool rfc8231_compliant;
 extern bool multipath_enabled;
+extern bool disjoint_association_enabled;
 
 struct pccd_rpd_lsp_info;
 struct lsp_intended_attr_s;
@@ -160,6 +161,7 @@
     uint16_t                    pco_num_multipaths;
     bool                        pco_tls_enabled;
     uint8_t                     pco_tls_wait_timer;
+    bool                        pco_disjoint_assoc_capability;
 };
 #define pco_empty_ero_send_err            pco_empty_ero_action.pceea_send_err
 #define pco_empty_ero_path_tear_down      pco_empty_ero_action.pceea_path_tear_down
@@ -207,6 +209,7 @@
     bool                     pce_multipath_capability;
     uint16_t                 pce_num_multipaths;
     bool                     pce_tls_enabled;
+    bool                     pce_disjoint_assoc_capability;
     /* tracing TBD */
 
     pcePcepEntityTable_data_t *entity_table;
@@ -492,6 +495,9 @@
 pccd_set_multipath_capability(bool value);
 
 void
+pccd_set_disjoint_assoc_capability(bool value);
+
+void
 pccd_set_maxsegment_list_propagation(bool value);
 
 void
Index: layer3/usr.sbin/pccd/pccd_rpd.h
===================================================================
--- layer3/usr.sbin/pccd/pccd_rpd.h	(revision 1333131)
+++ layer3/usr.sbin/pccd/pccd_rpd.h	(working copy)
@@ -218,7 +218,14 @@
     } extended_tunnel_id;
     u_int32_t       context;    /* SPRING is sending tunnel id(32 bit) as context */
     u_int16_t       num_assoc_info;
+    /*
+     * Size of assoc_info is set to value less than LSP_ASSOCIATION_TYPE_ALL_MAX because
+     * disjoint association information is save in different variable since
+     * number of disjoint groups is upto 8 groups.
+     */
     lsp_association_info assoc_info[LSP_ASSOCIATION_TYPE_MAX];
+    lsp_association_info *div_assoc_info;
+    uint32_t        div_assoc_info_count;
     u_int32_t       metric;
     u_int16_t       num_paths;
     u_int16_t       assoc_requested;
Index: layer3/usr.sbin/pccd/pccd_rpd.c
===================================================================
--- layer3/usr.sbin/pccd/pccd_rpd.c	(revision 1333131)
+++ layer3/usr.sbin/pccd/pccd_rpd.c	(working copy)
@@ -14,6 +14,7 @@
 #include <inttypes.h>
 #include <string.h>
 #include <sys/queue.h>
+#include <syslog.h>
 
 #define PROTO_UNIX
 #include <jnx/jsockaddr.h>
@@ -46,6 +47,13 @@
 #include "pccd_radix.h"
 #include "pccd_mirror.h"
 
+typedef enum pcupd_dag_operation_e_ {
+    PCUPD_DAG_OP_NONE,
+    PCUPD_DAG_OP_ADD,
+    PCUPD_DAG_OP_UPD,
+    PCUPD_DAG_OP_DEL,
+    PCUPD_DAG_OP_MAX,
+} pcupd_dag_operation_e;
 
 static rbroot* lspid_tree = NULL;
 static rbroot *p2mp_tree = NULL;
@@ -443,6 +451,15 @@
 }
 
 static void
+pccd_rpd_free_lsp_div_assoc_info (struct pccd_rpd_lsp_info *lsp)
+{
+    if (lsp->div_assoc_info) {
+        free(lsp->div_assoc_info);
+        lsp->div_assoc_info = NULL;
+    }
+}
+
+static void
 pccd_rpd_free_lsp_buffers(struct pccd_rpd_lsp_info *lsp)
 {
     if (lsp->ero_info) {
@@ -733,6 +750,7 @@
             /* NSR End */
 
             pccd_rpd_free_lsp_buffers(&lsp->lsp_info);
+            pccd_rpd_free_lsp_div_assoc_info(&lsp->lsp_info);
             pccd_rpd_free_pce_proposed_ero(&lsp->lsp_info);
             pccd_rpd_free_intended_metric(&lsp->lsp_info);
             pccd_rpd_free_actual_metric(&lsp->lsp_info);
@@ -1254,7 +1272,7 @@
     }
 }
 
-#define PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN 200
+#define PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN 1024
 static void
 pccd_rpd_debug_lsp_info (const char* custom_prefix_msg,
 			 const	     rpd_extctrl_lsp_config_status_info_t *info)
@@ -1261,7 +1279,8 @@
 {
     char	   assoc_str[PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN] = {0};
     char src[INET6_ADDRSTRLEN], dest[INET6_ADDRSTRLEN];
-    u_int32_t count = 0;
+    u_int32_t count = 0, div_count = 0;
+    const rpd_disjoint_assoc_block_t *dag_info=NULL;
 
     memset(src, 0, INET6_ADDRSTRLEN);
     memset(dest, 0, INET6_ADDRSTRLEN);
@@ -1353,18 +1372,45 @@
 		  count, info->assoc_info[count].assoc_grp_id);
 
 	if (info->assoc_info[count].assoc_flags & LSP_PATH_TYPE_PRIMARY) {
-	    snprintf(assoc_str + strlen(assoc_str),
-		    PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN,
+	    snprintf(assoc_str + strnlen(assoc_str, PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN),
+		    PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN-1,
 		    "-pri path-");
 	}
 	if (info->assoc_info[count].assoc_flags & LSP_PATH_TYPE_SECONDARY) {
-	    snprintf(assoc_str + strlen(assoc_str),
-		    PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN,
+	    snprintf(assoc_str + strnlen(assoc_str, PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN),
+		    PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN-1,
 		    "-sec path-");
 	}
 	count++;
     }
 
+    while (div_count < info->div_assoc_info_count) {
+        dag_info = &info->div_assoc_info[div_count].disjoint_assoc_list;
+        if (dag_info->assoc_conf_info_valid) {
+            snprintf(assoc_str + strnlen(assoc_str, PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN),
+                    PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN-1,
+                    " (div-assoc-conf-group-%u-conf-flags -%u %u %u %u %u- )",
+                    info->div_assoc_info[div_count].assoc_grp_id,
+                    dag_info->assoc_conf_info.link_diverse,
+                    dag_info->assoc_conf_info.node_diverse,
+                    dag_info->assoc_conf_info.srlg_diverse,
+                    dag_info->assoc_conf_info.strictness,
+                    dag_info->assoc_conf_info.shortest_first);
+        }
+        if (dag_info->assoc_status_info_valid) {
+            snprintf(assoc_str + strnlen(assoc_str, PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN),
+                    PCCD_RPD_DEBUG_LSP_INFO_ASSOC_OBJ_MAX_LEN-1,
+                    " (div-assoc-status-group-%u-status-flags -%u %u %u %u %u- )",
+                    info->div_assoc_info[div_count].assoc_grp_id,
+                    dag_info->assoc_status_info.link_diverse,
+                    dag_info->assoc_status_info.node_diverse,
+                    dag_info->assoc_status_info.srlg_diverse,
+                    dag_info->assoc_status_info.strictness,
+                    dag_info->assoc_status_info.shortest_first);
+        }
+        div_count++;
+    }
+
     TRACE_RPD("    path_flags(%s) new AuBw(%"PRIu64"bps) #paths(%d) assoc(%s)"
 	    "local_cspf(%"PRIu8")",
 	    pccd_rpd_lsp_path_flags_get_string(info->path_flags),
@@ -1648,6 +1694,7 @@
     }
 
     pccd_rpd_free_lsp_buffers(&rpd_lsp->lsp_info);
+    pccd_rpd_free_lsp_div_assoc_info(&rpd_lsp->lsp_info);
     pccd_rpd_free_pce_proposed_ero(&rpd_lsp->lsp_info);
     pccd_rpd_free_intended_metric(&rpd_lsp->lsp_info);
     pccd_rpd_free_actual_metric(&rpd_lsp->lsp_info);
@@ -1705,6 +1752,25 @@
 }
 
 static bool
+pccd_rpd_ignore_rpd_dag_info (const u_int8_t  current_control_status,
+                              const u_int8_t  new_control_status,
+                              const u_int16_t type)
+{
+    if (current_control_status == new_control_status) {
+        if (LSP_EXTERNALLY_CONTROLLED == new_control_status) {
+            return true;
+        }
+    }
+
+    if ((LSP_TYPE_EXTERNALLY_PROVISIONED == type) &&
+        (LSP_EXTERNALLY_CONTROLLED == new_control_status)) {
+        return true;
+    }
+
+    return false;
+}
+
+static bool
 pccd_rpd_ignore_rpd_bound_metric(const uint8_t rpd_bound_metric_type, const u_int8_t new_control_status)
 {
     if (((RPD_LSP_METRIC_TYPE_IGP == rpd_bound_metric_type) ||
@@ -1728,11 +1794,12 @@
     bool is_p2mp_lsp = FALSE;
     const lsp_type_info_t *lsp_type_info = NULL;
     bool ignore_rpd_metric = FALSE;
+    bool ignore_rpd_dag_info = FALSE;
     int i = 0;
 
     INSIST_ERR(lsp != NULL);
     INSIST_ERR(info != NULL);
-
+ 
     lsp_type_info = &info->lsp_type_info;
     lsp->is_lsp_src_dst_addr_type_ipv6 = info->is_lsp_src_dst_addr_type_ipv6;
 
@@ -1775,6 +1842,7 @@
     }
 
     ignore_rpd_metric = pccd_rpd_ignore_rpd_metric(lsp->control_status, info->control_status, info->type);
+    ignore_rpd_dag_info = pccd_rpd_ignore_rpd_dag_info(lsp->control_status, info->control_status, info->type);
     lsp->control_status = info->control_status;
     lsp->lsp_flags = info->lsp_flags;
     lsp->path_flags = info->path_flags;
@@ -1853,10 +1921,10 @@
             lsp->assoc_info[i].assoc_source_u.v4 = info->assoc_info[i].assoc_source_u.v4;
         } else {
             memcpy(lsp->assoc_info[i].assoc_source_u.v6,
-                    info->assoc_info[i].assoc_source_u.v6, 16);
+                   info->assoc_info[i].assoc_source_u.v6, 16);
         }
 
-        /** If association source is not present ,set local IP address 
+        /** If association source is not present ,set local IP address
           * as association source
           */
         if ((!info->assoc_info[i].is_assoc_src_ipv6) &&
@@ -1869,6 +1937,74 @@
         }
         i++;
     }
+
+    /*
+     * Diversity Association Processing
+     */
+    if (!ignore_rpd_dag_info) {
+        TRACE_RPD("DAG: processing received dag info. type %u control status %u",
+                  info->type, info->control_status);
+        if (info->type == LSP_TYPE_EXTERNALLY_PROVISIONED) {
+            if (lsp->div_assoc_info_count == 0) {
+                if (info->div_assoc_info_count == 0) {
+                    TRACE_RPD("DAG: No diversity assoc info in both pccd and input msg");
+                } else {
+                    TRACE_RPD("DAG: No exiting diversity assoc info, Updating new info");
+                    pccd_rpd_free_lsp_div_assoc_info(lsp);
+                    lsp->div_assoc_info_count = info->div_assoc_info_count;
+                    lsp->div_assoc_info = info->div_assoc_info;
+                }
+            } else {
+                if (info->div_assoc_info_count == 0) {
+                    TRACE_RPD("DAG: Existing diversity association info, new update is empty, doing nothing");
+                } else {
+                    TRACE_RPD("DAG: Existing diversity association info, overwriting new info. "
+                              "Unexpected behaviour for an externally provisioned LSP");
+                    pccd_rpd_free_lsp_div_assoc_info(lsp);
+                    lsp->div_assoc_info_count = info->div_assoc_info_count;
+                    lsp->div_assoc_info = info->div_assoc_info;
+                }
+            }
+        } else if (info->type == LSP_TYPE_EXTERNALLY_CONTROLLED) {
+            if (lsp->div_assoc_info_count == 0) {
+                if (info->div_assoc_info_count == 0) {
+                    TRACE_RPD("DAG: No diversity assoc info in both pccd and input");
+                } else {
+                    TRACE_RPD("DAG: No exiting diversity assoc info, "
+                              "seeing diversity assoc info for first time. Saving values");
+                    pccd_rpd_free_lsp_div_assoc_info(lsp);
+                    lsp->div_assoc_info_count = info->div_assoc_info_count;
+                    lsp->div_assoc_info = info->div_assoc_info;
+                }
+            } else {
+                if (info->div_assoc_info_count == 0) {
+                    TRACE_RPD("DAG: Existing diversity association info, "
+                              "update is empty. Removing old info");
+                    pccd_rpd_free_lsp_div_assoc_info(lsp);
+                    lsp->div_assoc_info_count = 0;
+                    lsp->div_assoc_info = NULL;
+                } else {
+                    TRACE_RPD("DAG: Existing diversity association info, seeing changes in current update. "
+                              "Ignoring updates as LSP is already delegated. New changes are not accepted");
+                }
+            }
+        } else if (info->type == LSP_TYPE_CLI_REGULAR_SIGNALLED) {
+            uint32_t count = 0;
+            while (count < lsp->div_assoc_info_count) {
+                lsp->div_assoc_info[count].assoc_flags = 1;
+                count++;
+            }
+            TRACE_RPD("DAG: LSP Delegation is removed. cleaning up dag info");
+        }
+    } else {
+        TRACE_RPD("DAG: Ignoring the diversity association in received message");
+        if (info->div_assoc_info) {
+            rpd_extctrl_lsp_config_status_info_t *info_cpy = (rpd_extctrl_lsp_config_status_info_t *) info;
+            free(info_cpy->div_assoc_info);
+            info_cpy->div_assoc_info = NULL;
+            info_cpy->div_assoc_info_count = 0;
+        }
+    }
     
     lsp->path_priority = info->path_priority;
     lsp->auto_bandwidth = info->auto_bandwidth;
@@ -2337,7 +2473,7 @@
 pccd_rpd_pcreq_is_notify_controller(struct pccd_rpd_lsp_info *lsp,
                                     const rpd_extctrl_lsp_config_status_info_t *info)
 {
-    int i = 0;
+    uint32_t i = 0;
 
     if (lsp == NULL) return true;
 
@@ -2466,6 +2602,69 @@
             return true;
         i++;
     }
+    i = 0;
+    if (!pccd_rpd_ignore_rpd_dag_info(lsp->control_status, info->control_status, info->type)) {
+        if (info->div_assoc_info_count != lsp->div_assoc_info_count) {
+            return true;
+        }
+        while (i < info->div_assoc_info_count) {
+            if (info->div_assoc_info[i].assoc_grp_id != lsp->div_assoc_info[i].assoc_grp_id) {
+                return true;
+            }
+            if (info->div_assoc_info[i].is_assoc_src_ipv6 != lsp->div_assoc_info[i].is_assoc_src_ipv6) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info_valid !=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info_valid) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_status_info_valid !=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_status_info_valid) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_status_info.link_diverse !=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_status_info.link_diverse) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_status_info.node_diverse!=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_status_info.node_diverse) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_status_info.srlg_diverse!=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_status_info.srlg_diverse) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_status_info.strictness !=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_status_info.strictness) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_status_info.shortest_first !=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_status_info.shortest_first) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info.link_diverse !=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info.link_diverse) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info.node_diverse!=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info.node_diverse) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info.srlg_diverse!=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info.srlg_diverse) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info.strictness !=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info.strictness) {
+                return true;
+            }
+            if (info->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info.shortest_first !=
+                    lsp->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info.shortest_first) {
+                return true;
+            }
+            i++;
+        }
+    }
 
     if (lsp->metric != info->metric) return true;
     if (lsp->num_paths != info->num_paths) return true;
@@ -2664,7 +2863,6 @@
         is_p2mp_lsp = (info->path_flags & LSP_PATH_TYPE_P2MP);
         name_tree_key = pccd_rpd_create_name_tree_key(lsp_type_info->setup_type, 
                                             lsp_type_info->sub_type, is_p2mp_lsp);
-
         if (LSP_TYPE_EXTERNALLY_PROVISIONED != info->type) {
             if(!rpd_lsp) {
                 pccd_rpd_handle_name_conflict(handle, ctx, &name_tree_key,
@@ -3082,6 +3280,7 @@
         pccd_rpd_decrement_lsp_count();
     }
     pccd_rpd_free_lsp_buffers(rpd_lsp);
+    pccd_rpd_free_lsp_div_assoc_info(rpd_lsp);
     pccd_rpd_free_pce_proposed_ero(rpd_lsp);
     pccd_rpd_free_intended_metric(rpd_lsp);
     pccd_rpd_free_actual_metric(rpd_lsp);
@@ -3290,6 +3489,7 @@
                     }
                     pccd_rpd_decrement_lsp_count();
                     pccd_rpd_free_lsp_buffers(&rpd_lsp->lsp_info);
+                    pccd_rpd_free_lsp_div_assoc_info(&rpd_lsp->lsp_info);
                     pccd_rpd_free_pce_proposed_ero(&rpd_lsp->lsp_info);
                     pccd_rpd_free_intended_metric(&rpd_lsp->lsp_info);
                     pccd_rpd_free_actual_metric(&rpd_lsp->lsp_info);
@@ -3358,6 +3558,7 @@
                     }
                     pccd_rpd_decrement_lsp_count();
                     pccd_rpd_free_lsp_buffers(&rpd_lsp->lsp_info);
+                    pccd_rpd_free_lsp_div_assoc_info(&rpd_lsp->lsp_info);
                     pccd_rpd_free_pce_proposed_ero(&rpd_lsp->lsp_info);
                     pccd_rpd_free_intended_metric(&rpd_lsp->lsp_info);
                     pccd_rpd_free_actual_metric(&rpd_lsp->lsp_info);
@@ -3866,6 +4067,255 @@
     TRACE_FUNCTION_RETURN(PCCD_RET_SUCCESS);
 }
 
+/**
+ *@brief
+ * Update the divversity assoication information for the LSP when a PCUpd is received
+ * In case of unexpected operations, ignore the updates in the messagge
+ *
+ *@param[in] rpd_lsp
+ *  lsp information in PCCD
+ *@param[in] info
+ *  lsp information received in the PCUpd
+ *
+ *@return
+ *  none
+ */
+static void
+pccd_rpd_update_divassoc_info (struct pccd_rpd_lsp_info             *rpd_lsp,
+                               rpd_extctrl_lsp_config_status_info_t *info)
+{
+    uint32_t              count = 0, lsp_counter = 0, add_counter = 0, delete_counter = 0, temp_count = 0;
+    uint32_t              update_counter = 0;
+    boolean               assoc_to_delete = false, assoc_to_update = false;
+    lsp_association_info *temp = NULL;
+    uint32_t              upd_pos[8] = {0,0,0,0,0,0,0,0};
+    uint32_t              cur_pos[8]  = {0,0,0,0,0,0,0,0};
+
+    TRACE_RPD("DAG: PCUpd - current div-assoc-count in pccd %u, div_assoc incoming count %u",
+              rpd_lsp->div_assoc_info_count, info->div_assoc_info_count);
+    /*
+     * 1. Parse through the received dag_info in PCUpd and identify the count of
+     *    association entries to be added or deleted or modified
+     */
+    while (count < info->div_assoc_info_count) {
+        if (info->div_assoc_info[count].assoc_flags == 1) {
+            lsp_counter = 0;
+            assoc_to_delete = false;
+            while (lsp_counter < rpd_lsp->div_assoc_info_count) {
+                if (info->div_assoc_info[count].assoc_grp_id ==
+                                            rpd_lsp->div_assoc_info[lsp_counter].assoc_grp_id) {
+                    rpd_lsp->div_assoc_info[lsp_counter].assoc_flags = 1;
+                    assoc_to_delete = true;
+                    cur_pos[lsp_counter] = PCUPD_DAG_OP_DEL;
+                    delete_counter++;
+                    break;
+                }
+                lsp_counter++;
+            }
+            if (assoc_to_delete == false) {
+                TRACE_RPD("DAG: association group to be delete is not found. Ignoring the DAG updates");
+                return;
+            }
+            upd_pos[count] = PCUPD_DAG_OP_DEL;
+        } else {
+            lsp_counter = 0;
+            assoc_to_update = false;
+            while (lsp_counter < rpd_lsp->div_assoc_info_count) {
+                if (info->div_assoc_info[count].assoc_grp_id ==
+                                             rpd_lsp->div_assoc_info[lsp_counter].assoc_grp_id) {
+                    assoc_to_update = true;
+                    break;
+                }
+                lsp_counter++;
+            }
+            if (assoc_to_update) {
+                update_counter++;
+                cur_pos[lsp_counter] = PCUPD_DAG_OP_UPD;
+                upd_pos[count] = PCUPD_DAG_OP_UPD;
+            } else {
+                add_counter++;
+                upd_pos[count] = PCUPD_DAG_OP_ADD;
+            }
+        }
+        count++;
+    }
+    TRACE_RPD("DAG: %s - div-assoc groups to be added: %u modified: %u deleted:%u", info->name,
+              add_counter, update_counter, delete_counter);
+
+    /*
+     * 2. If delete entries are found in the association obj, delete the entries in dag_info in 
+     *    pccd structure
+     *    a) if all the entries in pccd structure are to be deleted, delete all the stored entries
+     *       and add the new entries in received message
+     *    b) if more entries are to be deleted than the info count in pccd, ignore the message
+     *    c) if only a subset of entries are to be deleted, delete specific entries and add the 
+     *       new entries
+     */
+    if (delete_counter) {
+        if (rpd_lsp->div_assoc_info_count == delete_counter) {
+            pccd_rpd_free_lsp_div_assoc_info(rpd_lsp);
+            rpd_lsp->div_assoc_info_count = 0;
+            /*
+             * Add the entries received in PCUpd
+             */
+            if (update_counter) {
+                TRACE_RPD("DAG: Unexpected update counter %u. Ignoring update operations", update_counter);
+            }
+            temp = NULL;
+            if (add_counter) {
+                temp = xmalloc(sizeof(lsp_association_info) * add_counter);
+                count  = 0;
+                temp_count = 0;
+                while (count < info->div_assoc_info_count) {
+                    if (upd_pos[count] == PCUPD_DAG_OP_DEL) {
+                        count++;
+                        continue;
+                    }
+                    memcpy(&temp[temp_count].assoc_grp_id,
+                           &info->div_assoc_info[count].assoc_grp_id,
+                           sizeof(lsp_association_info));
+                    count++;
+                    temp_count++;
+                }
+            }
+            rpd_lsp->div_assoc_info = temp;
+            rpd_lsp->div_assoc_info_count = add_counter;
+            return;
+        } else if (delete_counter > rpd_lsp->div_assoc_info_count) {
+            TRACE_RPD("DAG: more delete assoc groups than existing number of groups, ignoring updates");
+            return;
+        } else {
+            count = 0;
+            temp_count = 0;
+            temp = xmalloc(sizeof(lsp_association_info) * 
+                           (rpd_lsp->div_assoc_info_count - delete_counter + add_counter));
+            /*
+             * First delete the required entries in pccd structure
+             */
+            while (count < rpd_lsp->div_assoc_info_count) {
+                if ((cur_pos[count] == PCUPD_DAG_OP_DEL) ||
+                    (cur_pos[count] == PCUPD_DAG_OP_UPD)) {
+                    count++;
+                    continue;
+                }
+                memcpy(&temp[temp_count].assoc_grp_id,
+                       &rpd_lsp->div_assoc_info[count].assoc_grp_id,
+                       sizeof(lsp_association_info));
+                temp_count++;
+                count++;
+            }
+            pccd_rpd_free_lsp_div_assoc_info(rpd_lsp);
+            rpd_lsp->div_assoc_info_count = temp_count;
+            rpd_lsp->div_assoc_info = temp;
+            /*
+             * Add any new dag entries from the received PCUpd
+             */
+            if (add_counter || update_counter) {
+                count = 0;
+                while (count < info->div_assoc_info_count) {
+                    if (upd_pos[count] == PCUPD_DAG_OP_DEL) {
+                        count++;
+                        continue;
+                    }
+                    memcpy(&rpd_lsp->div_assoc_info[rpd_lsp->div_assoc_info_count].assoc_grp_id,
+                           &info->div_assoc_info[count].assoc_grp_id,
+                           sizeof(lsp_association_info));
+                    rpd_lsp->div_assoc_info_count++;
+                    count++;
+                }
+            }
+            TRACE_CORE("DAG: deleted objs %u added objs %u updated objs %u", delete_counter, add_counter,
+                       update_counter);
+            return;
+        }
+    }
+
+    /*
+     * Incase no delete operation in PCUpd message for any group, follow the below flow
+     */
+    if (update_counter) {
+        if (rpd_lsp->div_assoc_info_count == update_counter) {
+            pccd_rpd_free_lsp_div_assoc_info(rpd_lsp);
+            rpd_lsp->div_assoc_info_count = 0;
+            /*
+             * Add the entries received in PCUpd
+             */
+            rpd_lsp->div_assoc_info = info->div_assoc_info;
+            rpd_lsp->div_assoc_info_count = info->div_assoc_info_count;
+            return;
+        } else if (update_counter > rpd_lsp->div_assoc_info_count) {
+            TRACE_RPD("DAG: more update assoc groups than existing number of groups, ignoring updates");
+            return;
+        } else {
+            count = 0;
+            temp_count = 0;
+            temp = xmalloc(sizeof(lsp_association_info) *
+                           (rpd_lsp->div_assoc_info_count + add_counter));
+            /*
+             * First delete the required entries in pccd structure
+             */
+            while (count < rpd_lsp->div_assoc_info_count) {
+                if ((cur_pos[count] == PCUPD_DAG_OP_DEL) ||
+                    (cur_pos[count] == PCUPD_DAG_OP_UPD)) {
+                    count++;
+                    continue;
+                }
+                memcpy(&temp[temp_count].assoc_grp_id,
+                       &rpd_lsp->div_assoc_info[count].assoc_grp_id,
+                       sizeof(lsp_association_info));
+                temp_count++;
+                count++;
+            }
+            pccd_rpd_free_lsp_div_assoc_info(rpd_lsp);
+            rpd_lsp->div_assoc_info_count = temp_count;
+            rpd_lsp->div_assoc_info = temp;
+            /*
+             * Add any new dag entries from the received PCUpd
+             */
+            count = 0;
+            while (count < info->div_assoc_info_count) {
+                memcpy(&rpd_lsp->div_assoc_info[rpd_lsp->div_assoc_info_count].assoc_grp_id,
+                       &info->div_assoc_info[count].assoc_grp_id,
+                       sizeof(lsp_association_info));
+                rpd_lsp->div_assoc_info_count++;
+                count++;
+            }
+            return;
+        }
+    }
+
+    if (add_counter) {
+        if (rpd_lsp->div_assoc_info_count == 0) {
+            pccd_rpd_free_lsp_div_assoc_info(rpd_lsp);
+            rpd_lsp->div_assoc_info_count = info->div_assoc_info_count;
+            rpd_lsp->div_assoc_info = info->div_assoc_info;
+        } else {
+            count = 0;
+            temp_count = 0;
+            temp = xmalloc(sizeof(lsp_association_info) *
+                           (rpd_lsp->div_assoc_info_count + add_counter));
+            while (count < info->div_assoc_info_count) {
+                memcpy(&temp[temp_count].assoc_grp_id,
+                       &info->div_assoc_info[count].assoc_grp_id,
+                       sizeof(lsp_association_info));
+                count++;
+                temp_count++;
+            }
+            count = 0;
+            while (count < rpd_lsp->div_assoc_info_count) {
+                memcpy(&temp[temp_count].assoc_grp_id,
+                       &rpd_lsp->div_assoc_info[count].assoc_grp_id,
+                       sizeof(lsp_association_info));
+                count++;
+                temp_count++;
+            }
+            pccd_rpd_free_lsp_div_assoc_info(rpd_lsp);
+            rpd_lsp->div_assoc_info = temp;
+            rpd_lsp->div_assoc_info_count += add_counter;
+        }
+    }
+}
+
 bool
 pccd_rpd_pcupdate(struct pccd_rpd_lsp_info *rpd_lsp, rpd_extctrl_lsp_config_status_info_t *info)
 {
@@ -3883,6 +4333,9 @@
     /* Update PCE Proposed ERO for PCE Provisioned/Controlled LSP */
     pccd_rpd_update_pce_proposed_info(info);
 
+    /* Update diversity association status flags */
+    pccd_rpd_update_divassoc_info(rpd_lsp, info);
+
     if (pccd_rpd_pcupdate_send(rpd_lsp, pccd_rpd_ses_hndl, PCCD_RPD_CLIENT_ID,
                                info)) {
         LOGGING_ERR("rpd_pcupdate failed: %d '%s'", errno, strerror(errno));
Index: layer3/usr.sbin/pccd/pccd_rpd_ipc.c
===================================================================
--- layer3/usr.sbin/pccd/pccd_rpd_ipc.c	(revision 1333131)
+++ layer3/usr.sbin/pccd/pccd_rpd_ipc.c	(working copy)
@@ -101,6 +101,60 @@
     }
 }
 
+static void
+print_div_assoc_info(lsp_association_info *info,
+                        u_int32_t num_div_assoc_info)
+{
+    char assoc_src_str[INET6_ADDRSTRLEN], endpoint_str[INET6_ADDRSTRLEN], originator_str[INET6_ADDRSTRLEN];
+    u_int32_t count = 0;
+    while (count < num_div_assoc_info) {
+        memset(assoc_src_str, 0, INET6_ADDRSTRLEN);
+        memset(endpoint_str, 0, INET6_ADDRSTRLEN);
+        memset(originator_str, 0, INET6_ADDRSTRLEN);
+
+        if (!info->is_assoc_src_ipv6) {
+            struct in_addr assoc_src_addr, endpoint_addr, originator_addr;
+            assoc_src_addr.s_addr = (in_addr_t) info->assoc_source_u.v4;
+            endpoint_addr.s_addr = (in_addr_t) info[count].sr_srpag_t.srpag_endpoint_addr_u.v4;
+            originator_addr.s_addr = (in_addr_t) info[count].sr_srpag_t.originator_addr_u.v4;
+            memcpy(assoc_src_str, inet_ntoa(assoc_src_addr), 20);
+            memcpy(endpoint_str, inet_ntoa(endpoint_addr), 20);
+            memcpy(originator_str, inet_ntoa(originator_addr), 20);
+        } else {
+            struct in6_addr assoc_srcv6_addr, endpointv6_addr, originatorv6_addr;
+            memcpy(&assoc_srcv6_addr, info->assoc_source_u.v6, 16);
+            memcpy(&endpointv6_addr, info[count].sr_srpag_t.srpag_endpoint_addr_u.v6, 16);
+            memcpy(&originatorv6_addr, info[count].sr_srpag_t.originator_addr_u.v6, 16);
+            inet_ntop(AF_INET6, &assoc_srcv6_addr, assoc_src_str, sizeof(assoc_src_str));
+            inet_ntop(AF_INET6, &endpointv6_addr, endpoint_str, sizeof(endpoint_str));
+            inet_ntop(AF_INET6, &originatorv6_addr, originator_str, sizeof(originator_str));
+        }
+
+        TRACE_RPD(" grp_id  %u type %u is assoc source ipv6 %d assoc_source %s",
+            info[count].assoc_grp_id,
+            info[count].assoc_type,
+            info[count].is_assoc_src_ipv6,
+            assoc_src_str);
+
+        if (info->disjoint_assoc_list.assoc_conf_info_valid) {
+            TRACE_RPD(" CONF-Flags-%u %u %u %u %u", info->disjoint_assoc_list.assoc_conf_info.link_diverse,
+                      info->disjoint_assoc_list.assoc_conf_info.node_diverse,
+                      info->disjoint_assoc_list.assoc_conf_info.srlg_diverse,
+                      info->disjoint_assoc_list.assoc_conf_info.strictness,
+                      info->disjoint_assoc_list.assoc_conf_info.shortest_first);
+        }
+        if (info->disjoint_assoc_list.assoc_status_info_valid) {
+            TRACE_RPD(" STATUS-Flags-%u %u %u %u %u", info->disjoint_assoc_list.assoc_status_info.link_diverse,
+                      info->disjoint_assoc_list.assoc_status_info.node_diverse,
+                      info->disjoint_assoc_list.assoc_status_info.srlg_diverse,
+                      info->disjoint_assoc_list.assoc_status_info.strictness,
+                      info->disjoint_assoc_list.assoc_status_info.shortest_first);
+        }
+        count++;
+    }
+}
+
+
 /**
  * pccd_rpd_is_update_received_for_existing_lsp
  *
@@ -667,6 +721,37 @@
         }
     }
 
+    tlv = tlv_array[EXTCTRL_TLV_DISJOINT_ASSOC_INFO_COUNT];
+    if (tlv) {
+        tlv_len = rpc_proto_tlv_data_length(tlv);
+        if (tlv_len != sizeof(lcs->div_assoc_info_count)) {
+            TRACE_RPD("pccd_rpd_decode_pcrequest:div_assoc_info");
+            return FALSE;
+        }
+        lcs->div_assoc_info_count = get_long(rpc_proto_tlv_data(tlv));
+    }
+    TRACE_RPD("DAG: RPD->PCCD: Number of div assoc info count %s %u",
+              lcs->name, lcs->div_assoc_info_count);
+    if (lcs->div_assoc_info_count > MAX_DISJOINT_ASSOC_INFO) {
+        TRACE_RPD("DAG: RPD->PCCD: received more than 8 diversity assoc group."
+                  "Ignoring the message from RPD");
+        return FALSE;
+    }
+    if (lcs->div_assoc_info_count) {
+        tlv = tlv_array[EXTCTRL_TLV_DISJOINT_ASSOC_INFO];
+        if (tlv) {
+            tlv_len = rpc_proto_tlv_data_length(tlv);
+            if (tlv_len > (sizeof(lsp_association_info) * lcs->div_assoc_info_count)) {
+                TRACE_RPD("DAG: RPD->PCCD: unexpected size of tlv data");
+                return FALSE;
+            }
+            tlv_var_data = rpc_proto_tlv_data(tlv);
+            lcs->div_assoc_info = xmalloc(sizeof(lsp_association_info) * lcs->div_assoc_info_count);
+            memcpy(lcs->div_assoc_info, tlv_var_data, tlv_len);
+            print_div_assoc_info(lcs->div_assoc_info, lcs->div_assoc_info_count);
+        }
+    }
+
     tlv = tlv_array[EXTCTRL_TLV_PATH_PRIORITY];
     if( tlv) {
         tlv_len = rpc_proto_tlv_data_length(tlv);
@@ -2053,7 +2138,6 @@
 
     TRACE_FUNCTION_ENTRY();
 
-
     hdr.type = 0;
     hdr.subtype = RPD_MSG_EXTCTRL_PCUPDATE;
     hdr.opcode = IPC_MSG_ACTION_NONE;
Index: layer3/usr.sbin/rpd/Makefile.inc
===================================================================
--- layer3/usr.sbin/rpd/Makefile.inc	(revision 1333131)
+++ layer3/usr.sbin/rpd/Makefile.inc	(working copy)
@@ -520,6 +520,9 @@
 	${LIBRPD-INFRA-SRLG} \
 	${LIBRPD-INFRA-SRLG-CONFIG} \
 	${LIBRPD-INFRA-SRLG-UI} \
+	${LIBRPD-INFRA-DAT} \
+	${LIBRPD-INFRA-DAT-CONFIG} \
+	${LIBRPD-INFRA-DAT-UI} \
 	${LIBRPD-INFRA-IF-SCOPE} \
 	${LIBRPD-INFRA-IF} \
 	${LIBRPD-INFRA-CTX} \
Index: layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.amd64	(working copy)
@@ -262,6 +262,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.amd64,ubuntu	(working copy)
@@ -261,6 +261,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.arm	(working copy)
@@ -260,6 +260,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.host,linux	(working copy)
@@ -262,6 +262,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.host32	(working copy)
@@ -262,6 +262,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.i386	(working copy)
@@ -261,6 +261,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.octeon	(working copy)
@@ -261,6 +261,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.octeon,bsd6	(working copy)
@@ -272,6 +272,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/tests/bgp_multipath_tests/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/bgp/tests/bgp_multipath_tests/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/tests/bgp_multipath_tests/Makefile.depend.host,linux	(working copy)
@@ -585,6 +585,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/bgp/tests/bgp_notify_tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/bgp/tests/bgp_notify_tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/tests/bgp_notify_tests/Makefile.depend.host	(working copy)
@@ -589,6 +589,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/tests/bgp_open_tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/bgp/tests/bgp_open_tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/tests/bgp_open_tests/Makefile.depend.host	(working copy)
@@ -578,6 +578,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/bgp/tests/bgp_peer_tests/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/bgp/tests/bgp_peer_tests/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/tests/bgp_peer_tests/Makefile.depend.host,linux	(working copy)
@@ -594,6 +594,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/bgp/tests/bgp_srte_tests/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/bgp/tests/bgp_srte_tests/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/tests/bgp_srte_tests/Makefile.depend.host,linux	(working copy)
@@ -585,6 +585,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/bgp/tests/bgp_upd_thr_tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/bgp/tests/bgp_upd_thr_tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/tests/bgp_upd_thr_tests/Makefile.depend.host	(working copy)
@@ -593,6 +593,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/tests/com_match_tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/bgp/tests/com_match_tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/tests/com_match_tests/Makefile.depend.host	(working copy)
@@ -573,6 +573,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/evpn/tests/evpn_ar_tests/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/evpn/tests/evpn_ar_tests/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/evpn/tests/evpn_ar_tests/Makefile.depend.host,linux	(working copy)
@@ -646,6 +646,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/evpn/tests/evpn_sample_tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/evpn/tests/evpn_sample_tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/evpn/tests/evpn_sample_tests/Makefile.depend.host	(working copy)
@@ -646,6 +646,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/evpn/tests/evpn_sample_tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/evpn/tests/evpn_sample_tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/evpn/tests/evpn_sample_tests/Makefile.depend.host32	(working copy)
@@ -646,6 +646,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.amd64	(working copy)
@@ -260,6 +260,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.amd64,ubuntu	(working copy)
@@ -259,6 +259,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.arm	(working copy)
@@ -257,6 +257,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.arm64,ubuntu	(working copy)
@@ -259,6 +259,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.host,linux	(working copy)
@@ -260,6 +260,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.host32,linux
===================================================================
--- layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.host32,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.host32,linux	(working copy)
@@ -260,6 +260,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.i386	(working copy)
@@ -258,6 +258,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.octeon	(working copy)
@@ -258,6 +258,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/test-daemon/Makefile.depend.octeon,bsd6	(working copy)
@@ -269,6 +269,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/isis/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/tests/Makefile.depend.host	(working copy)
@@ -598,6 +598,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/isis/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/tests/Makefile.depend.host32	(working copy)
@@ -598,6 +598,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/isis/tests/atf/if/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/isis/tests/atf/if/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/tests/atf/if/Makefile.depend.host	(working copy)
@@ -579,6 +579,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/isis/tests/atf/if/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/isis/tests/atf/if/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/tests/atf/if/Makefile.depend.host32	(working copy)
@@ -579,6 +579,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/isis/tests/atf/lsp/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/isis/tests/atf/lsp/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/tests/atf/lsp/Makefile.depend.host	(working copy)
@@ -576,6 +576,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/isis/tests/atf/lsp/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/isis/tests/atf/lsp/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/tests/atf/lsp/Makefile.depend.host32	(working copy)
@@ -576,6 +576,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/isis/tests/atf/spf/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/isis/tests/atf/spf/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/tests/atf/spf/Makefile.depend.host	(working copy)
@@ -578,6 +578,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/isis/tests/atf/spf/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/isis/tests/atf/spf/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/isis/tests/atf/spf/Makefile.depend.host32	(working copy)
@@ -578,6 +578,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/ldp/lib/proto/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/ldp/lib/proto/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/lib/proto/Makefile.depend.amd64,ubuntu	(working copy)
@@ -11,6 +11,7 @@
 	daemon-infra/lib/libjtrace/h.common \
 	dsa/lib/bit-hi-lo/h.common \
 	dsa/lib/hbtree/h.common \
+	dsa/lib/vector/h.common \
 	junos/bsd/include \
 	junos/host-utils/idl.host \
 	junos/lib/libevent/h.common \
Index: layer3/usr.sbin/rpd/ldp/lib/proto/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/ldp/lib/proto/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/lib/proto/Makefile.depend.arm	(working copy)
@@ -11,6 +11,7 @@
 	daemon-infra/lib/libjtrace/h.common \
 	dsa/lib/bit-hi-lo/h.common \
 	dsa/lib/hbtree/h.common \
+	dsa/lib/vector/h.common \
 	dsa/shared/include/jnx.common \
 	junos-shared/include/jnx/sys.common \
 	junos/bsd/include \
Index: layer3/usr.sbin/rpd/ldp/lib/proto/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/ldp/lib/proto/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/lib/proto/Makefile.depend.octeon	(working copy)
@@ -11,6 +11,7 @@
 	daemon-infra/lib/libjtrace/h.common \
 	dsa/lib/bit-hi-lo/h.common \
 	dsa/lib/hbtree/h.common \
+	dsa/lib/vector/h.common \
 	dsa/shared/include/jnx.common \
 	junos-shared/include/jnx/sys.common \
 	junos/bsd/include \
Index: layer3/usr.sbin/rpd/ldp/lib/proto/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/ldp/lib/proto/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/lib/proto/tests/Makefile.depend.host32	(working copy)
@@ -64,6 +64,7 @@
 	dsa/lib/lfqueue \
 	dsa/lib/rcu \
 	dsa/lib/vector \
+	dsa/lib/vector/h.common \
 	dsa/shared/include/jnx.common \
 	esp-shared/usr.sbin/dot1xd/ddl/dot1xd/actions \
 	esp-shared/usr.sbin/dot1xd/ddl/dot1xd/gen.common \
@@ -593,6 +594,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.amd64	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.arm	(working copy)
@@ -250,6 +250,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.arm64,ubuntu	(working copy)
@@ -252,6 +252,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.host,linux	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.host32	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.i386	(working copy)
@@ -251,6 +251,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.octeon	(working copy)
@@ -251,6 +251,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.octeon,bsd6	(working copy)
@@ -262,6 +262,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/lib/asdb-if/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/asdb-if/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/asdb-if/tests/Makefile.depend.host	(working copy)
@@ -236,6 +236,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/asdb-if/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/asdb-if/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/asdb-if/tests/Makefile.depend.host32	(working copy)
@@ -236,6 +236,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/bgp-shard-ifx-dist/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/bgp-shard-ifx-dist/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/bgp-shard-ifx-dist/tests/Makefile.depend.host32	(working copy)
@@ -582,6 +582,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/bgp-shard-rt-dist/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/bgp-shard-rt-dist/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/bgp-shard-rt-dist/tests/Makefile.depend.host	(working copy)
@@ -589,6 +589,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/cfg-mgmt/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/cfg-mgmt/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/cfg-mgmt/tests/Makefile.depend.host	(working copy)
@@ -576,6 +576,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/cfg-mgmt/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/cfg-mgmt/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/cfg-mgmt/tests/Makefile.depend.host32	(working copy)
@@ -576,6 +576,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/common/h/jnx/rpd-common/modules.h
===================================================================
--- layer3/usr.sbin/rpd/lib/common/h/jnx/rpd-common/modules.h	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/common/h/jnx/rpd-common/modules.h	(working copy)
@@ -221,6 +221,9 @@
     RPD_MODULE_SRLG,
     RPD_MODULE_SRLG_CONFIG,
     RPD_MODULE_SRLG_UI,
+    RPD_MODULE_DAT,
+    RPD_MODULE_DAT_CONFIG,
+    RPD_MODULE_DAT_UI,
     RPD_MODULE_KRT_TELEMETRY,
     RPD_MODULE_IF_SCOPE,
     RPD_MODULE_BRIDGE,
Index: layer3/usr.sbin/rpd/lib/ctx/h/jnx/rpd-ctx/app_ctx_module_base.h
===================================================================
--- layer3/usr.sbin/rpd/lib/ctx/h/jnx/rpd-ctx/app_ctx_module_base.h	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/ctx/h/jnx/rpd-ctx/app_ctx_module_base.h	(working copy)
@@ -678,7 +678,49 @@
 	ACRM_SRLG_UI				\
     }
 
+/* DAT module */
+#ifdef APP_CTX_RPD_DAT
+#define ACRM_DAT APP_CTX_RPD_DAT
+#else
+#define ACRM_DAT
+#endif
 
+#define APP_CTX_RPD_MODULE_DAT             \
+    {                           \
+    .module_id      = RPD_MODULE_DAT,      \
+    .name           = "DAT",           \
+    ACRM_DAT                   \
+    }
+
+/* DAT config module */
+#ifdef APP_CTX_RPD_DAT_CONFIG
+#define ACRM_DAT_CONFIG APP_CTX_RPD_DAT_CONFIG
+#else
+#define ACRM_DAT_CONFIG
+#endif
+
+#define APP_CTX_RPD_MODULE_DAT_CONFIG        \
+    {                         \
+    .module_id      = RPD_MODULE_DAT_CONFIG, \
+    .name           = "DAT Config",      \
+    ACRM_DAT_CONFIG              \
+    }
+
+/* DAT UI module */
+#ifdef APP_CTX_RPD_DAT_UI
+#define ACRM_DAT_UI APP_CTX_RPD_DAT_UI
+#else
+#define ACRM_DAT_UI
+#endif
+
+#define APP_CTX_RPD_MODULE_DAT_UI      \
+    {                       \
+    .module_id      = RPD_MODULE_DAT_UI,   \
+    .name           = "DAT UI",        \
+    ACRM_DAT_UI                \
+    }
+
+
 /* Resolver as a service */
 #ifdef APP_CTX_RPD_RAAS
 #define ACRM_RAAS APP_CTX_RPD_RAAS
Index: layer3/usr.sbin/rpd/lib/ctx/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/ctx/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/ctx/tests/Makefile.depend.host	(working copy)
@@ -252,6 +252,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/divassoc/Makefile.inc
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/Makefile.inc	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/Makefile.inc	(working copy)
@@ -0,0 +1,8 @@
+# $Id : Makefile.inc$
+
+
+.if !target(_${_this}_)
+_${_this}_:
+
+.-include "../Makefile.inc"
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.amd64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.amd64	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx/jam.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.amd64,evo
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.amd64,evo	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.amd64,evo	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx/jam.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.amd64,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.amd64,ubuntu	(working copy)
@@ -0,0 +1,31 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx/jam.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.arm	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.arm	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx/jam.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.arm64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.arm64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.arm64	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx/jam.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.arm64,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.arm64,ubuntu	(working copy)
@@ -0,0 +1,31 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx/jam.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.host	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.host	(working copy)
@@ -0,0 +1,35 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common \
+	pfe-shared/include/jnx/jam.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.host32	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.host32	(working copy)
@@ -0,0 +1,35 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common \
+	pfe-shared/include/jnx/jam.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.i386	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.i386	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx/jam.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.octeon,bsd6	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.octeon,bsd6	(working copy)
@@ -0,0 +1,35 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common,${DEP_TARGET_OS} \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx/jam.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.octeon64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.octeon64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.octeon64	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx/jam.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/dat_config.c
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/dat_config.c	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/dat_config.c	(working copy)
@@ -0,0 +1,431 @@
+/*
+ * $Id: dat_config.c
+ *
+ * dat_config.c -- dat configuration routines
+ *
+ * Copyright (c) 2023, Juniper Networks, Inc.
+ * All rights reserved.
+ */
+
+#include <sys/types.h>
+#include <sys/stat.h>
+#include <arpa/inet.h>
+#include <stddef.h>
+
+#include <jnx/aux_types.h>
+#include <jnx/thread.h>
+#include <ddl/access.h>
+#include <ddl/dax.h>
+#include <feature/junos-routing-infra-dat_ddlnames.h>
+#include <feature/junos-routing-infra-dat_out.h>
+
+#include <jnx/task_defines.h>
+#include <jnx/task_defs.h>
+#include <jnx/task_basic_types.h>
+#include <jnx/jsockaddr.h>
+#include <jnx/jtrace.h>
+#include <jnx/task_types.h>
+#include <jnx/task_mem.h>
+#include <jnx/fep/mgmt_proto.h>
+#include <jnx/task_mgmt.h>
+
+#include <jnx/inttypes.h>
+#include <jnx/rpd-common/common_types.h>
+#include <jnx/pol_types.h>
+#include <jnx/rpd-pol/pol_types.h>
+#include <jnx/rpd-rt/rt_types.h>
+#include <jnx/jnx_types.h>
+#include <jnx/rpd-if/if_types.h>
+#include <jnx/rpd-mpls/tag_types.h>
+#include <jnx/rpd-krt/krt_types.h>
+#include <jnx/rpd-mc/mc_types.h>
+
+#include <jnx/bit_vector.h>
+#include <itable/itable.h>
+#include <jnx/task_stdio.h>
+
+#include <jnx/rpd-dat-config/dat_config.h>
+#include <jnx/rpd-dat-config/dat_config_module.h>
+#include <jnx/rpd-common/mgmt_config.h>
+#include <jnx/task_daemon.h>
+#include <jnx/task_parse.h>
+#include <jnx/rpd-if/if_config_entry.h>
+
+#include <jnx/librpd/shared.h>
+#include <jnx/task_daemon.h>
+#include <jnx/task_module.h>
+#include <jnx/rpd-ctx/app_ctx.h>
+#include <jnx/rpd-ctx/rpd_vector.h>
+
+#undef CONFIG_DEBUG
+#ifdef CONFIG_DEBUG
+#define config_trace(fmt...)	ntrace_tf(trace_global, TR_PARSE,	\
+					            TRC_NL_SUPPLIED, fmt)
+#else
+#define config_trace(fmt...)
+#endif
+
+/*
+ * Config path.
+ */
+#define MODULE	"DAT"
+
+#define ASSOC_GROUP_ID_MAX 64
+
+/*
+ * List entries containing diversity association groups configuration
+ */
+struct assoc_group_cfg {
+    char                         group_name[ASSOC_GROUP_ID_MAX];
+    uint16_t                     group_id;
+    assoc_type_e                 assoc_type;
+    struct in_addr               assoc_src_v4;
+    struct in6_addr              assoc_src_v6;
+    boolean                      v4_src_valid;
+    boolean                      v6_src_valid;
+    boolean                      strict;
+    SLIST_ENTRY(assoc_group_cfg) dag_next;
+};
+
+SLIST_HEAD(assoc_group_cfg_head, assoc_group_cfg);
+
+/*
+ * Diversity association groups base configuration structure
+ */
+struct divassoc_cfg {
+    int32_t                     num_div_assoc_groups_;
+    struct assoc_group_cfg_head diversity_assoc_groups_head;
+};
+
+static struct divassoc_cfg divassoc_config;
+
+static block_t assoc_group_cfg_block;
+static boolean assoc_group_cfg_block_inited = FALSE;
+
+static void
+diversity_association_cfg_remove_assoc_group (struct divassoc_cfg    *config,
+                                              struct assoc_group_cfg *assoc_group)
+{
+    if (!config || !assoc_group) {
+        return;
+    }
+
+    SLIST_REMOVE(&config->diversity_assoc_groups_head, assoc_group, assoc_group_cfg, dag_next);
+    config->num_div_assoc_groups_--;
+    if (config->num_div_assoc_groups_ < 0) {
+        config_trace(" number of diversity association groups "
+                     "cannot be less than 0\n");
+        return;
+    }
+    diversity_association_group_delete(assoc_group->group_name,
+                                       assoc_group->assoc_type,
+                                       assoc_group->strict,
+                                       assoc_group->group_id);
+    task_block_free(assoc_group_cfg_block, assoc_group);
+}
+
+static void
+diversity_association_cfg_remove_all_assoc_groups (struct divassoc_cfg *config)
+{
+    struct assoc_group_cfg *assoc_group = NULL, *tmp = NULL;
+
+    SLIST_FOREACH_SAFE(assoc_group, &config->diversity_assoc_groups_head, dag_next, tmp) {
+        SLIST_REMOVE(&config->diversity_assoc_groups_head, assoc_group, assoc_group_cfg, dag_next);
+        config->num_div_assoc_groups_--;
+        diversity_association_group_delete(assoc_group->group_name,
+                                           assoc_group->assoc_type,
+                                           assoc_group->strict,
+                                           assoc_group->group_id);
+        task_block_free(assoc_group_cfg_block, assoc_group);
+    }
+    if (!SLIST_EMPTY(&config->diversity_assoc_groups_head)) {
+        config_trace("DAG-CFG: Failed to remove all diversity association groups");
+        return;
+    }
+    if (config->num_div_assoc_groups_ != 0) {
+        config_trace("DAG-CFG: Diversity Association groups not empty even after clearing");
+        return;
+    }
+}
+
+/*
+ *  Allocates and adds assoc_group_cfg to the assoc-groups tree.
+ */
+static struct assoc_group_cfg *
+diversity_association_cfg_add_assoc_group (struct         divassoc_cfg *config,
+                                           const char     group_name[ASSOC_GROUP_ID_MAX])
+{
+    struct assoc_group_cfg *agc = NULL;
+
+    if (config == NULL || strnlen(group_name, ASSOC_GROUP_ID_MAX) == 0) {
+        return NULL;
+    }
+
+    agc = task_block_alloc(assoc_group_cfg_block);
+    strlcpy(agc->group_name, group_name, sizeof(agc->group_name));
+    /*
+     * Store Assoc group entry in the list
+     */
+    SLIST_INSERT_HEAD(&config->diversity_assoc_groups_head, agc, dag_next);
+    config->num_div_assoc_groups_++;
+    return agc;
+}
+
+static struct assoc_group_cfg *
+diversity_association_cfg_get_assoc_group (struct divassoc_cfg *config,
+                                           const char           group_name[ASSOC_GROUP_ID_MAX])
+{
+    struct assoc_group_cfg *agc = NULL;
+
+    if (!config) {
+        return NULL;
+    }
+    if (SLIST_EMPTY(&config->diversity_assoc_groups_head)) {
+        config_trace(" Unexpected assoc group list size - empty");
+        return NULL;
+    }
+
+    SLIST_FOREACH(agc, &config->diversity_assoc_groups_head, dag_next) {
+        if (!strncmp(agc->group_name, group_name, ASSOC_GROUP_ID_MAX)) {
+            return agc;
+        }
+    }
+    return NULL;
+}
+
+/*
+ * Reads and parses particular assoc-group. dop points to "diversity-association-group" list
+ * entry.
+ */
+static int
+diversity_association_cfg_read_assoc_group (struct divassoc_cfg *config,
+                                            ddl_handle_t        *dop)
+{
+    char            group_name[ASSOC_GROUP_ID_MAX] = {'\0'};
+    unsigned        flag_name = 0;
+    struct          assoc_group_cfg *agc = NULL;
+    uint16_t        grp_id = 0, old_grp_id = 0;
+    boolean         new_group = FALSE;
+    char            buf[32] = {'\0'};
+    int             family = 0;
+    struct in_addr  dest_addr;
+    struct in6_addr dest_v6_addr;
+
+    if (FALSE == dax_get_stringr_by_name(
+                            dop,
+                            DDLNAME_JUNIPER_ROUTING_OPTIONS_DIVERSITY_ASSOCIATION_GROUP_NAME,
+                            group_name,
+                            sizeof(group_name))) {
+        return DAX_WALK_ABORT;
+    }
+
+    agc = diversity_association_cfg_get_assoc_group(config, group_name);
+    if (agc == NULL) {
+        agc = diversity_association_cfg_add_assoc_group(config, group_name);
+        if (agc == NULL) {
+            return DAX_WALK_ABORT;
+        }
+        new_group = TRUE;
+    }
+
+    if (agc == NULL) {
+        return DAX_WALK_ABORT;
+    }
+    if (strncmp(agc->group_name, group_name, sizeof(agc->group_name)) != 0) {
+        return DAX_WALK_ABORT;
+    }
+
+    if (TRUE == dax_get_ushort_by_name(
+                        dop,
+                        DDLNAME_JUNIPER_ROUTING_OPTIONS_DIVERSITY_ASSOCIATION_GROUP_ID,
+                        &grp_id)) {
+        old_grp_id = agc->group_id;
+        agc->group_id = grp_id;
+    } else {
+        return DAX_WALK_ABORT;
+    }
+
+    if (TRUE == dax_get_toggle_by_name(
+                        dop,
+                        DDLNAME_JUNIPER_ROUTING_OPTIONS_DIVERSITY_ASSOCIATION_STRICT,
+                        buf)) {
+        agc->strict = TRUE;
+    } else {
+        agc->strict = FALSE;
+    }
+
+    if (TRUE == dax_get_uint_by_name(
+                        dop,
+                        DDLNAME_JUNIPER_ROUTING_OPTIONS_DIVERSITY_ASSOCIATION_ASSOCIATION_TYPE,
+                        &flag_name)) {
+    }
+    switch (flag_name) {
+    case DISJOINT_NODE:
+        agc->assoc_type = DIV_ASSOC_TYPE_NODE;
+        break;
+    case DISJOINT_LINK:
+        agc->assoc_type = DIV_ASSOC_TYPE_LINK;
+        break;
+    case DISJOINT_SRLG_NODE:
+        agc->assoc_type = DIV_ASSOC_TYPE_SRLG_NODE;
+        break;
+    case DISJOINT_SRLG_LINK:
+        agc->assoc_type = DIV_ASSOC_TYPE_SRLG_LINK;
+        break;
+    default:
+        return DAX_WALK_ABORT;
+    }
+    
+    memset(&dest_addr, 0, sizeof(dest_addr));
+    if (TRUE == dax_get_ipaddr_by_name(
+                        dop,
+                        DDLNAME_JUNIPER_ROUTING_OPTIONS_DIVERSITY_ASSOCIATION_ASSOCIATION_SRC_IPV4,
+                        &family, &dest_addr, sizeof(dest_addr))) {
+        if (family != AF_INET) {
+            return DAX_WALK_ABORT;
+        }
+        memcpy(&agc->assoc_src_v4, &dest_addr, sizeof(in_addr));
+        agc->v4_src_valid = TRUE;
+    } else {
+        memset(&agc->assoc_src_v4, 0, sizeof(in_addr));
+        agc->v4_src_valid = FALSE;
+    }
+
+    memset(&dest_v6_addr, 0, sizeof(dest_v6_addr));
+    if (TRUE == dax_get_ipaddr_by_name(
+                        dop,
+                        DDLNAME_JUNIPER_ROUTING_OPTIONS_DIVERSITY_ASSOCIATION_ASSOCIATION_SRC_IPV6,
+                        &family, &dest_v6_addr, sizeof(dest_v6_addr))) {
+        if (family != AF_INET6) {
+            return DAX_WALK_ABORT;
+        }
+        memcpy(&agc->assoc_src_v6, &dest_v6_addr, sizeof (in6_addr));
+        agc->v6_src_valid = TRUE;
+    } else {
+        memset(&agc->assoc_src_v6, 0, sizeof (in6_addr));
+        agc->v6_src_valid = FALSE;
+    }
+
+    if (new_group == TRUE) {
+        diversity_association_group_add(agc->group_name,
+                                        agc->assoc_type,
+                                        agc->strict,
+                                        agc->group_id,
+                                        agc->v4_src_valid,
+                                        &agc->assoc_src_v4,
+                                        agc->v6_src_valid,
+                                        &agc->assoc_src_v6);
+    } else {
+        diversity_association_group_modify(agc->group_name,
+                                           agc->assoc_type,
+                                           agc->strict,
+                                           old_grp_id,
+                                           agc->group_id,
+                                           agc->v4_src_valid,
+                                           &agc->assoc_src_v4,
+                                           agc->v6_src_valid,
+                                           &agc->assoc_src_v6);
+    }
+
+    return DAX_WALK_OK;
+}
+
+
+/*
+ * Walk and parse assoc-obj in configuration
+ */
+static int
+diversity_association_cfg_walk_assoc_objects (dax_walk_data_t *dwd UNUSED,
+                                              ddl_handle_t    *dop,
+                                              int              action,
+                                              void            *data)
+{
+    char                 assoc_name[ASSOC_GROUP_ID_MAX] = {'\0'};
+    struct divassoc_cfg *cfg = NULL;
+
+    if (data == NULL) {
+        return DAX_WALK_ABORT;
+    }
+
+    if ((dop == NULL) && (action != DAX_ITEM_DELETE_ALL)) {
+        return DAX_WALK_ABORT;
+    }
+
+    cfg = (struct divassoc_cfg *) data;
+
+    switch (action) {
+    case DAX_ITEM_DELETE_ALL:
+        diversity_association_cfg_remove_all_assoc_groups(cfg);
+        return DAX_WALK_OK;
+
+    case DAX_ITEM_DELETE:
+        {
+            struct assoc_group_cfg *ag = NULL;
+            if (!dax_get_stringr_by_dwd_ident(dwd, NULL, 0, assoc_name,
+                                              sizeof(assoc_name))) {
+                abort();
+            }
+            ag = diversity_association_cfg_get_assoc_group(cfg, assoc_name);
+            if (ag == NULL) {
+                return DAX_WALK_ABORT;
+            }
+            diversity_association_cfg_remove_assoc_group(cfg, ag);
+            return DAX_WALK_OK;
+        }
+
+    case DAX_ITEM_CHANGED:
+        if (!dax_get_stringr_by_name(
+                    dop,
+                    DDLNAME_JUNIPER_ROUTING_OPTIONS_DIVERSITY_ASSOCIATION_GROUP_NAME,
+                    assoc_name, sizeof(assoc_name))) {
+            return DAX_WALK_ABORT;
+        }
+        return diversity_association_cfg_read_assoc_group(cfg, dop);
+    default:
+        return DAX_WALK_ABORT;
+    }
+    return DAX_WALK_OK;
+}
+
+static void
+diversity_association_cfg_read_assoc_groups (struct divassoc_cfg *cfg)
+{
+    const char *assoc_group_path[] = {
+            "routing-options",
+            DDLNAME_DDC_JUNIPER_ROUTING_OPTIONS_DIVERSITY_ASSOCIATION_OBJ,
+            NULL,
+    };
+    ddl_handle_t *dop;
+
+    dax_get_object_by_path(NULL, assoc_group_path, &dop, FALSE);
+    /* dop will be NULL if the group is empty and dax_walk_list will trigger DAX_ITEM_DELETE_ALL */
+    if (dax_walk_list(dop, DAX_WALK_DELTA, diversity_association_cfg_walk_assoc_objects, cfg)) {
+        // return value processing for coverity check
+    }
+    if (dop) {
+        dax_release_object(&dop);
+    }
+}
+
+boolean
+diversity_association_config (ddl_handle_t  *lr_dop UNUSED,
+                              char          *errmsg UNUSED,
+                              int            errmsglen UNUSED)
+{
+    if (!assoc_group_cfg_block_inited) {
+        assoc_group_cfg_block = task_block_init(
+                                                sizeof(struct assoc_group_cfg),
+                                                "diversity_association_group_config_block");
+        assoc_group_cfg_block_inited = TRUE;
+    }
+    config_trace(" Diversity Association config processing");
+    diversity_association_clear_commit_transactions();
+    diversity_association_cfg_read_assoc_groups(&divassoc_config);
+    diversity_association_increment_commit_reference_id();
+    /*
+     * Below function invocation is only for local UT purpose
+     */
+    //diversity_association_run_ut();
+    config_trace(" Diversity Association config processing complete");
+    return TRUE;
+}
Index: layer3/usr.sbin/rpd/lib/divassoc/config/h/Makefile
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/h/Makefile	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/h/Makefile	(working copy)
@@ -0,0 +1 @@
+.include <jnx.stage.incs.mk>
Index: layer3/usr.sbin/rpd/lib/divassoc/config/h/Makefile.depend
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/h/Makefile.depend	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/h/Makefile.depend	(working copy)
@@ -0,0 +1,3 @@
+DIRDEPS =
+
+.include <dirdeps.mk>
Index: layer3/usr.sbin/rpd/lib/divassoc/config/h/jnx/rpd-dat-config/dat_config.h
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/h/jnx/rpd-dat-config/dat_config.h	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/h/jnx/rpd-dat-config/dat_config.h	(working copy)
@@ -0,0 +1,54 @@
+/*
+ *
+ * rt_dat_config.h - DAT User Management APIs
+ *
+ * Copyright (c) 2023, Juniper Networks, Inc.
+ * All rights reserved.
+ */
+#ifndef	 __RPD_RT_DAT_CONFIG_H_
+#define	 __RPD_RT_DAT_CONFIG_H_
+
+typedef enum assoc_type_e_ {
+    DIV_ASSOC_TYPE_NODE,
+    DIV_ASSOC_TYPE_LINK,
+    DIV_ASSOC_TYPE_SRLG_NODE,
+    DIV_ASSOC_TYPE_SRLG_LINK,
+} assoc_type_e;
+
+void
+diversity_association_group_add(char         group_name[],
+                                int32_t      type,
+                                boolean      strict,
+                                uint16_t     group_id,
+                                boolean      assoc_src_v4_valid,
+                                struct       in_addr *v4_src,
+                                boolean      assoc_src_v6_valid,
+                                struct       in6_addr *v6_src);
+
+void
+diversity_association_group_modify(char         group_name[],
+                                   int32_t      type,
+                                   boolean      strict,
+                                   uint16_t     group_id,
+                                   uint16_t     old_group_id,
+                                   boolean      assoc_src_v4_valid,
+                                   struct       in_addr *v4_src,
+                                   boolean      assoc_src_v6_valid,
+                                   struct       in6_addr *v6_src);
+
+void
+diversity_association_group_delete(char         group_name[],
+                                   int32_t      type,
+                                   boolean      strict,
+                                   uint16_t     group_id);
+
+void
+diversity_association_clear_commit_transactions(void);
+
+void
+diversity_association_increment_commit_reference_id(void);
+
+void
+diversity_association_run_ut(void);
+
+#endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/h/jnx/rpd-dat-config/dat_config_module.h
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/h/jnx/rpd-dat-config/dat_config_module.h	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/h/jnx/rpd-dat-config/dat_config_module.h	(working copy)
@@ -0,0 +1,18 @@
+/*
+ * $Id$
+ *
+ * dat_config_module.h - RPD Module related entry points for Diversity Association configuration
+ *
+ * Copyright (c) 2023, Juniper Networks, Inc.
+ * All rights reserved.
+ */
+#ifndef __DAT_CONFIG_MODULE_H__
+#define __DAT_CONFIG_MODULE_H__
+
+boolean diversity_association_config(ddl_handle_t *lr_dop, char *errmsg, int errmsglen);
+
+#define APP_CTX_RPD_DAT_CONFIG    \
+    .config_lr = diversity_association_config,	   \
+
+#endif /* __dat_CONFIG_MODULE_H__ */
+
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile	(working copy)
@@ -0,0 +1,29 @@
+#
+# $Id$
+#
+# Copyright (c) 2020, Juniper Networks, Inc.
+# All rights reserved.
+#
+
+LIB = rpd-infra-dat
+
+WITH_SYM_CHECK = 1
+
+SRCS = \
+	dat.c
+
+
+CFLAGS += \
+	-DRPD_TAG_T \
+	-DDDL_NO_CHECK_PRINTF \
+
+SRC_LIBS += \
+	${LIBJTRACE} \
+	${LIBJTASK} \
+	${LIBRPD-INFRA-COMMON} \
+	${LIBRPD-INFRA-CTX} \
+	${LIBRPD-INFRA-KRT} \
+
+
+.include <bsd.lib.mk>
+
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.amd64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.amd64	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr-families/h.common \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.amd64,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.amd64,ubuntu	(working copy)
@@ -0,0 +1,31 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr-families/h.common \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.arm	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.arm	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr-families/h.common \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.arm64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.arm64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.arm64	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr-families/h.common \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.arm64,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.arm64,ubuntu	(working copy)
@@ -0,0 +1,29 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.host	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.host	(working copy)
@@ -0,0 +1,35 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr-families/h.common \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.host32	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.host32	(working copy)
@@ -0,0 +1,35 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr-families/h.common \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.i386	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.i386	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr-families/h.common \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.octeon	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.octeon	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr-families/h.common \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.octeon,bsd6	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.octeon,bsd6	(working copy)
@@ -0,0 +1,35 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	daemon-infra/lib/libjsockaddr-families/h.common \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common,${DEP_TARGET_OS} \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.octeon64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.octeon64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.octeon64	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr-families/h.common \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/dat.c
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/dat.c	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/dat.c	(working copy)
@@ -0,0 +1,558 @@
+/*
+ * $Id: dat.c$
+ *
+ * dat.c -- dat database Implementation
+ *
+ *
+ * Copyright (c) 2023, Juniper Networks, Inc.
+ * All rights reserved.
+ */
+#include <sys/types.h>
+#include <string.h>
+
+#include <jnx/bits.h>
+#include <jnx/aux_types.h>
+#include <jnx/thread.h>
+#include <jnx/layer3-common/accessor_inlines.h>
+#include <jnx/redblack.h>
+#include <jnx/patricia.h>
+#include <jnx/bitmap.h>
+
+#include <jnx/task_defines.h>
+#include <jnx/task_defs.h>
+#include <jnx/task_basic_types.h>
+#include <jnx/jsockaddr.h>
+#include <jnx/jsockaddr_inet.h>
+#include <jnx/task_types.h>
+#include <jnx/jtrace.h>
+#include <jnx/task.h>
+#include <jnx/task_mem.h>
+#include <jnx/bit_hi_lo.h>
+#include <jnx/task_radix.h>
+#include <jnx/task_queue.h>
+#include <jnx/jsockaddr_mc.h>
+#include <jnx/fep/mgmt_proto.h>
+#include <jnx/task_mgmt.h>
+
+#include <jnx/inttypes.h>
+#include <jnx/rpd-common/common_types.h>
+#include <jnx/pol_types.h>
+#include <jnx/rpd-pol/pol_types.h>
+#include <jnx/rpd-rt/rt_types.h>
+#include <jnx/jnx_types.h>
+#include <jnx/rpd-if/if_types.h>
+#include <jnx/rpd-krt/krt_types.h>
+#include <jnx/rpd-mc/mc_types.h>
+#include <jnx/rpd-mpls/tag_types.h>
+#include <jnx/rpd-rt/rt_table_api.h>
+
+#include <jnx/bit_vector.h>
+#include <itable/itable.h>
+#include <jnx/task_stdio.h>
+#include <jnx/task_job.h>
+#include <jnx/task_trace.h>
+
+#include <jnx/rpd-dat/dat.h>
+#include <jnx/rpd-dat/dat_module.h>
+#include <jnx/rpd-dat-config/dat_config.h>
+#include <jnx/grow_array.h>
+
+#include <jnx/task_daemon.h>
+#include <jnx/task_module.h>
+#include <jnx/rpd-ctx/rpd_vector.h>
+#include <jnx/rpd-ctx/app_ctx.h>
+#include <jnx/rpd-if/if_api.h>
+
+/*
+ * Global Var Declarations
+ */
+static patroot assoc_group_id_head;
+static patroot assoc_group_name_head;
+static boolean patroot_inited = FALSE, rsvp_registered = FALSE, srte_registered = FALSE;
+static boolean rsvp_processing_complete = FALSE, srte_processing_complete = FALSE;
+static block_t assoc_group_id_block;
+static block_t assoc_group_name_block;
+static block_t assoc_config_trans_block;
+static dat_commit_transactions_list_t global_trans_list;
+
+dat_commit_transaction_t *dat_commit_transactions_head = NULL;
+
+#define ASSOCIATION_GROUP_MAX_NAME_SIZE 64
+
+typedef struct dat_conf_common_flags_t_ {
+    boolean link;
+    boolean node;
+    boolean srlg;
+    boolean strict;
+} dat_conf_common_flags_t;
+
+static void
+diversity_association_group_init (void)
+{
+    /*
+     * Patricia Root Initialization
+     */
+    patricia_root_init(&assoc_group_id_head, FALSE, sizeof(uint16_t), 0);
+    patricia_root_init(&assoc_group_name_head, FALSE, ASSOCIATION_GROUP_MAX_NAME_SIZE, 0);
+
+    /*
+     * Task Block allocations
+     */
+    if (!assoc_group_id_block) {
+        assoc_group_id_block = task_block_init(
+                                     sizeof(dat_group_id_tbl_t),
+                                     "diversity_association_group_id_block");
+    }
+    if (!assoc_group_name_block) {
+        assoc_group_name_block = task_block_init(
+                                     sizeof(dat_group_name_tbl_t),
+                                     "diversity_association_group_name_block");
+    }
+    if (!assoc_config_trans_block) {
+        assoc_config_trans_block = task_block_init(
+                                       sizeof(dat_commit_transaction_t),
+                                       "diversity_association_group_info_trans_block");
+    }
+    patroot_inited = TRUE;
+    global_trans_list.commit_counter=0;
+    global_trans_list.commit_transactions_list=NULL;
+}
+
+static void
+diversity_association_group_set_type (dat_group_id_tbl_t   *dat_id,
+                                      dat_group_name_tbl_t *dat_name,
+                                      int32_t               type)
+{
+    if (type == DIV_ASSOC_TYPE_NODE) {
+        dat_id->node_flag = TRUE;
+        dat_id->link_flag = FALSE;
+        dat_id->srlg_flag = FALSE;
+        dat_name->node_flag = TRUE;
+        dat_name->link_flag = FALSE;
+        dat_name->srlg_flag = FALSE;
+    } else if (type == DIV_ASSOC_TYPE_LINK) {
+        dat_id->node_flag = FALSE;
+        dat_id->link_flag = TRUE;
+        dat_id->srlg_flag = FALSE;
+        dat_name->node_flag = FALSE;
+        dat_name->link_flag = TRUE;
+        dat_name->srlg_flag = FALSE;
+    } else if (type == DIV_ASSOC_TYPE_SRLG_LINK) {
+        dat_id->node_flag = FALSE;
+        dat_id->link_flag = TRUE;
+        dat_id->srlg_flag = TRUE;
+        dat_name->node_flag = FALSE;
+        dat_name->link_flag = TRUE;
+        dat_name->srlg_flag = TRUE;
+    } else if (type == DIV_ASSOC_TYPE_SRLG_NODE) {
+        dat_id->node_flag = TRUE;
+        dat_id->link_flag = TRUE;
+        dat_id->srlg_flag = TRUE;
+        dat_name->node_flag = TRUE;
+        dat_name->link_flag = TRUE;
+        dat_name->srlg_flag = TRUE;
+    } else {
+        dat_id->node_flag = FALSE;
+        dat_id->link_flag = FALSE;
+        dat_id->srlg_flag = FALSE;
+        dat_name->node_flag = FALSE;
+        dat_name->link_flag = FALSE;
+        dat_name->srlg_flag = FALSE;
+    }
+}
+
+static void
+diversity_association_enqueue_config_changes (dat_group_id_tbl_t    *dat_info,
+                                              dat_group_operation_e  op)
+{
+    dat_commit_transaction_t *trans_entry = NULL;
+
+    trans_entry = task_block_alloc(assoc_config_trans_block);
+    if (!trans_entry) {
+        return;
+    }
+    if (op == DAT_GROUP_OPERATION_UPDATE) {
+        global_trans_list.update_counter++;
+    }
+    trans_entry->operation = op;
+    trans_entry->group_id = dat_info->group_id;
+    strncpy(trans_entry->group_name,
+            dat_info->group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE-1);
+    trans_entry->node_flag = dat_info->node_flag;
+    trans_entry->link_flag = dat_info->link_flag;
+    trans_entry->srlg_flag = dat_info->srlg_flag;
+    trans_entry->strict = dat_info->strict;
+    trans_entry->assoc_src_v4_valid = dat_info->assoc_src_v4_valid;
+    memcpy(&trans_entry->assoc_src_v4, &dat_info->assoc_src_v4, sizeof(struct in_addr));
+    trans_entry->assoc_src_v6_valid = dat_info->assoc_src_v6_valid;
+    memcpy(&trans_entry->assoc_src_v6, &dat_info->assoc_src_v6, sizeof(struct in6_addr));
+    trans_entry->next = NULL;
+    if (global_trans_list.commit_transactions_list == NULL) {
+        global_trans_list.commit_transactions_list = trans_entry;
+    } else {
+        dat_commit_transaction_t *tmp = NULL;
+        tmp = global_trans_list.commit_transactions_list;
+        while (tmp->next != NULL) {
+            tmp = tmp->next;
+        }
+        tmp->next = trans_entry;
+    }
+    global_trans_list.transactions_count++;
+}
+
+void 
+diversity_association_group_add (char         group_name[ASSOCIATION_GROUP_MAX_NAME_SIZE],
+                                 int32_t      type,
+                                 boolean      strict,
+                                 uint16_t     group_id,
+                                 boolean      assoc_src_v4_valid,
+                                 struct       in_addr *v4_src,
+                                 boolean      assoc_src_v6_valid,
+                                 struct       in6_addr *v6_src)
+{
+    dat_group_id_tbl_t   *dat_id_info = NULL;
+    dat_group_name_tbl_t *dat_name_info = NULL;
+
+    if (!patroot_inited) {
+        diversity_association_group_init();
+    }
+    /*
+     * Validation
+     */
+    dat_name_info = (dat_group_name_tbl_t *) patricia_get(
+                            &assoc_group_name_head,
+                            (u_int16_t) strnlen(group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE),
+                            group_name);
+    if (dat_name_info) {
+        return;
+    }
+    /*
+     * Memory allocation
+     */
+    dat_id_info = task_block_alloc(assoc_group_id_block);
+    if (!dat_id_info) {
+        return;
+    }
+    dat_name_info = task_block_alloc(assoc_group_name_block);
+    if (!dat_name_info) {
+        task_block_free(assoc_group_id_block, dat_id_info);
+        return;
+    }
+    
+    dat_id_info->group_id = group_id;
+    dat_name_info->group_id = group_id;
+    bzero(dat_name_info->group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE);
+    bzero(dat_id_info->group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE);
+    strncpy(dat_name_info->group_name, group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE-1);
+    strncpy(dat_id_info->group_name, group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE-1);
+    diversity_association_group_set_type(dat_id_info, dat_name_info, type);
+    dat_id_info->strict = strict;
+    dat_name_info->strict = strict;
+    dat_id_info->assoc_src_v4_valid = assoc_src_v4_valid;
+    memcpy(&dat_id_info->assoc_src_v4, v4_src, sizeof(struct in_addr));
+    dat_id_info->assoc_src_v6_valid = assoc_src_v6_valid;
+    memcpy(&dat_id_info->assoc_src_v6, v6_src, sizeof(struct in6_addr));
+    dat_name_info->assoc_src_v4_valid = assoc_src_v4_valid;
+    memcpy(&dat_name_info->assoc_src_v4, v4_src, sizeof(struct in_addr));
+    dat_name_info->assoc_src_v6_valid = assoc_src_v6_valid;
+    memcpy(&dat_name_info->assoc_src_v6, v6_src, sizeof(struct in6_addr));
+    patricia_node_init(&dat_id_info->group_id_patnode);
+    patricia_add(&assoc_group_id_head, &dat_id_info->group_id_patnode);
+    patricia_node_init(&dat_name_info->group_name_patnode);
+    patricia_add(&assoc_group_name_head, &dat_name_info->group_name_patnode);
+    diversity_association_enqueue_config_changes(dat_id_info, DAT_GROUP_OPERATION_ADD);
+    return;
+}
+
+void
+diversity_association_group_modify (char         group_name[ASSOCIATION_GROUP_MAX_NAME_SIZE],
+                                    int32_t      type,
+                                    boolean      strict,
+                                    uint16_t     old_group_id,
+                                    uint16_t     group_id,
+                                    boolean      assoc_src_v4_valid,
+                                    struct       in_addr *v4_src,
+                                    boolean      assoc_src_v6_valid,
+                                    struct       in6_addr *v6_src)
+{
+    dat_group_id_tbl_t   *dat_id_info = NULL;
+    dat_group_name_tbl_t *dat_name_info = NULL;
+    char groupname[ASSOCIATION_GROUP_MAX_NAME_SIZE+1];
+
+    bzero(groupname, ASSOCIATION_GROUP_MAX_NAME_SIZE+1);
+    strncpy(groupname, group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE);
+    if (!patroot_inited) {
+        diversity_association_group_init();
+    }
+    dat_name_info = (dat_group_name_tbl_t *) patricia_get(
+                            &assoc_group_name_head, ASSOCIATION_GROUP_MAX_NAME_SIZE, groupname);
+    if (!dat_name_info) {
+        return;
+    }
+    if (group_id == old_group_id) {
+        dat_id_info = (dat_group_id_tbl_t*) patricia_get(
+                            &assoc_group_id_head, sizeof(uint16_t), &group_id);
+        if (!dat_id_info) {
+            return;
+        }
+    } else {
+        dat_id_info = (dat_group_id_tbl_t*) patricia_get(
+                            &assoc_group_id_head, sizeof(uint16_t), &old_group_id);
+        if (!dat_id_info) {
+            return;
+        }
+        patricia_delete(&assoc_group_id_head, &dat_id_info->group_id_patnode);
+        dat_id_info = task_block_alloc(assoc_group_id_block);
+        if (!dat_id_info) {
+            return;
+        }
+        dat_id_info->group_id = group_id;
+        bzero(dat_id_info->group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE);
+        strncpy(dat_id_info->group_name, group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE-1);
+        patricia_node_init(&dat_id_info->group_id_patnode);
+        patricia_add(&assoc_group_id_head, &dat_id_info->group_id_patnode);
+        dat_name_info->group_id = group_id;
+    }
+    diversity_association_group_set_type(dat_id_info, dat_name_info, type);
+    dat_id_info->strict = strict;
+    dat_name_info->strict = strict;
+    dat_id_info->assoc_src_v4_valid = assoc_src_v4_valid;
+    memcpy(&dat_id_info->assoc_src_v4, v4_src, sizeof(struct in_addr));
+    dat_id_info->assoc_src_v6_valid = assoc_src_v6_valid;
+    memcpy(&dat_id_info->assoc_src_v6, v6_src, sizeof(struct in6_addr));
+    dat_name_info->assoc_src_v4_valid = assoc_src_v4_valid;
+    memcpy(&dat_name_info->assoc_src_v4, v4_src, sizeof(struct in_addr));
+    dat_name_info->assoc_src_v6_valid = assoc_src_v6_valid;
+    memcpy(&dat_name_info->assoc_src_v6, v6_src, sizeof(struct in6_addr));
+    diversity_association_enqueue_config_changes(dat_id_info, DAT_GROUP_OPERATION_UPDATE);
+}
+
+void
+diversity_association_group_delete (char         group_name[ASSOCIATION_GROUP_MAX_NAME_SIZE],
+                                    int32_t      type UNUSED,
+                                    boolean      strict UNUSED,
+                                    uint16_t     group_id)
+{
+    dat_group_id_tbl_t   *dat_id_info = NULL;
+    dat_group_name_tbl_t *dat_name_info = NULL;
+    char                  groupname[ASSOCIATION_GROUP_MAX_NAME_SIZE+1];
+
+    bzero(groupname, ASSOCIATION_GROUP_MAX_NAME_SIZE+1);
+    strncpy(groupname, group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE);
+    if (!patroot_inited) {
+        diversity_association_group_init();
+    }
+    dat_name_info = (dat_group_name_tbl_t *) patricia_get(
+                            &assoc_group_name_head, ASSOCIATION_GROUP_MAX_NAME_SIZE, &groupname);
+    if (!dat_name_info) {
+        return;
+    }
+    dat_id_info = (dat_group_id_tbl_t *) patricia_get(
+                            &assoc_group_id_head, sizeof(uint16_t), &group_id);
+    if (!dat_id_info) {
+        return;
+    }
+
+    patricia_delete(&assoc_group_id_head, &dat_id_info->group_id_patnode);
+    patricia_delete(&assoc_group_name_head, &dat_name_info->group_name_patnode);
+    diversity_association_enqueue_config_changes(dat_id_info, DAT_GROUP_OPERATION_DELETE);
+}
+
+
+dat_group_name_tbl_t *
+diversity_association_group_api_get_info_from_group_name (
+                                    char group_name[ASSOCIATION_GROUP_MAX_NAME_SIZE])
+{
+    dat_group_name_tbl_t *dat_name_info = NULL;
+    char                  groupname[ASSOCIATION_GROUP_MAX_NAME_SIZE+1];
+
+    bzero(groupname, ASSOCIATION_GROUP_MAX_NAME_SIZE+1);
+    strncpy(groupname, group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE);
+    if (!patroot_inited) {
+        return NULL;
+    }
+    dat_name_info = (dat_group_name_tbl_t *) patricia_get(
+                            &assoc_group_name_head, ASSOCIATION_GROUP_MAX_NAME_SIZE, &groupname);
+
+    return dat_name_info;
+}
+
+dat_group_id_tbl_t*
+diversity_association_group_api_get_info_from_group_groupid (uint16_t group_id)
+{
+    dat_group_id_tbl_t *dat_id_info = NULL;
+
+    if (!patroot_inited) {
+        return NULL;
+    }
+
+    dat_id_info = (dat_group_id_tbl_t *) patricia_get( 
+                            &assoc_group_id_head, sizeof(uint16_t), &group_id);
+
+    return dat_id_info;
+}
+
+uint16_t
+diversity_association_group_api_get_group_id_from_name(
+                                    char group_name[ASSOCIATION_GROUP_MAX_NAME_SIZE])
+{
+    dat_group_name_tbl_t *dat_name_info = NULL;
+    char                  groupname[ASSOCIATION_GROUP_MAX_NAME_SIZE+1];
+
+    bzero(groupname, ASSOCIATION_GROUP_MAX_NAME_SIZE+1);
+    strncpy(groupname, group_name, ASSOCIATION_GROUP_MAX_NAME_SIZE);
+    if (patroot_inited) {
+        dat_name_info = (dat_group_name_tbl_t *) patricia_get(
+                            &assoc_group_name_head, ASSOCIATION_GROUP_MAX_NAME_SIZE, &groupname);
+
+        return dat_name_info->group_id;
+    }
+
+    return 0;
+}
+
+boolean
+diversity_association_group_register_client (diversity_association_clients_e client)
+{
+    switch (client) {
+    case DAT_CLIENT_RSVP:
+        rsvp_registered = TRUE;
+        break;
+    case DAT_CLIENT_SRTE:
+        srte_registered = TRUE;
+        break;
+    default:
+        return FALSE;
+    }
+    return TRUE;
+}
+
+void
+diversity_association_group_api_cfg_processing_complete (diversity_association_clients_e client)
+{
+    switch (client) {
+    case DAT_CLIENT_RSVP:
+        rsvp_processing_complete = TRUE;
+        break;
+    case DAT_CLIENT_SRTE:
+        srte_processing_complete = TRUE;
+        break;
+    default:
+        return;
+    }
+    if (!rsvp_processing_complete || !srte_processing_complete) {
+        return;
+    }
+    diversity_association_clear_commit_transactions();
+}
+
+void
+diversity_association_clear_commit_transactions (void)
+{
+    struct dat_commit_transactions_ *trans_info = NULL, *tmp = NULL;
+
+    if (global_trans_list.commit_transactions_list != NULL) {
+        tmp = global_trans_list.commit_transactions_list;
+        while (tmp != NULL) {
+            trans_info = tmp->next;
+            if (tmp->operation == DAT_GROUP_OPERATION_DELETE) {
+            }
+            task_block_free(assoc_config_trans_block, tmp);
+            global_trans_list.transactions_count--;
+            tmp = trans_info;
+        }
+    }
+    global_trans_list.commit_transactions_list = NULL;
+    global_trans_list.transactions_count = 0;
+    global_trans_list.update_counter = 0;
+    rsvp_processing_complete = FALSE;
+    srte_processing_complete = FALSE;
+}
+
+void
+diversity_association_increment_commit_reference_id (void)
+{
+    if (global_trans_list.transactions_count) {
+        global_trans_list.commit_counter++;
+    }
+}
+
+dat_commit_transactions_list_t *
+diversity_association_group_api_get_commit_entries_info (void)
+{
+    return &global_trans_list;
+}
+
+void diversity_association_startup (void)
+{
+    if (!patroot_inited) {
+        diversity_association_group_init();
+    }
+}
+
+void 
+diversity_association_run_ut (void)
+{
+    dat_commit_transactions_list_t *list = NULL;
+    if (TRUE) {
+        return;
+    }
+    list = diversity_association_group_api_get_commit_entries_info();
+    if (!list) {
+    } else {
+        struct dat_commit_transactions_ *trans_info = NULL;
+        trans_info = list->commit_transactions_list;
+        while (trans_info != NULL) {
+            trans_info = trans_info->next;
+        }
+    }
+    diversity_association_group_api_cfg_processing_complete(DAT_CLIENT_RSVP);
+    list = diversity_association_group_api_get_commit_entries_info();
+    if (!list) {
+    } else {
+        struct dat_commit_transactions_ *trans_info = NULL;
+        trans_info = list->commit_transactions_list;
+        while (trans_info != NULL) {
+            trans_info = trans_info->next;
+        }
+    }
+    diversity_association_group_api_cfg_processing_complete(DAT_CLIENT_SRTE);
+}
+
+void
+diversity_association_group_api_fill_config_flags(dat_group_id_tbl_t   *dat_info,
+                                                  void                 *lsp_disj)
+{
+    dat_conf_common_flags_t *ptr = (dat_conf_common_flags_t *) lsp_disj;
+    ptr->link = dat_info->link_flag;
+    ptr->node = dat_info->node_flag;
+    ptr->srlg = dat_info->srlg_flag;
+    ptr->strict = dat_info->strict;
+}
+
+boolean
+diversity_association_group_api_commit_trans_has_update_op (void)
+{
+    if (global_trans_list.update_counter) {
+        return TRUE;
+    }
+    return FALSE;
+}
+
+boolean
+diversity_association_group_api_did_group_entry_change (uint16_t group_id)
+{
+    struct dat_commit_transactions_ *trans_info = NULL, *tmp = NULL;
+
+    if (global_trans_list.commit_transactions_list != NULL) {
+        tmp = global_trans_list.commit_transactions_list;
+        while (tmp != NULL) {
+            trans_info = tmp->next;
+            if (tmp->group_id == group_id) {
+                return TRUE;
+            }
+            tmp = trans_info;
+        }
+    }
+    return FALSE;
+}
Index: layer3/usr.sbin/rpd/lib/divassoc/core/h/Makefile
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/h/Makefile	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/h/Makefile	(working copy)
@@ -0,0 +1 @@
+.include <jnx.stage.incs.mk>
Index: layer3/usr.sbin/rpd/lib/divassoc/core/h/Makefile.depend
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/h/Makefile.depend	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/h/Makefile.depend	(working copy)
@@ -0,0 +1,3 @@
+DIRDEPS =
+
+.include <dirdeps.mk>
Index: layer3/usr.sbin/rpd/lib/divassoc/core/h/jnx/rpd-dat/dat.h
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/h/jnx/rpd-dat/dat.h	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/h/jnx/rpd-dat/dat.h	(working copy)
@@ -0,0 +1,156 @@
+/*
+ * dat.h
+ *
+ * dat.h - Diversity Association Group Public APIs
+ *
+ * Copyright (c) 2023, Juniper Networks, Inc.
+ * All rights reserved.
+ */
+
+#ifndef	 RPD_RT_RT_DAT_H
+#define	 RPD_RT_RT_DAT_H
+
+#define DIV_ASSOC_GROUP_NAME_MAX_LEN 64
+
+/*
+ * Diversity Association Group CLI operation
+ */
+typedef enum dat_group_operation_ {
+    DAT_GROUP_OPERATION_ADD,
+    DAT_GROUP_OPERATION_UPDATE,
+    DAT_GROUP_OPERATION_DELETE,
+} dat_group_operation_e;
+
+/*
+ * Clients for Diversity Association Group Library
+ */
+typedef enum diversity_association_clients_ {
+    DAT_CLIENT_RSVP,
+    DAT_CLIENT_SRTE,
+} diversity_association_clients_e;
+
+/*
+ * Diversity Association Group Entry information
+ */
+typedef struct dat_group_name_tbl_ {
+    patnode         group_name_patnode;
+    char            group_name[DIV_ASSOC_GROUP_NAME_MAX_LEN];
+    uint16_t        group_id;
+    boolean         node_flag;
+    boolean         link_flag;
+    boolean         srlg_flag;
+    boolean         strict;
+    boolean         assoc_src_v4_valid;
+    struct in_addr  assoc_src_v4;
+    boolean         assoc_src_v6_valid;
+    struct in6_addr assoc_src_v6;
+} dat_group_name_tbl_t;
+
+PATNODE_TO_STRUCT(divassoc_patnode_to_groupid_info, struct dat_group_name_tbl_, group_name_patnode);
+
+typedef struct dat_group_id_tbl_ {
+    patnode         group_id_patnode;
+    uint16_t        group_id;
+    char            group_name[DIV_ASSOC_GROUP_NAME_MAX_LEN];
+    boolean         node_flag;
+    boolean         link_flag;
+    boolean         srlg_flag;
+    boolean         strict;
+    boolean         assoc_src_v4_valid;
+    struct in_addr  assoc_src_v4;
+    boolean         assoc_src_v6_valid;
+    struct in6_addr assoc_src_v6;
+} dat_group_id_tbl_t;
+
+PATNODE_TO_STRUCT(divassoc_patnode_to_groupname_info, struct dat_group_id_tbl_, group_id_patnode);
+
+/*
+ * Diversity Association group CLI delta transaction
+ */
+typedef struct dat_commit_transactions_ {
+    dat_group_operation_e                 operation;
+    char                                  group_name[DIV_ASSOC_GROUP_NAME_MAX_LEN];
+    uint16_t                              group_id;
+    boolean                               node_flag;
+    boolean                               link_flag;
+    boolean                               srlg_flag;
+    boolean                               strict;
+    boolean                               assoc_src_v4_valid;
+    struct in_addr                        assoc_src_v4;
+    boolean                               assoc_src_v6_valid;
+    struct                                in6_addr assoc_src_v6;
+    struct dat_commit_transactions_      *next;
+} dat_commit_transaction_t;
+
+/*
+ * List of Diversity Association group CLI delta transaction
+ */
+typedef struct dat_commit_transactions_list_ {
+    uint32_t                            transactions_count;
+    dat_commit_transaction_t           *commit_transactions_list;
+    uint32_t                            commit_counter;
+    uint32_t                            update_counter;
+} dat_commit_transactions_list_t;
+
+/*
+ * Diversity Association Group API to register for processing changes
+ * in CLI since previous commit operation
+ */
+boolean
+diversity_association_group_register_client(diversity_association_clients_e client);
+
+/*
+ * Diversity Association Group API to get Association Group information,
+ * given the group name
+ */
+dat_group_name_tbl_t *
+diversity_association_group_api_get_info_from_group_name(char group_name[]);
+
+/*
+ * Diversity Association Group API to get Association Group information,
+ * given the group id
+ */
+dat_group_id_tbl_t *
+diversity_association_group_api_get_info_from_group_groupid(uint16_t group_id);
+
+/*
+ * Diversity Association Group API to get Association Group ID,
+ * given the group name
+ */
+uint16_t
+diversity_association_group_api_get_group_id_from_name(char group_name[]);
+
+/*
+ * Diversity Association Group API to get modified group entries
+ * since last CLI commit operation
+ */
+dat_commit_transactions_list_t *
+diversity_association_group_api_get_commit_entries_info(void);
+
+/*
+ * Diversity Association Group API for clients to notify DAG library
+ * upon completion of CLI processing
+ */
+void
+diversity_association_group_api_cfg_processing_complete(diversity_association_clients_e client);
+
+/*
+ * Diversity Association Group API for clients to fill diversity association flags
+ */
+void
+diversity_association_group_api_fill_config_flags(dat_group_id_tbl_t    *dat_info,
+                                                  void                  *lsp_disj);
+
+/*
+ * Diversity Association Group API for clients to check if any update in commit transaction list
+ */
+boolean
+diversity_association_group_api_commit_trans_has_update_op (void);
+
+/*
+ * Diversity Association Group API for clients to see if a group ID changed or not
+ */
+boolean
+diversity_association_group_api_did_group_entry_change (uint16_t group_id);
+
+#endif
Index: layer3/usr.sbin/rpd/lib/divassoc/core/h/jnx/rpd-dat/dat_module.h
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/h/jnx/rpd-dat/dat_module.h	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/h/jnx/rpd-dat/dat_module.h	(working copy)
@@ -0,0 +1,17 @@
+/*
+ * $Id$
+ *
+ * dat_module.h - RPD module related declarations for Diversity Association module
+ *
+ * Copyright (c) 2023, Juniper Networks, Inc.
+ * All rights reserved.
+ */
+#ifndef __DAT_MODULE_H__
+#define __DAT_MODULE_H__
+
+void diversity_association_startup(void);
+
+#define APP_CTX_RPD_DAT			\
+    .startup = diversity_association_startup,			\
+
+#endif /* __DAT_MODULE_H__ */
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile	(working copy)
@@ -0,0 +1,8 @@
+#
+# $Id$
+#
+# Copyright (c) 2018, Juniper Networks, Inc.
+# All rights reserved.
+#
+
+.include <jnx.ddl.actions.mk>
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,ubuntu	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,wrlinux
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,wrlinux	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,wrlinux	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,yocto
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,yocto	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,yocto	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.arm	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.arm	(working copy)
@@ -0,0 +1,17 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.arm64,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.arm64,ubuntu	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.host	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.host	(working copy)
@@ -0,0 +1,17 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	pfe-shared/include/jnx.common \
+	pfe-shared/include/jnx/jam.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.host32	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.host32	(working copy)
@@ -0,0 +1,17 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386	(working copy)
@@ -0,0 +1,17 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,bsd6
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,bsd6	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,bsd6	(working copy)
@@ -0,0 +1,22 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	bsd/lib/csu/i386-elf \
+	junos-shared/include/jnx/sys \
+	junos/bsd/include \
+	junos/gnu/lib/csu \
+	junos/gnu/lib/libgcc \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,evo
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,evo	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,evo	(working copy)
@@ -0,0 +1,17 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,ubuntu	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,wrlinux
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,wrlinux	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,wrlinux	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,yocto
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,yocto	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.i386,yocto	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.octeon	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.octeon	(working copy)
@@ -0,0 +1,17 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.octeon64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.octeon64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.octeon64	(working copy)
@@ -0,0 +1,17 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.powerpc
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.powerpc	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.powerpc	(working copy)
@@ -0,0 +1,22 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	bsd/lib/csu/powerpc \
+	junos-shared/include/jnx/sys \
+	junos/bsd/include \
+	junos/gnu/lib/csu \
+	junos/gnu/lib/libgcc \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.xlp64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.xlp64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.xlp64	(working copy)
@@ -0,0 +1,20 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	bsd/lib/csu/mips \
+	junos/bsd/include \
+	junos/gnu/lib/csu \
+	junos/gnu/lib/libgcc \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.xlr
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.xlr	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.xlr	(working copy)
@@ -0,0 +1,22 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	bsd/lib/csu/mips \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/gnu/lib/csu \
+	junos/gnu/lib/libgcc \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.xlr64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.xlr64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.xlr64	(working copy)
@@ -0,0 +1,22 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	bsd/lib/csu/mips \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/gnu/lib/csu \
+	junos/gnu/lib/libgcc \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/dat.cnf.dd
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/dat.cnf.dd	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/dat.cnf.dd	(working copy)
@@ -0,0 +1,91 @@
+/*
+ * $Id$
+ *
+ * Diversity Association Group Configuration
+ *
+ * Copyright (c) 2023, Juniper Networks, Inc.
+ * All rights reserved.
+ */
+
+#include "layer3-common/trace.dd"
+#include "layer3-common/common.dd"
+#include "layer3-common/dd_include.dd"
+
+#define GROUPID_MIN               1
+#define GROUPID_MAX               65535
+#define DIV_ASSOC_NAME_MAX_LENGTH 64
+
+object juniper-routing-options {
+    /* Diversity Association object. */
+    object diversity-association {
+        help "Diversity Association Group configuration";
+        flag setof list delta-list remove-empty;
+
+        attribute group-name {
+            help "Diversity Association group name";
+            flag nokeyword identifier;
+            type ranged string 1 .. DIV_ASSOC_NAME_MAX_LENGTH;
+            match "!all";
+            match-message "'all' is invalid name for diversity association group name";
+        }
+
+        attribute group-id {
+            help "Diversity Association group id";
+            type ranged ushort GROUPID_MIN .. GROUPID_MAX;
+            must (unique ".. .. diversity-association <*> group-id $$");
+            must-message "selected group id is already configured. Try different group-id value";
+            must (".. association-type");
+            must-message "Mandatory association type configuration is missing";
+        }
+
+        attribute association-type {
+            help "Association Type";
+            type enum uint {
+                choice node {
+                    help "Disjoint Level Node";
+                    define DISJOINT_NODE;
+                }
+                choice link {
+                    help "Disjoint Level Link";
+                    define DISJOINT_LINK;
+                }
+                choice srlg-node {
+                    help "Disjoint Level SRLG-Node";
+                    define DISJOINT_SRLG_NODE;
+                }
+                choice srlg-link {
+                    help "Disjoint Level SRLG-Link";
+                    define DISJOINT_SRLG_LINK;
+                }
+            }
+            must (".. group-id");
+            must-message "Mandatory association id configuration is missing";
+        }
+
+        attribute strict {
+            help "Strict Disjointness";
+            type toggle
+            must (".. association-type");
+            must-message "Mandatory association type configuration is missing";
+        }
+
+        attribute association-src-ipv4 {
+            help "IPV4 Association Source";
+            type ipv4addr;
+            must (! ".. association-src-ipv6");
+            must-message "Cannot have both v4 & v6 assoication source";
+            must (".. group-id");
+            must-message "Mandatory association id configuration is missing";
+        }
+
+        attribute association-src-ipv6 {
+            help "IPV6 Association Source";
+            type ipv6addr;
+            must (! ".. association-src-ipv4");
+            must-message "Cannot have both v6 & v4 assoication source";
+            must (".. group-id");
+            must-message "Mandatory association id configuration is missing";
+        }
+    }
+}
+
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile	(working copy)
@@ -0,0 +1,12 @@
+#
+# $Id$
+#
+# Copyright (c) 2023, Juniper Networks, Inc.
+# All rights reserved.
+
+FEATURE_INPUT_FILES = \
+	dat.cnf.dd
+
+# Let analytics take over
+.include <jnx.layer3.mk>
+.include <jnx.ddl.gen.mk>
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	pfe-shared/include/jnx \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,bsd6
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,bsd6	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,bsd6	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	pfe-shared/include/jnx \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,bsdx
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,bsdx	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,bsdx	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	pfe-shared/include/jnx \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,linux
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,linux	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,linux	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	pfe-shared/include/jnx.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,ub14
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,ub14	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,ub14	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	pfe-shared/include/jnx.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,ubuntu	(working copy)
@@ -0,0 +1,12 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,wrlinux
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,wrlinux	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.common,wrlinux	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	pfe-shared/include/jnx \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	pfe-shared/include/jnx \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,ubuntu	(working copy)
@@ -0,0 +1,12 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,wrlinux
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,wrlinux	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,wrlinux	(working copy)
@@ -0,0 +1,12 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,yocto
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,yocto	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,yocto	(working copy)
@@ -0,0 +1,12 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.octeon	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.octeon	(working copy)
@@ -0,0 +1,21 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	junos/bsd/include \
+	junos/lib/libjunos-product-info \
+	ui/lib/libjunos-bits \
+	ui/lib/libjunos-log-trace \
+	ui/lib/libjunos-offset-patricia \
+	ui/lib/libjunos-patricia \
+	ui/lib/libjunos-string \
+	ui/tools/ddc.host \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile	(working copy)
@@ -0,0 +1,32 @@
+#
+# $Id$
+#
+# Copyright (c) 2020, Juniper Networks, Inc.
+# All rights reserved.
+#
+
+LIB = rpd-infra-dat-ui
+
+WITH_SYM_CHECK = 1
+
+SRCS = \
+	dat_ui.c
+
+CFLAGS += \
+	-DRPD_TAG_T \
+	-DDDL_NO_CHECK_PRINTF
+
+SRC_LIBS += \
+	${LIBJTRACE} \
+	${LIBJTASK} \
+	${LIBRPD-INFRA-COMMON} \
+	${LIBRPD-INFRA-POLICY} \
+	${LIBRPD-INFRA-CTX} \
+	${LIBRPD-INFRA-MC} \
+	${LIBRPD-INFRA-IF} \
+	${LIBRPD-INFRA-RT} \
+	${LIBRPD-INFRA-MPLS-LABEL} \
+	${LIBRPD-INFRA-KRT}
+
+.include <bsd.lib.mk>
+
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.amd64,evo
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.amd64,evo	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.amd64,evo	(working copy)
@@ -0,0 +1,23 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.arm	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.arm	(working copy)
@@ -0,0 +1,23 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.arm64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.arm64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.arm64	(working copy)
@@ -0,0 +1,23 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.arm64,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.arm64,ubuntu	(working copy)
@@ -0,0 +1,20 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.host	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.host	(working copy)
@@ -0,0 +1,24 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.host32	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.host32	(working copy)
@@ -0,0 +1,24 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.i386	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.i386	(working copy)
@@ -0,0 +1,23 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.octeon	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.octeon	(working copy)
@@ -0,0 +1,23 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.octeon,bsd6	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.octeon,bsd6	(working copy)
@@ -0,0 +1,25 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	dsa/shared/include/jnx.common,${DEP_TARGET_OS} \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.octeon64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.octeon64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.octeon64	(working copy)
@@ -0,0 +1,23 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/h/Makefile
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/h/Makefile	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/h/Makefile	(working copy)
@@ -0,0 +1 @@
+.include <jnx.stage.incs.mk>
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/h/jnx/rpd-dat-ui/dat_ui_module.h
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/h/jnx/rpd-dat-ui/dat_ui_module.h	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/h/jnx/rpd-dat-ui/dat_ui_module.h	(working copy)
@@ -0,0 +1,18 @@
+/*
+ * $Id$
+ *
+ * dat_ui_module.h - RPD module-related public declarations for DAT UI code
+ *
+ * Copyright (c) 2023, Juniper Networks, Inc.
+ * All rights reserved.
+ */
+
+#ifndef __DAT_UI_MODULE_H__
+#define __DAT_UI_MODULE_H__
+
+void diversity_association_ui_startup(void);
+
+#define APP_CTX_RPD_DAT_UI        \
+    .startup = diversity_association_ui_startup,	   \
+
+#endif /* __DAT_UI_MODULE_H__ */
Index: layer3/usr.sbin/rpd/lib/if-scope/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/if-scope/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/if-scope/tests/Makefile.depend.host	(working copy)
@@ -572,6 +572,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/if/api/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/if/api/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/if/api/tests/Makefile.depend.host32	(working copy)
@@ -578,6 +578,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/if/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/if/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/if/tests/Makefile.depend.host	(working copy)
@@ -579,6 +579,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/ifx-dist/client/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/ifx-dist/client/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/ifx-dist/client/tests/Makefile.depend.host32	(working copy)
@@ -452,6 +452,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
 	layer3/usr.sbin/rpd/lib/ext-reslvr \
Index: layer3/usr.sbin/rpd/lib/ifx-dist/server/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/ifx-dist/server/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/ifx-dist/server/tests/Makefile.depend.host	(working copy)
@@ -452,6 +452,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
 	layer3/usr.sbin/rpd/lib/ext-reslvr \
Index: layer3/usr.sbin/rpd/lib/ifx-dist/server/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/ifx-dist/server/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/ifx-dist/server/tests/Makefile.depend.host32	(working copy)
@@ -452,6 +452,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
 	layer3/usr.sbin/rpd/lib/ext-reslvr \
Index: layer3/usr.sbin/rpd/lib/ip/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/ip/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/ip/tests/Makefile.depend.host	(working copy)
@@ -580,6 +580,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/jipc-infra/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/jipc-infra/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/jipc-infra/tests/Makefile.depend.host	(working copy)
@@ -242,6 +242,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/krt/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/krt/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/krt/Makefile.depend.amd64,ubuntu	(working copy)
@@ -19,6 +19,7 @@
 	dsa/lib/bit-hi-lo/h.common \
 	dsa/lib/hbtree/h.common \
 	dsa/lib/junos-fsm/h.common \
+	dsa/lib/vector/h.common \
 	external/bsd/protobuf-c/lib \
 	junos/bsd/include \
 	junos/host-utils/idl.host \
Index: layer3/usr.sbin/rpd/lib/krt/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/krt/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/krt/tests/Makefile.depend.host32	(working copy)
@@ -581,6 +581,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/mpls/oam/core/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/mpls/oam/core/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/mpls/oam/core/tests/Makefile.depend.host32	(working copy)
@@ -578,6 +578,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/pfe-cfib/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/pfe-cfib/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/pfe-cfib/tests/Makefile.depend.host	(working copy)
@@ -244,6 +244,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/pfe-cfib/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/pfe-cfib/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/pfe-cfib/tests/Makefile.depend.host32	(working copy)
@@ -244,6 +244,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/policy/atf-tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/policy/atf-tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/policy/atf-tests/Makefile.depend.host	(working copy)
@@ -588,6 +588,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/policy/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/policy/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/policy/tests/Makefile.depend.host	(working copy)
@@ -580,6 +580,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/Makefile.depend.arm	(working copy)
@@ -21,6 +21,7 @@
 	dsa/lib/grand/h.common \
 	dsa/lib/hbtree/h.common \
 	dsa/lib/jipc/h.common \
+	dsa/lib/vector/h.common \
 	dsa/shared/include/jnx.common \
 	junos-shared/include/jnx/sys.common \
 	junos/bsd/include \
Index: layer3/usr.sbin/rpd/lib/rt/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/Makefile.depend.octeon	(working copy)
@@ -21,6 +21,7 @@
 	dsa/lib/grand/h.common \
 	dsa/lib/hbtree/h.common \
 	dsa/lib/jipc/h.common \
+	dsa/lib/vector/h.common \
 	dsa/shared/include/jnx.common \
 	junos-shared/include/jnx/sys.common \
 	junos/bsd/include \
Index: layer3/usr.sbin/rpd/lib/rt/rpd_server_extctrl.c
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/rpd_server_extctrl.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/rpd_server_extctrl.c	(working copy)
@@ -2654,6 +2654,26 @@
     }
 
     /*
+     * Disjoint Assoc Info
+     */
+    if (lcs->div_assoc_info_count) {
+        if (!rpc_proto_build_complete_tlv(&cur_tlv, RPC_TLV_DATA_32_BIT,
+                                          &bytes_left, &length,
+                                          EXTCTRL_TLV_DISJOINT_ASSOC_INFO_COUNT,
+                                          &lcs->div_assoc_info_count,
+                                          sizeof(u_int32_t))) {
+            return 0;
+        }
+        if (!rpc_proto_build_complete_tlv(&cur_tlv, RPC_TLV_DATA_VARIABLE,
+                                          &bytes_left, &length,
+                                          EXTCTRL_TLV_DISJOINT_ASSOC_INFO,
+                                          lcs->div_assoc_info,
+                                          lcs->div_assoc_info_count * sizeof(lsp_association_info))) {
+            return 0;
+        }
+    }
+
+    /*
      * Encode AUTO bandwidth 
      */
 
Index: layer3/usr.sbin/rpd/lib/rt/rt-dist/server/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/rt-dist/server/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/rt-dist/server/tests/Makefile.depend.host32	(working copy)
@@ -456,6 +456,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
 	layer3/usr.sbin/rpd/lib/ext-reslvr \
Index: layer3/usr.sbin/rpd/lib/rt/tests/dyn-nh-template/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/dyn-nh-template/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/dyn-nh-template/Makefile.depend.host	(working copy)
@@ -581,6 +581,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/tests/nexthops/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/nexthops/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/nexthops/Makefile.depend.host	(working copy)
@@ -581,6 +581,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/tests/policy_multipath/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/policy_multipath/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/policy_multipath/Makefile.depend.host	(working copy)
@@ -581,6 +581,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/tests/rt_bitvalues_tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/rt_bitvalues_tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/rt_bitvalues_tests/Makefile.depend.host	(working copy)
@@ -242,6 +242,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/tests/rt_dyntunnel_test/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/rt_dyntunnel_test/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/rt_dyntunnel_test/Makefile.depend.host,linux	(working copy)
@@ -586,6 +586,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/tests/rt_exp_nh/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/rt_exp_nh/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/rt_exp_nh/Makefile.depend.host	(working copy)
@@ -582,6 +582,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/tests/rt_frr_test/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/rt_frr_test/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/rt_frr_test/Makefile.depend.host	(working copy)
@@ -581,6 +581,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/tests/rt_iter/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/rt_iter/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/rt_iter/Makefile.depend.host	(working copy)
@@ -581,6 +581,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/tests/rt_srv6_test/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/rt_srv6_test/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/rt_srv6_test/Makefile.depend.host	(working copy)
@@ -581,6 +581,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/tests/rt_test/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/rt_test/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/rt_test/Makefile.depend.host	(working copy)
@@ -582,6 +582,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/service-mapping/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/service-mapping/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/service-mapping/tests/Makefile.depend.host32	(working copy)
@@ -580,6 +580,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/srv6/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/srv6/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/srv6/tests/Makefile.depend.host	(working copy)
@@ -580,6 +580,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/srv6/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/srv6/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/srv6/tests/Makefile.depend.host32	(working copy)
@@ -67,10 +67,8 @@
 	esp-shared/usr.sbin/dot1xd/ddl/macsec/gen.common \
 	external/apache2/librdkafka/lib \
 	external/bsd/atf/lib/libatf-c \
-	external/bsd/atf/usr.bin/atf-config \
 	external/bsd/atf/usr.bin/atf-report \
 	external/bsd/atf/usr.bin/atf-run \
-	external/bsd/atf/usr.bin/atf-version \
 	external/bsd/jemalloc/lib/libjemalloc \
 	external/bsd/protobuf-c/lib \
 	external/bsd/qcbor/lib/libqcbor \
@@ -582,6 +580,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/trace/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/trace/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/trace/tests/Makefile.depend.host	(working copy)
@@ -577,6 +577,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/trace/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/trace/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/trace/tests/Makefile.depend.host32	(working copy)
@@ -577,6 +577,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/mpls_te/apps/express-segments/proto/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/apps/express-segments/proto/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/apps/express-segments/proto/Makefile.depend.amd64,ubuntu	(working copy)
@@ -10,6 +10,7 @@
 	daemon-infra/lib/libjtrace/h.common \
 	dsa/lib/bit-hi-lo/h.common \
 	dsa/lib/hbtree/h.common \
+	dsa/lib/vector/h.common \
 	junos/bsd/include \
 	junos/lib/libevent/h.common \
 	layer3/lib/liblmp/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/apps/express-segments/proto/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/apps/express-segments/proto/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/apps/express-segments/proto/Makefile.depend.arm	(working copy)
@@ -10,6 +10,7 @@
 	daemon-infra/lib/libjtrace/h.common \
 	dsa/lib/bit-hi-lo/h.common \
 	dsa/lib/hbtree/h.common \
+	dsa/lib/vector/h.common \
 	dsa/shared/include/jnx.common \
 	junos-shared/include/jnx/sys.common \
 	junos/bsd/include \
Index: layer3/usr.sbin/rpd/os/backup.c
===================================================================
--- layer3/usr.sbin/rpd/os/backup.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/os/backup.c	(working copy)
@@ -369,6 +369,10 @@
 #include <jnx/rpd-srlg-config/srlg_config_module.h>
 #include <jnx/rpd-srlg-ui/srlg_ui_module.h>
 
+#include <jnx/rpd-dat/dat_module.h>
+#include <jnx/rpd-dat-config/dat_config_module.h>
+#include <jnx/rpd-dat-ui/dat_ui_module.h>
+
 #include <jnx/rpd-rt-frr-sesid/rt_ppm_intf_init.h>
 #include <jnx/rpd-srv6/srv6_module.h>
 #include <jnx/rpd-srv6/srv6_mgmt.h>
@@ -474,6 +478,9 @@
     APP_CTX_RPD_MODULE_SRLG,
     APP_CTX_RPD_MODULE_SRLG_CONFIG,
     APP_CTX_RPD_MODULE_SRLG_UI,
+    APP_CTX_RPD_MODULE_DAT,
+    APP_CTX_RPD_MODULE_DAT_CONFIG,
+    APP_CTX_RPD_MODULE_DAT_UI,
     APP_CTX_RPD_MODULE_RIM,
     APP_CTX_RPD_MODULE_RIM_SERVER,
     APP_CTX_RPD_MODULE_RIM_SERVER_CONFIG,
Index: layer3/usr.sbin/rpd/mpls_te/apps/express-segments/proto/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/apps/express-segments/proto/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/apps/express-segments/proto/Makefile.depend.octeon	(working copy)
@@ -10,6 +10,7 @@
 	daemon-infra/lib/libjtrace/h.common \
 	dsa/lib/bit-hi-lo/h.common \
 	dsa/lib/hbtree/h.common \
+	dsa/lib/vector/h.common \
 	dsa/shared/include/jnx.common \
 	junos-shared/include/jnx/sys.common \
 	junos/bsd/include \
Index: layer3/usr.sbin/rpd/mpls_te/ddl/junos-routing-mpls-advanced/tag.cnf.dd
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/ddl/junos-routing-mpls-advanced/tag.cnf.dd	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/ddl/junos-routing-mpls-advanced/tag.cnf.dd	(working copy)
@@ -2249,6 +2249,8 @@
                 help "Maximum metric value, a path can have, for the metric-type delay variation";
                 type ranged uint TAG_METRIC_BOUND_MIN .. TAG_METRIC_BOUND_MAX;
             }
+
+            PCEP_DIVERSITY_ASSOCIATION;
         }
 
         attribute associate-backup-pe-groups {
@@ -2539,6 +2541,8 @@
                 help "Maximum metric value, a path can have, for the metric-type delay variation";
                 type ranged uint TAG_METRIC_BOUND_MIN .. TAG_METRIC_BOUND_MAX;
             }
+
+            PCEP_DIVERSITY_ASSOCIATION;
         }
     }
 
Index: layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile	(working copy)
@@ -33,6 +33,7 @@
 	${LIBRPD} \
 	${LIBRPD-INFRA-COMMON} \
 	${LIBRPD-INFRA-IF} \
+	${LIBRPD-INFRA-DAT} \
 	${LIBRPD-INFRA-MPLS-LABEL} \
 	${LIBRPD-INFRA-MPLS-PM-CONFIG} \
 	${LIBRPD-INFRA-POLICY} \
Index: layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile.depend.amd64,evo
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile.depend.amd64,evo	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile.depend.amd64,evo	(working copy)
@@ -16,6 +16,7 @@
 	layer3/lib/librouting-policy-infra/h.common \
 	layer3/lib/librpd \
 	layer3/lib/librpd/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/pm/config/h.common \
 	layer3/usr.sbin/rpd/lib/policy/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile.depend.arm64,ubuntu	(working copy)
@@ -14,6 +14,7 @@
 	layer3/lib/librouting-policy-infra/h.common \
 	layer3/lib/librpd \
 	layer3/lib/librpd/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/pm/config/h.common \
 	layer3/usr.sbin/rpd/lib/policy/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/Makefile.depend.octeon,bsd6	(working copy)
@@ -17,6 +17,7 @@
 	layer3/lib/librouting-policy-infra/h.common \
 	layer3/lib/librpd \
 	layer3/lib/librpd/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/pm/config/h.common \
 	layer3/usr.sbin/rpd/lib/policy/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/h/jnx/rpd-mpls-cfgdb/mpls_cfgdb.h
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/h/jnx/rpd-mpls-cfgdb/mpls_cfgdb.h	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/h/jnx/rpd-mpls-cfgdb/mpls_cfgdb.h	(working copy)
@@ -770,6 +770,13 @@
     uint64_t    min_bw_adj_thresh_value; /* bps */
 } mpls_cfgdb_lsp_autobw_attr_t;
 
+/* diversity association attributes */
+typedef struct {
+    boolean   dat_spf;
+    u_int8_t  dat_num_groups;
+    u_int32_t *dat_group_id;
+} mpls_cfgdb_extctrl_dat_t;
+
 void	mpls_cfgdb_lsp_autobw_init_default(mpls_cfgdb_lsp_autobw_attr_t *attr);
 void	mpls_cfgdb_lsp_autobw_set(mpls_cfgdb_lsp_handle lsph,
     	                          const mpls_cfgdb_lsp_autobw_attr_t *attr);
@@ -884,6 +891,17 @@
                                               unsigned metric);
 unsigned    mpls_cfgdb_lsp_delay_metric_bound_get(mpls_cfgdb_lsp_handle lsph);
 
+/* --------------------------------------------------------------------------
+ * lsp-external-controller diversity-association group <group1 ... group8>
+ * -------------------------------------------------------------------------- */
+void
+mpls_cfgdb_lsp_extctrl_diversity_assoc_group_set(mpls_cfgdb_lsp_handle lsph,
+                                                 u_int32_t *dat_group_id,
+                                                 u_int8_t dat_count,
+                                                 boolean dat_spf);
+mpls_cfgdb_extctrl_dat_t *
+mpls_cfgdb_lsp_extctrl_diversity_assoc_group_get(mpls_cfgdb_lsp_handle lsph);
+
 /*
  * label-switched-path associate-backup-pe-groups
  */
Index: layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/mpls_cfgdb_lsp.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/mpls_cfgdb_lsp.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/mpls_cfgdb_lsp.c	(working copy)
@@ -368,8 +368,87 @@
     }
 }
 
+/* --------------------------------------------------------------------------
+ * lsp-external-controller diversity-association group <group1 ... group8>
+ * -------------------------------------------------------------------------- */
 
+static mpls_cfgdb_extctrl_dat_t *
+mpls_cfgdb_alloc_div_assoc (mpls_cfgdb_t *db, u_int8_t count)
+{
+    mpls_cfgdb_extctrl_dat_t *div_assoc = NULL;
 
+    div_assoc = mpls_cfgdb_malloc(db, sizeof(mpls_cfgdb_extctrl_dat_t));
+    if (!div_assoc) {
+        return div_assoc;
+    }
+
+    div_assoc->dat_group_id = mpls_cfgdb_malloc(db, count * sizeof(u_int32_t));
+
+    return div_assoc;
+}
+
+static void
+mpls_cfgdb_free_div_assoc (mpls_cfgdb_t *db,
+                           mpls_cfgdb_extctrl_dat_t *div_assoc)
+{
+    if (div_assoc && div_assoc->dat_group_id) {
+        mpls_cfgdb_free(db, div_assoc->dat_group_id,
+                        div_assoc->dat_num_groups * sizeof(u_int32_t));
+        div_assoc->dat_group_id = NULL;
+    }
+
+    mpls_cfgdb_free(db, div_assoc, sizeof(mpls_cfgdb_extctrl_dat_t));
+}
+
+void
+mpls_cfgdb_lsp_extctrl_diversity_assoc_group_set (mpls_cfgdb_lsp_handle lsph,
+                                                  u_int32_t *dat_group_id,
+                                                  u_int8_t dat_count,
+                                                  boolean dat_spf)
+{
+    mpls_cfgdb_lsp_t *lsp = MPLS_CFGDB_LSP_H2PTR(lsph);
+    mpls_cfgdb_extctrl_dat_t *div_assoc = NULL;
+
+    assert(lsp->new);
+    assert(lsp->new->ext_controller_attr);
+
+    if (lsp->new->ext_controller_attr->div_assoc) {
+        mpls_cfgdb_free_div_assoc(
+                lsp->db, lsp->new->ext_controller_attr->div_assoc);
+        lsp->new->ext_controller_attr->div_assoc = NULL;
+    }
+
+    if (dat_count) {
+        div_assoc = mpls_cfgdb_alloc_div_assoc(lsp->db, dat_count);
+        if (!div_assoc) {
+            return;
+        }
+
+        /* copy diversity assoc attributes to cfgdb */
+        div_assoc->dat_spf = dat_spf;
+        div_assoc->dat_num_groups = dat_count;
+        memcpy(div_assoc->dat_group_id, dat_group_id,
+                dat_count * sizeof(u_int32_t));
+
+        lsp->new->ext_controller_attr->div_assoc = div_assoc;
+    }
+}
+
+mpls_cfgdb_extctrl_dat_t *
+mpls_cfgdb_lsp_extctrl_diversity_assoc_group_get (mpls_cfgdb_lsp_handle lsph)
+{
+    mpls_cfgdb_lsp_t *lsp = MPLS_CFGDB_LSP_H2PTR(lsph);
+    mpls_cfgdb_lsp_inst_t *lspi = lsp->new ? lsp->new : lsp->old;
+
+    if (lspi && lspi->ext_controller_attr) {
+        return (lspi->ext_controller_attr->div_assoc);
+    }
+
+    return NULL;
+}
+
+
+
 /* -------------------------------------------------------------------------
  * LSP Internal Functions
  * ------------------------------------------------------------------------- */
@@ -447,6 +526,12 @@
 	lspi->policing_filter = NULL;
     }
     if (lspi->ext_controller) {
+        if (lspi->ext_controller_attr->div_assoc) {
+            mpls_cfgdb_free_div_assoc(
+                    db, lspi->ext_controller_attr->div_assoc);
+            lspi->ext_controller_attr->div_assoc = NULL;
+        }
+
 	mpls_cfgdb_free(db, lspi->ext_controller, strlen(lspi->ext_controller) + 1);
 	lspi->ext_controller = NULL;
     }
Index: layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/mpls_cfgdb_private.h
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/mpls_cfgdb_private.h	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/infra/cfgdb/mpls_cfgdb_private.h	(working copy)
@@ -232,6 +232,7 @@
     unsigned te_metric_bound;
     unsigned igp_metric_bound;
     unsigned delay_metric_bound;
+    mpls_cfgdb_extctrl_dat_t *div_assoc;
 } mpls_cfgdb_lsp_ext_controller_attr_t;
 
 
Index: layer3/usr.sbin/rpd/mpls_te/infra/ted/core/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/infra/ted/core/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/infra/ted/core/tests/Makefile.depend.host	(working copy)
@@ -588,6 +588,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/infra/ted/core/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/infra/ted/core/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/infra/ted/core/tests/Makefile.depend.host32	(working copy)
@@ -14,7 +14,6 @@
 	daemon-infra/lib/libjsockaddr-families \
 	daemon-infra/lib/libjsockaddr-families/h.common \
 	daemon-infra/lib/libjsockaddr-families/py \
-	daemon-infra/lib/libjsockaddr-families/py/__pycache__ \
 	daemon-infra/lib/libjsockaddr/h.common \
 	daemon-infra/lib/libjtask \
 	daemon-infra/lib/libjtask-bandwidth-string \
@@ -38,7 +37,6 @@
 	daemon-infra/lib/libjtask/mgmtlib \
 	daemon-infra/lib/libjtask/odl/jtask/odl \
 	daemon-infra/lib/libjtask/py \
-	daemon-infra/lib/libjtask/py/__pycache__ \
 	daemon-infra/lib/libjtask/rtsock \
 	daemon-infra/lib/libjthr \
 	daemon-infra/lib/libjtrace \
@@ -388,7 +386,6 @@
 	layer3/lib/librpd \
 	layer3/lib/librpd/h.common \
 	layer3/lib/librpd/py \
-	layer3/lib/librpd/py/__pycache__ \
 	layer3/lib/libted-compute/api \
 	layer3/lib/libted-compute/app \
 	layer3/lib/libted-compute/infra \
@@ -591,6 +588,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
@@ -603,7 +605,6 @@
 	layer3/usr.sbin/rpd/lib/if/config \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/if/py \
-	layer3/usr.sbin/rpd/lib/if/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/if/ui \
 	layer3/usr.sbin/rpd/lib/ifx-dist/client \
 	layer3/usr.sbin/rpd/lib/ifx-dist/server \
@@ -639,7 +640,6 @@
 	layer3/usr.sbin/rpd/lib/mock \
 	layer3/usr.sbin/rpd/lib/mock/h.common \
 	layer3/usr.sbin/rpd/lib/mock/py \
-	layer3/usr.sbin/rpd/lib/mock/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/mpls/common/core/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/config \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core \
@@ -647,7 +647,6 @@
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ddl/junos-routing-mpls-tag-lsi/actions \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ddl/junos-routing-mpls-tag-lsi/gen.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/py \
-	layer3/usr.sbin/rpd/lib/mpls/label_mgr/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ui \
 	layer3/usr.sbin/rpd/lib/mpls/lsp_mapping \
 	layer3/usr.sbin/rpd/lib/mpls/lsping_resp \
@@ -680,7 +679,6 @@
 	layer3/usr.sbin/rpd/lib/prpd/ddl/junos-routing-prpd/gen.common \
 	layer3/usr.sbin/rpd/lib/prpd/ui \
 	layer3/usr.sbin/rpd/lib/py/libjunos-patricia-py \
-	layer3/usr.sbin/rpd/lib/py/libjunos-patricia-py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/raas/client/config \
 	layer3/usr.sbin/rpd/lib/raas/client/core \
 	layer3/usr.sbin/rpd/lib/raas/server/config \
@@ -711,7 +709,6 @@
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-basic/gen.common \
 	layer3/usr.sbin/rpd/lib/rt/h.common \
 	layer3/usr.sbin/rpd/lib/rt/py \
-	layer3/usr.sbin/rpd/lib/rt/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/client \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/client/ui \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/server \
@@ -749,7 +746,6 @@
 	layer3/usr.sbin/rpd/lib/tevent-channel \
 	layer3/usr.sbin/rpd/lib/tevent/h.common \
 	layer3/usr.sbin/rpd/lib/tevent/py \
-	layer3/usr.sbin/rpd/lib/tevent/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/trace \
 	layer3/usr.sbin/rpd/lib/vrouter \
 	layer3/usr.sbin/rpd/lmp/ddl/junos-routing-rpd-lmp/actions \
Index: layer3/usr.sbin/rpd/mpls_te/proto/rsvp/io/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/rsvp/io/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/rsvp/io/tests/Makefile.depend.host	(working copy)
@@ -245,6 +245,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/mpls_te/proto/rsvp/io/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/rsvp/io/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/rsvp/io/tests/Makefile.depend.host32	(working copy)
@@ -245,6 +245,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/mpls_te/proto/rsvp/proto/tests/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/rsvp/proto/tests/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/rsvp/proto/tests/Makefile.depend.host,linux	(working copy)
@@ -586,6 +586,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/mpls_te/proto/rsvp/proto/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/rsvp/proto/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/rsvp/proto/tests/Makefile.depend.host32	(working copy)
@@ -581,6 +581,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.amd64	(working copy)
@@ -21,9 +21,11 @@
 	layer3/lib/libroute-filter-infra/h.common \
 	layer3/lib/librouting-policy-infra/h.common \
 	layer3/lib/librpd \
+	layer3/lib/librpd/h.common \
 	layer3/lib/libted-compute/api/h.common \
 	layer3/usr.sbin/rpd/lib/bfd/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.arm	(working copy)
@@ -21,9 +21,11 @@
 	layer3/lib/libroute-filter-infra/h.common \
 	layer3/lib/librouting-policy-infra/h.common \
 	layer3/lib/librpd \
+	layer3/lib/librpd/h.common \
 	layer3/lib/libted-compute/api/h.common \
 	layer3/usr.sbin/rpd/lib/bfd/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.host	(working copy)
@@ -24,6 +24,7 @@
 	layer3/lib/libted-compute/api/h.common \
 	layer3/usr.sbin/rpd/lib/bfd/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.host32	(working copy)
@@ -24,6 +24,7 @@
 	layer3/lib/libted-compute/api/h.common \
 	layer3/usr.sbin/rpd/lib/bfd/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.i386	(working copy)
@@ -21,9 +21,11 @@
 	layer3/lib/libroute-filter-infra/h.common \
 	layer3/lib/librouting-policy-infra/h.common \
 	layer3/lib/librpd \
+	layer3/lib/librpd/h.common \
 	layer3/lib/libted-compute/api/h.common \
 	layer3/usr.sbin/rpd/lib/bfd/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_template.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_template.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_template.c	(working copy)
@@ -185,6 +185,11 @@
     }
 
     spring_te_config_tunnel_parse_use_shortcut(dop, &tnl_cfg);
+    if (!spring_te_config_tunnel_parse_div_assoc_params(dop, &tnl_cfg,
+                tl_list_ctx)) {
+        ret = false;
+        goto done;
+    }
 
     if (BIT_ISSET(task_state, TASKS_TEST) && lsp_cfg_list.stlcl_n_lsp_cfgs) {
         if (!spring_te_config_is_tunnel_lsps_legitimate(dop, tl_list_ctx,
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_tunnel.h
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_tunnel.h	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_tunnel.h	(working copy)
@@ -69,4 +69,8 @@
 					spring_te_tunnel_ctx_cfg_t *tnl_cfg_ctx,
 					vector_t *lsp_cfg_vec,
 					spring_te_lsp_cfg_list_t *lsp_cfg_list);
+bool
+spring_te_config_tunnel_parse_div_assoc_params (ddl_handle_t *dop,
+                                           spring_te_tunnel_cfg_t *tnl_cfg,
+                                           spring_te_tunnel_ctx_cfg_t *tnl_cfg_ctx);
 #endif
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_tunnel.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_tunnel.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_tunnel.c	(working copy)
@@ -49,6 +49,8 @@
 #include <jnx/rpd-pol/pol_types.h>
 #include <jnx/rpd-rt/rt_types.h>
 #include <jnx/rpd-srlg/srlg.h>
+#include <jnx/librpd/lspinfo.h>
+#include <jnx/rpd-dat/dat.h>
 #include <jnx/rpd-mpls/tag_types.h>
 #include <jnx/rpd-mpls-te/te_admin_grp.h>
 #include <jnx/rpd-mpls-te/te_colors.h>
@@ -217,6 +219,65 @@
 }
 
 /*
+ * Parse diversity association groups for the tunnel
+ */
+bool
+spring_te_config_tunnel_parse_div_assoc_params (ddl_handle_t *dop,
+                 spring_te_tunnel_cfg_t *tnl_cfg, spring_te_tunnel_ctx_cfg_t *tnl_cfg_ctx)
+{
+    ddl_handle_t *obj;
+    ddl_handle_t *groups_obj, *cop;
+    boolean shortest_first;
+    char *group_name;
+    boolean success;
+    dat_group_name_tbl_t *dag;
+    uint8_t div_grp_count;
+    bool valid;
+
+    success = TRUE;
+    div_grp_count = 0;
+    groups_obj = NULL;
+    cop = NULL;
+    valid =  false;
+    if (dax_get_object_by_name(dop, "diversity-association", &obj, FALSE)) {
+        if (dax_get_toggle_by_name(obj, "shortest-path-first", &shortest_first)) {
+            tnl_cfg->sttc_div_spf =  true;
+        }
+        if (dax_get_object_by_name(obj, "group",
+                    &groups_obj, FALSE)) {
+            while (dax_visit_container(groups_obj, &cop) && success) {
+                if (dax_get_string_by_name(cop, "value", &group_name)) {
+                    dag = diversity_association_group_api_get_info_from_group_name(group_name);
+                    if (dag) {
+                        tnl_cfg->sttc_div_groups[div_grp_count] = dag->group_id;
+                        div_grp_count++;
+                    } else {
+                        parse_db_error(tnl_cfg_ctx->sttcc_errmsg,
+                                       tnl_cfg_ctx->sttcc_errmsglen, dop,
+                                       "The configured group name %s is not valid", group_name);
+                        goto RET;
+                    }
+                }
+            }
+            tnl_cfg->sttc_div_grp_count = div_grp_count;
+        }
+    }
+    valid = true;
+RET:
+    if (cop) {
+        dax_release_object(&cop);
+    }
+    if (groups_obj) {
+        dax_release_object(&groups_obj);
+    }
+    if (obj) {
+        dax_release_object(&obj);
+    }
+    diversity_association_group_api_cfg_processing_complete(DAT_CLIENT_SRTE);
+    return valid;
+}
+
+/*
  * Add install prefix to tunnel cfg. Note that the install address
  * for colored tunnel will have prefix+color combined.
  */
@@ -631,6 +692,12 @@
         goto done;
     }
 
+    /* Now, parse the diversity-assocation groups of the tunnel */
+    if (!spring_te_config_tunnel_parse_div_assoc_params(dop, &tnl_cfg,
+                tnl_cfg_ctx)) {
+        ret = FALSE;
+        goto done;
+    }
     if (BIT_ISSET(task_state, TASKS_TEST)) {
         if (!spring_te_config_is_tunnel_lsps_legitimate(dop, tnl_cfg_ctx, 
                                                         lsp_cfg_vec, 
@@ -645,7 +712,6 @@
 					&tnl_cfg, &lsp_cfg_list, NULL);
 done:
     spring_te_config_lsp_free_vector(inst, lsp_cfg_vec);
-
     return ret;
 }
 
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_tunnel_validate.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_tunnel_validate.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/spring_te_config_tunnel_validate.c	(working copy)
@@ -738,6 +738,21 @@
     return is_valid;
 }
 
+static bool
+spring_te_is_div_assoc_groups_valid_with_ctrlr (spring_te_lsp_cfg_t *lsp_cfg,
+        spring_te_tunnel_cfg_t *tnl_cfg)
+{
+    bool is_delegated;
+    bool is_valid;
+
+    is_valid = true;
+    is_delegated = (tnl_cfg->sttc_ctrlr_valid || lsp_cfg->stlc_ctrlr_valid);
+    if (!is_delegated && (tnl_cfg->sttc_div_grp_count || tnl_cfg->sttc_div_spf)) {
+        is_valid = false;
+    }
+    return is_valid;
+}
+
 /*
  * Check whether controller validates bandwidth parameter
  * i.e bandwidth-requested/bandwidth-reservation-priority
@@ -796,6 +811,7 @@
     bool bound_metric_is_valid;
     bool is_seg_depth_valid;
     bool is_bandwidth_valid;
+    bool is_div_assoc_groups_valid;
 
     inst = tnl_cfg_ctx->sttcc_instance;
     global_ctrlr_configured = inst->sti_pending_cfg.stic_ctrlr;
@@ -873,6 +889,15 @@
         goto RET;
     }
 
+    is_div_assoc_groups_valid = spring_te_is_div_assoc_groups_valid_with_ctrlr(lsp_cfg, tnl_cfg);
+    if (!is_div_assoc_groups_valid) {
+        parse_db_error(tnl_cfg_ctx->sttcc_errmsg,
+                       tnl_cfg_ctx->sttcc_errmsglen, dop,
+                       "Please configure lsp-external-controller for source-routing-path \"%s\" "
+                       "to configure diversity-association", tunnel_name);
+        ctrl_config_valid = false;
+        goto RET;
+    }
     if (n_config_lsps > 1) {
         lsp_str[0] = '\0';
         if (lsp_cfg->stlc_ctrlr_valid) {
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.amd64	(working copy)
@@ -41,6 +41,7 @@
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.amd64,ubuntu	(working copy)
@@ -38,6 +38,7 @@
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.arm	(working copy)
@@ -41,6 +41,7 @@
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.host	(working copy)
@@ -39,6 +39,7 @@
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.host32	(working copy)
@@ -39,6 +39,7 @@
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.i386	(working copy)
@@ -41,6 +41,7 @@
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/Makefile.depend.octeon	(working copy)
@@ -41,6 +41,7 @@
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/h/jnx/rpd-spring-te/spring_te_cfgdb.h
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/h/jnx/rpd-spring-te/spring_te_cfgdb.h	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/h/jnx/rpd-spring-te/spring_te_cfgdb.h	(working copy)
@@ -47,6 +47,7 @@
 
 #define SPRING_TE_DEFAULT_DISTINGUISHER 0
 #define SPRING_TE_DETAULT_DTM_DISTINGUISHER 1
+#define DIV_ASSOC_MAX_GROUPS 8
 
 /*
  *Source of current-configuration of this lsp-cfg
@@ -193,6 +194,9 @@
     uint8_t sttc_priority; /* priority of the tunnel/CP. today only a default
                               value of 128 is assigned as per segment-routing
                               policy draft section 2.12 */
+    bool sttc_div_spf; /* Shortest-path-first for diversity group */
+    uint8_t sttc_div_grp_count; /* Number of groups configured for a tunnel */
+    uint16_t sttc_div_groups[DIV_ASSOC_MAX_GROUPS]; /* List for group id of groups configured under a tunnel*/
 } spring_te_tunnel_cfg_t;
 
 /*
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_ctrlr.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_ctrlr.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_ctrlr.c	(working copy)
@@ -449,6 +449,10 @@
     if (info->bound_metric_list) {
         task_mem_free(NULL, info->bound_metric_list);
     }
+    /* Free up the path diversity disjoint groups list */
+    if (info->div_assoc_info) {
+        task_mem_free(NULL, info->div_assoc_info);
+    }
 }
 
 /**
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_inst.h
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_inst.h	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_inst.h	(working copy)
@@ -529,4 +529,5 @@
 spring_te_inst_check_te_db_cfg_change_job_delete(struct spring_te_inst_s *inst);
 bool
 spring_te_inst_is_te_db_cfg_change_job_running(struct spring_te_inst_s *inst);
+
 #endif
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_ipc.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_ipc.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_ipc.c	(working copy)
@@ -74,6 +74,8 @@
 
 #include <jnx/rpd-rt/rt_types.h>
 #include <jnx/rpd-srlg/srlg.h>
+#include <jnx/librpd/lspinfo.h>
+#include <jnx/rpd-dat/dat.h>
 #include <jnx/rpd-common/common_types.h>
 #include <jnx/rpd-mpls/tag_types.h>
 #include <jnx/rpd-mpls/mpls_tag_bit.h>
@@ -1051,6 +1053,74 @@
     info->srte_rro_info = srte_alloc_segment_lists(count, len);
 }
 
+/*
+ * Fill the diversity groups configured per tunnel for the cntrl
+ */
+static void
+spring_te_fill_div_assoc_groups_fro_cntrl (rpd_extctrl_lsp_config_status_info_t *info,
+                              spring_te_tunnel_t *tunnel)
+{
+    spring_te_tunnel_cfg_t *cfg;
+    dat_group_id_tbl_t *dat_info;
+    rpd_disjoint_assoc_info_t grp_info;
+    uint8_t div_grp_count;
+
+    cfg = spring_te_tunnel_get_active_cfg(tunnel);
+    /* If no div groups configured bail out */
+    div_grp_count = cfg->sttc_div_grp_count;
+    if (!div_grp_count) {
+        return;
+    }
+    info->div_assoc_info = task_mem_malloc(NULL, div_grp_count *
+                    sizeof(rpd_disjoint_assoc_info_t));
+    if (!info->div_assoc_info) {
+        spring_te_inst_trace_ctrlr(tunnel->stt_instance,
+                "Memory allocation failed for diversity assocaition");
+        return;
+    }
+    /*
+     * Fetch the info of each div group for it's unique group id and fill the respective
+     * group params (link-diverse/node-diverse/srlg-diverse/strict/spf)
+     */
+    for (int i = 0; i < div_grp_count; i++) {
+        dat_info =
+            diversity_association_group_api_get_info_from_group_groupid(cfg->sttc_div_groups[i]);
+        info->div_assoc_info[i].assoc_grp_id = dat_info->group_id;
+        info->div_assoc_info[i].assoc_type = LSP_ASSOCIATION_TYPE_DISJOINT;
+        info->div_assoc_info[i].assoc_flags = 0;
+        /*
+         * Fill the association source info for each group, as each group can have different
+         * source associated with it.
+         */
+        if (!dat_info->assoc_src_v4_valid &&
+            !dat_info->assoc_src_v6_valid) {
+            spring_te_config_lsp_fill_association_source(tunnel, &info->div_assoc_info[i]);
+        } else {
+            memset(&info->div_assoc_info[i].assoc_source_u.v6, 0,
+                   sizeof(info->div_assoc_info[i].assoc_source_u.v6));
+            info->div_assoc_info[i].is_assoc_src_ipv6 = dat_info->assoc_src_v6_valid;
+            if (dat_info->assoc_src_v6_valid) {
+                memcpy(&info->div_assoc_info[i].assoc_source_u.v6,
+                       &dat_info->assoc_src_v6,
+                       sizeof(info->div_assoc_info[i].assoc_source_u.v6));
+            } else {
+                memcpy(&info->div_assoc_info[i].assoc_source_u.v4,
+                       &dat_info->assoc_src_v4,
+                       sizeof(info->div_assoc_info[i].assoc_source_u.v4));
+            }
+        }
+        diversity_association_group_api_fill_config_flags(dat_info, &grp_info);
+        spring_te_inst_trace_ctrlr(tunnel->stt_instance,"Diversity groups filled with group-id[%u] "
+               "node-div[%u] link-div[%u] srlg[%u] spf[%u]",
+                dat_info->group_id, dat_info->node_flag, dat_info->link_flag,
+                dat_info->srlg_flag, dat_info->strict);
+        grp_info.shortest_first = cfg->sttc_div_spf;
+        info->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info = grp_info;
+        info->div_assoc_info[i].disjoint_assoc_list.assoc_conf_info_valid = true;
+    }
+    info->div_assoc_info_count = div_grp_count;
+}
+
 /**
  * Fill 'info' from 'tunnel'
  */
@@ -1215,6 +1285,7 @@
         info->lsp_binding_sid.binding_value = tunnel_cfg->sttc_binding_sid;
     }
     if (spring_te_config_lsp_is_delegated(config_lsp)) {
+        spring_te_fill_div_assoc_groups_fro_cntrl(info, tunnel);
         if (lsp_cfg->stlc_compute_valid) {
             spring_te_tunnel_get_lsp_config_constraints(info, config_lsp);
         } else {
@@ -1491,8 +1562,6 @@
              }
          }
     }
-
-
     if (!tunnel && del_msg) {
 	err_code = TAG_EXTCTRL_ERROR_LSP_NOT_FOUND;
 	SPRING_TE_INST_INCR_DEBUG_STAT(inst, stds_e_pcupdate_del_non_exist_tnl);
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_main.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_main.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_main.c	(working copy)
@@ -57,6 +57,7 @@
 #include <jnx/rpd-pol/pol_types.h>
 #include <jnx/rpd-rt/rt_types.h>
 #include <jnx/rpd-krt/krt_types.h>
+#include <jnx/rpd-dat/dat.h>
 #include <jnx/rpd-mpls/tag_types.h>
 #include <jnx/inttypes.h>
 #include <jnx/rpd-common/common_types.h>
@@ -192,6 +193,7 @@
     spring_te_init_repl_entry_blocks();
     spring_te_init_replication_databases();
     spring_te_init_policy_drend_block();
+    diversity_association_group_register_client(DAT_CLIENT_SRTE);
 
 #ifdef SPRING_TE_UT_RUN
     spring_te_core_ut_mocks_init();
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_tunnel_cfg.h
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_tunnel_cfg.h	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_tunnel_cfg.h	(working copy)
@@ -186,4 +186,5 @@
                                             struct spring_te_tunnel_cfg_s *eff_tunnel_cfg);
 void
 spring_te_tunnel_update_max_seg_list_depth_to_frz_attr(spring_te_tunnel_t *tunnel);
+
 #endif
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_tunnel_cfg.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_tunnel_cfg.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/spring_te_tunnel_cfg.c	(working copy)
@@ -2635,6 +2635,33 @@
 				 spring_te_get_tnl_info_for_trace(tunnel));
 }
 
+/*
+ * Fill the diversity association groups to the tunnel
+ */
+static void
+spring_te_tunnel_apply_div_assoc_groups (spring_te_tunnel_t *tunnel,
+                spring_te_tunnel_cfg_t *new_cfg)
+{
+    spring_te_tunnel_cfg_t *cur_cfg;
+
+    cur_cfg = spring_te_tunnel_get_active_cfg(tunnel);
+    if (!cur_cfg) {
+        return;
+    }
+    /* If no groups are configured bail out */
+    if ((new_cfg->sttc_div_grp_count == 0) && (cur_cfg->sttc_div_grp_count == 0)) {
+        return;
+    }
+    /*
+     * Copy the div groups from pending cfg to cfg.
+     * Same for count and spf.
+     */
+    memcpy(cur_cfg->sttc_div_groups, new_cfg->sttc_div_groups,
+            sizeof(new_cfg->sttc_div_groups));
+    cur_cfg->sttc_div_grp_count = new_cfg->sttc_div_grp_count;
+    cur_cfg->sttc_div_spf = new_cfg->sttc_div_spf;
+}
+
 /**
  * Set all the tunnel parameters to the values specified in 'cfg'
  */
@@ -2734,6 +2761,7 @@
     glbl_pref_changed = false;
     pref_changed = spring_te_tunnel_apply_cfg_preference(tunnel, SPRING_TE_RT_PREF_SR, cfg,
                                                            glbl_pref_changed);
+    spring_te_tunnel_apply_div_assoc_groups(tunnel, cfg);
     /*
      * NOTE: preference option is deprecated with PR1420200 from release 19.3DCB
      * Need to remove the functionality after 3 releases along with hidden cmd.
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/tests/Makefile.depend.host	(working copy)
@@ -15,6 +15,7 @@
 	daemon-infra/lib/libjsockaddr-families-atf \
 	daemon-infra/lib/libjsockaddr-families/h.common \
 	daemon-infra/lib/libjsockaddr-families/py \
+	daemon-infra/lib/libjsockaddr-families/py/__pycache__ \
 	daemon-infra/lib/libjsockaddr/h.common \
 	daemon-infra/lib/libjtask \
 	daemon-infra/lib/libjtask-bandwidth-string \
@@ -40,6 +41,7 @@
 	daemon-infra/lib/libjtask/mgmtlib \
 	daemon-infra/lib/libjtask/odl/jtask/odl \
 	daemon-infra/lib/libjtask/py \
+	daemon-infra/lib/libjtask/py/__pycache__ \
 	daemon-infra/lib/libjtask/rtsock \
 	daemon-infra/lib/libjthr \
 	daemon-infra/lib/libjthr/h.common \
@@ -392,6 +394,7 @@
 	layer3/lib/librpd \
 	layer3/lib/librpd/h.common \
 	layer3/lib/librpd/py \
+	layer3/lib/librpd/py/__pycache__ \
 	layer3/lib/libted-compute/api \
 	layer3/lib/libted-compute/api/h.common \
 	layer3/lib/libted-compute/app \
@@ -605,6 +608,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
@@ -617,6 +625,7 @@
 	layer3/usr.sbin/rpd/lib/if/config \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/if/py \
+	layer3/usr.sbin/rpd/lib/if/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/if/ui \
 	layer3/usr.sbin/rpd/lib/ifx-dist/client \
 	layer3/usr.sbin/rpd/lib/ifx-dist/server \
@@ -652,6 +661,7 @@
 	layer3/usr.sbin/rpd/lib/mock \
 	layer3/usr.sbin/rpd/lib/mock/h.common \
 	layer3/usr.sbin/rpd/lib/mock/py \
+	layer3/usr.sbin/rpd/lib/mock/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/config \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/config/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core \
@@ -659,6 +669,7 @@
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ddl/junos-routing-mpls-tag-lsi/actions.host32 \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ddl/junos-routing-mpls-tag-lsi/gen.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/py \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ui \
 	layer3/usr.sbin/rpd/lib/mpls/lsp_mapping \
 	layer3/usr.sbin/rpd/lib/mpls/lsping_resp \
@@ -692,6 +703,7 @@
 	layer3/usr.sbin/rpd/lib/prpd/ddl/junos-routing-prpd/gen.common \
 	layer3/usr.sbin/rpd/lib/prpd/ui \
 	layer3/usr.sbin/rpd/lib/py/libjunos-patricia-py \
+	layer3/usr.sbin/rpd/lib/py/libjunos-patricia-py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/raas/client/config \
 	layer3/usr.sbin/rpd/lib/raas/client/core \
 	layer3/usr.sbin/rpd/lib/raas/server/config \
@@ -722,6 +734,7 @@
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-basic/gen.common \
 	layer3/usr.sbin/rpd/lib/rt/h.common \
 	layer3/usr.sbin/rpd/lib/rt/py \
+	layer3/usr.sbin/rpd/lib/rt/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/client \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/client/ui \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/server \
@@ -762,6 +775,7 @@
 	layer3/usr.sbin/rpd/lib/tevent-channel \
 	layer3/usr.sbin/rpd/lib/tevent/h.common \
 	layer3/usr.sbin/rpd/lib/tevent/py \
+	layer3/usr.sbin/rpd/lib/tevent/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/trace \
 	layer3/usr.sbin/rpd/lib/vrouter \
 	layer3/usr.sbin/rpd/lmp/ddl/junos-routing-rpd-lmp/actions.host32 \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/core/tests/Makefile.depend.host32	(working copy)
@@ -608,6 +608,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/ddl/junos-routing-spring-te/spring_te.cnf.dd
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/ddl/junos-routing-spring-te/spring_te.cnf.dd	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/ddl/junos-routing-spring-te/spring_te.cnf.dd	(working copy)
@@ -716,7 +716,7 @@
 	    }
 
         SRTE_USE_SHORTCUT_CONFIG;
-
+        PCEP_DIVERSITY_ASSOCIATION;
 	    attribute to {
 		flag mandatory;
 		type ipaddr;
@@ -833,7 +833,7 @@
 	    }
 
         SRTE_USE_SHORTCUT_CONFIG;
-
+        PCEP_DIVERSITY_ASSOCIATION;
 	    attribute metric {
 		help "Metric for routes downloaded for this tunnel";
 		type ranged uint SR_TE_LSP_METRIC_MIN ..SR_TE_LSP_METRIC_MAX;
Index: layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.amd64	(working copy)
@@ -249,6 +249,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.amd64,ubuntu	(working copy)
@@ -247,6 +247,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.arm	(working copy)
@@ -246,6 +246,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.arm64,ubuntu	(working copy)
@@ -247,6 +247,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.host	(working copy)
@@ -192,6 +192,9 @@
 	layer3/usr.sbin/rpd/lib/common/odl/rpd/odl \
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/if \
 	layer3/usr.sbin/rpd/lib/if/api \
Index: layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.host,linux	(working copy)
@@ -248,6 +248,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.host32	(working copy)
@@ -248,6 +248,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.octeon	(working copy)
@@ -247,6 +247,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.octeon,bsd6	(working copy)
@@ -259,6 +259,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.amd64	(working copy)
@@ -27,6 +27,7 @@
 	layer3/usr.sbin/rpd/lib/cfg-mgmt/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mc/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.amd64,ubuntu	(working copy)
@@ -24,6 +24,7 @@
 	layer3/usr.sbin/rpd/lib/cfg-mgmt/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mc/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.arm	(working copy)
@@ -27,6 +27,7 @@
 	layer3/usr.sbin/rpd/lib/cfg-mgmt/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mc/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.arm64,ubuntu	(working copy)
@@ -24,6 +24,7 @@
 	layer3/usr.sbin/rpd/lib/cfg-mgmt/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mc/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.host	(working copy)
@@ -26,6 +26,7 @@
 	layer3/usr.sbin/rpd/lib/cfg-mgmt/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mc/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.host32	(working copy)
@@ -26,6 +26,7 @@
 	layer3/usr.sbin/rpd/lib/cfg-mgmt/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mc/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.i386	(working copy)
@@ -27,6 +27,7 @@
 	layer3/usr.sbin/rpd/lib/cfg-mgmt/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mc/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.octeon	(working copy)
@@ -27,6 +27,7 @@
 	layer3/usr.sbin/rpd/lib/cfg-mgmt/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mc/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.octeon,bsd6	(working copy)
@@ -28,6 +28,7 @@
 	layer3/usr.sbin/rpd/lib/cfg-mgmt/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mc/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/tag_config_read.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/tag_config_read.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/tag_config_read.c	(working copy)
@@ -79,6 +79,7 @@
 #include <jnx/rpd-pol/pol_types.h>
 #include <jnx/rpd-rt/rt_types.h>
 #include <jnx/rpd-mpls/tag_types.h>
+#include <jnx/rpd-dat/dat.h>
 
 /* rpd infra */
 #include <jnx/rpd-srlg/srlg.h>
@@ -2999,6 +3000,63 @@
 }
 
 /**
+ * tag_config_read_lsp_extctrl_div_assoc_grp
+ *
+ * Read the attributes of the LSP external controller diversity association
+ * group object.
+ *
+ * @param[in] dop	LSP external controller object
+ * @param[in] lsph	mpls config db lsp handle
+ *
+ * @return none
+ */
+static void
+tag_config_read_lsp_extctrl_div_assoc_grp (ddl_handle_t *dop,
+                                           mpls_cfgdb_lsp_handle lsph)
+{
+    ddl_handle_t *assoc_obj = NULL;
+    ddl_handle_t *grp_obj = NULL;
+    ddl_handle_t *cop = NULL;
+    char *dat_group_name = NULL;
+    u_int16_t group_id = 0;
+    u_int32_t dat_group_id[MAX_DISJOINT_ASSOC_INFO] = {0};
+    u_int8_t count = 0;
+    char tval = 0;
+    boolean dat_spf = FALSE;
+
+    if (dax_get_object_by_name(dop, "diversity-association",
+                               &assoc_obj, FALSE)) {
+        if (dax_get_object_by_name(assoc_obj, "group", &grp_obj, FALSE)) {
+            while (dax_visit_container(grp_obj, &cop)) {
+                if (dax_get_string_by_name(cop, "value", &dat_group_name)) {
+                    group_id =
+                       diversity_association_group_api_get_group_id_from_name(
+                                                                dat_group_name);
+                    if (group_id) {
+                        dat_group_id[count] = group_id;
+                        count++;
+                        config_trace("      diversity assoc group '%s' id %d "
+                            "configured\n", dat_group_name, group_id);
+                    }
+                }
+            }
+        }
+
+        if (dax_get_toggle_by_name(assoc_obj, "shortest-path-first", &tval)) {
+            dat_spf = TRUE;
+            config_trace("      diversity assoc spf configured\n");
+        }
+
+        mpls_cfgdb_lsp_extctrl_diversity_assoc_group_set(lsph, dat_group_id,
+                                                         count, dat_spf);
+
+        dax_release_object(&cop);
+        dax_release_object(&grp_obj);
+        dax_release_object(&assoc_obj);
+    }
+}
+
+/**
  * tag_config_read_lsp_ext_ctrler
  *
  * Read the attributes of the LSP external controller object.
@@ -3035,4 +3093,6 @@
         config_trace("      Delay metric bound %u\n", delay_metric_bound);
         mpls_cfgdb_lsp_delay_metric_bound_set(lsph, delay_metric_bound);
     }
+
+    tag_config_read_lsp_extctrl_div_assoc_grp(dop, lsph);
 }
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile	(working copy)
@@ -155,6 +155,7 @@
 	${LIBRPD-INFRA-IP} \
 	${LIBRPD-INFRA-KRT} \
 	${LIBRPD-INFRA-MC} \
+	${LIBRPD-INFRA-DAT} \
 	${LIBRPD-INFRA-MPLS-COMMON} \
 	${LIBRPD-INFRA-MPLS-LABEL} \
 	${LIBRPD-INFRA-MPLS-LSPING-RESP} \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.amd64	(working copy)
@@ -35,6 +35,7 @@
 	layer3/usr.sbin/rpd/l2vpn/lib/vc-proto/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.amd64,evo
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.amd64,evo	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.amd64,evo	(working copy)
@@ -35,6 +35,7 @@
 	layer3/usr.sbin/rpd/l2vpn/lib/vc-proto/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.amd64,ubuntu	(working copy)
@@ -33,6 +33,7 @@
 	layer3/usr.sbin/rpd/l2vpn/lib/vc-proto/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.arm	(working copy)
@@ -35,6 +35,7 @@
 	layer3/usr.sbin/rpd/l2vpn/lib/vc-proto/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.arm64,ubuntu	(working copy)
@@ -33,6 +33,7 @@
 	layer3/usr.sbin/rpd/l2vpn/lib/vc-proto/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.host	(working copy)
@@ -33,6 +33,7 @@
 	layer3/usr.sbin/rpd/l2vpn/lib/vc-proto/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.host32	(working copy)
@@ -33,6 +33,7 @@
 	layer3/usr.sbin/rpd/l2vpn/lib/vc-proto/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.i386	(working copy)
@@ -35,6 +35,7 @@
 	layer3/usr.sbin/rpd/l2vpn/lib/vc-proto/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.octeon	(working copy)
@@ -35,6 +35,7 @@
 	layer3/usr.sbin/rpd/l2vpn/lib/vc-proto/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_config_apply.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_config_apply.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_config_apply.c	(working copy)
@@ -1305,6 +1305,10 @@
 
     tagpvc->extctrl_pvc_info.delay_metric_bound =
         mpls_cfgdb_lsp_delay_metric_bound_get(lsph);
+
+    tagpvc->extctrl_pvc_info.div_assoc =
+        tag_extctrl_config_apply_div_assoc_grp(lsph,
+                tagpvc->extctrl_pvc_info.div_assoc);
 }
 
 /**
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_config_container_apply.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_config_container_apply.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_config_container_apply.c	(working copy)
@@ -383,6 +383,10 @@
     cpvc->extctrl_cpvc_info.delay_metric_bound =
         mpls_cfgdb_lsp_delay_metric_bound_get(lsph);
 
+    cpvc->extctrl_cpvc_info.div_assoc =
+        tag_extctrl_config_apply_div_assoc_grp(lsph,
+                cpvc->extctrl_cpvc_info.div_assoc);
+
     tag_state_trace(tag_trace, 
                     ("Got extctrl name CPVC %s (%s)",
                      cpvc->cpvc_name, cpvc->extctrl_cpvc_info.pvc_extctrler->name));
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_ipc.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_ipc.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_ipc.c	(working copy)
@@ -96,6 +96,8 @@
 #include <tag/mpls_oam_mirror_msg_defs.h> /* pan-release */
 #include <jnx/rpd-mpls-oam/mpls_oam_common.h>
 #include <jnx/rpd-mpls-pm-config/mpls_pm_config.h>
+#include <jnx/librpd/lspinfo.h>
+#include <jnx/rpd-dat/dat.h>
 
 /* mpls_te infra */
 #include <jnx/rpd-lmp/rpd_lmp_public.h>
@@ -601,6 +603,25 @@
 }
 
 /**
+ * tag_extctrl_free_pcreq_msg_div_assoc_grp
+ *
+ * Free diversity association memory of pcrequest_status message
+ *
+ * @param[in] pcreq    ptr to pcreq_status message
+ *
+ * @return none
+ */
+static void
+tag_extctrl_free_pcreq_msg_div_assoc_grp (rpd_msg_pcrequest_status_t *pcreq)
+{
+    if (pcreq->lsp_config_status.div_assoc_info) {
+        pcreq->lsp_config_status.div_assoc_info_count = 0;
+        task_mem_free(NULL, pcreq->lsp_config_status.div_assoc_info);
+        pcreq->lsp_config_status.div_assoc_info = NULL;
+    }
+}
+
+/**
  * tag_extctrl_create_v4_pfx_list
  *
  * Create a v4 list with unique prefixes from the PVC rlist and
@@ -831,7 +852,118 @@
     }
 }
 
+/*TODO: FIXME: This will be addressed through PR-1732453 */
 /*
+ * Diversity Association Group API for clients to fill diversity association info
+ */
+static lsp_association_info *
+diversity_association_group_api_fill_div_assoc_info(
+                                               lsp_association_info *dat_data,
+                                               u_int8_t dat_num_groups,
+                                               u_int32_t *dat_group_id,
+                                               boolean dat_spf,
+                                               in_addr v4_src)
+{
+    dat_group_id_tbl_t *dat_info = NULL;
+
+    for (u_int8_t i = 0; i < dat_num_groups; i++) {
+        dat_info =
+            diversity_association_group_api_get_info_from_group_groupid(
+                                                    (u_int16_t)dat_group_id[i]);
+        if (!dat_info) {
+            return NULL;
+        }
+
+        dat_data[i].assoc_grp_id = dat_info->group_id;
+        dat_data[i].assoc_type = LSP_ASSOCIATION_TYPE_DISJOINT;
+
+        if (!dat_info->assoc_src_v6_valid &&
+                                 !dat_info->assoc_src_v4_valid) {
+            /* If source addr is not set then use routerID as source addr */
+            if (v4_src) {
+                dat_data[i].assoc_source_u.v4 = v4_src;
+            } else if (rt_instance_routerid(rt_master)) {
+                dat_data[i].assoc_source_u.v4 =
+                    sockaddr_in(rt_instance_routerid(rt_master));
+            } else {
+                dat_data[i].assoc_source_u.v4 = 0;
+            }
+        } else {
+            memset(&dat_data[i].assoc_source_u.v6, 0,
+                                sizeof(dat_data[i].assoc_source_u.v6));
+            dat_data[i].is_assoc_src_ipv6 = dat_info->assoc_src_v6_valid;
+            if (dat_info->assoc_src_v6_valid) {
+                memcpy(&dat_data[i].assoc_source_u.v6,
+                        &dat_info->assoc_src_v6,
+                        sizeof(dat_data[i].assoc_source_u.v6));
+            } else {
+                memcpy(&dat_data[i].assoc_source_u.v4,
+                        &dat_info->assoc_src_v4,
+                        sizeof(dat_data[i].assoc_source_u.v4));
+            }
+        }
+
+        diversity_association_group_api_fill_config_flags(
+                        dat_info,
+                        &dat_data[i].disjoint_assoc_list.assoc_conf_info);
+        dat_data[i].disjoint_assoc_list.
+                     assoc_conf_info_valid = TRUE;
+        dat_data[i].disjoint_assoc_list.assoc_conf_info.shortest_first = dat_spf;
+    }
+
+    return dat_data;
+}
+
+/**
+ * tag_extctrl_get_diversity_association_attributes
+ *
+ * Fill the diveristy association attributes to PC request message.
+ *
+ * @param[in]   pvc     pointer to the pvc
+ * @param[out]  pcreq   pointer to the pcrequest message
+ *
+ * @return  none
+ */
+static void
+tag_extctrl_get_diversity_association_attributes (tag_pvc* pvc,
+                              rpd_msg_pcrequest_status_t *pcreq)
+{
+    tag_extctrl_pvc_info_t *ext_pvc_info = NULL;
+    lsp_association_info *dat_data = NULL;
+    tag_extctrl_dat_t *div_assoc = NULL;
+
+    if (tag_pvc_is_container_member(pvc)) {
+        ext_pvc_info = &pvc->container_pvc->extctrl_cpvc_info;
+    } else {
+        ext_pvc_info = &pvc->extctrl_pvc_info;
+    }
+
+    pcreq->lsp_config_status.div_assoc_info_count = 0;
+    pcreq->lsp_config_status.div_assoc_info = NULL;
+
+    div_assoc = ext_pvc_info->div_assoc;
+    if (div_assoc && div_assoc->dat_num_groups) {
+        dat_data = task_mem_malloc(NULL,
+                RPD_GET_DIV_ASSOC_GRP_SIZE(div_assoc->dat_num_groups));
+        if (!dat_data) {
+            return;
+        }
+        memset(dat_data, 0,
+            (div_assoc->dat_num_groups * sizeof(lsp_association_info)));
+
+        /* Fill in the diversity association attributes */
+        pcreq->lsp_config_status.div_assoc_info_count =
+                                     ext_pvc_info->div_assoc->dat_num_groups;
+        dat_data = diversity_association_group_api_fill_div_assoc_info(dat_data,
+                                    ext_pvc_info->div_assoc->dat_num_groups,
+                                    div_assoc->dat_group_id, div_assoc->dat_spf,
+                                    pvc->pvc_src);
+
+        pcreq->lsp_config_status.div_assoc_info = dat_data;
+    }
+}
+
+/*
  * Call subroutines to fill configured params and actuals of an LSP
  * in a pcrequest-status message
  */
@@ -992,6 +1124,9 @@
 
     /* Get the metric info list to send it to controller */
     tag_extctrl_get_metric_list(pcreq, pvc, path);
+
+    /* Get the diversity association attributes to send it to controller */
+    tag_extctrl_get_diversity_association_attributes(pvc, pcreq);
 }
 
 /*
@@ -1387,7 +1522,12 @@
           * Free Install prefix memory
           */
          tag_extctrl_free_install_prefix_mem(&pcrequest_msg);
-         
+
+         /*
+          * Free diversity association memory
+          */
+         tag_extctrl_free_pcreq_msg_div_assoc_grp(&pcrequest_msg);
+
              if (!msg_send_succeeded) {
 		 trace_tf((tag_task_trace()), TAG_EXTCTRL_LSP_TRACE, 0,
                           ("FAILED Sending info for LSP %s path %s lsp_reason %s"
@@ -1786,6 +1926,9 @@
     /* Free Install prefix memory */
     tag_extctrl_free_install_prefix_mem(pcrequest_msg);
 
+    /*Free diversity association memory */
+    tag_extctrl_free_pcreq_msg_div_assoc_grp(pcrequest_msg);
+
     if(msg_send_succeeded) {
 	if(tag_extctrl_pvc_externally_controlled(lsp)) {
 	    tag_path_addlog(path, OWNER_TAG,
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_mgmt.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_mgmt.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_mgmt.c	(working copy)
@@ -1179,3 +1179,123 @@
                                 tag_path_delete_request_send, ctrler);
     }
 }
+
+/**
+ * tag_extctrl_alloc_div_assoc_grp
+ *
+ * Allocate memory for the diversity association attributes
+ *
+ * @param[in] count    number of objects
+ *
+ * @return    pointer to diversity association attributes
+ */
+tag_extctrl_dat_t *
+tag_extctrl_alloc_div_assoc_grp (u_int8_t count)
+{
+    tag_extctrl_dat_t *div_assoc = NULL;
+
+    div_assoc = task_cookie_malloc(tag_block.tag_core_cookie,
+                                   sizeof(tag_extctrl_dat_t));
+    if (!div_assoc) {
+        return div_assoc;
+    }
+
+    div_assoc->dat_group_id = task_cookie_malloc(tag_block.tag_core_cookie,
+                                                 (count * sizeof(u_int32_t)));
+
+    return div_assoc;
+}
+
+/**
+ * tag_extctrl_free_div_assoc_grp
+ *
+ * Free memory for the diversity association attributes
+ *
+ * @param[in] div_assoc    pointer to diversity-association attributes
+ *
+ * @return    none
+ */
+void
+tag_extctrl_free_div_assoc_grp (tag_extctrl_dat_t *div_assoc)
+{
+    if (div_assoc && div_assoc->dat_group_id) {
+        task_cookie_free(tag_block.tag_core_cookie, div_assoc->dat_group_id);
+        div_assoc->dat_group_id = NULL;
+    }
+
+    task_cookie_free(tag_block.tag_core_cookie, div_assoc);
+}
+
+/**
+ * tag_extctrl_config_apply_div_assoc_grp
+ *
+ * Apply diversity association attributes from configuration database
+ * to external controller info
+ *
+ * @param[in] lsph           LSP handle to configuration database
+ * @param[in] extctrl_dat    pointer to diversity association attributes
+ *
+ * @return extctrl_dat    pointer to diversity association attributes
+ */
+tag_extctrl_dat_t *
+tag_extctrl_config_apply_div_assoc_grp (mpls_cfgdb_lsp_handle lsph,
+                                        tag_extctrl_dat_t *extctrl_dat)
+{
+    mpls_cfgdb_extctrl_dat_t *mpls_cfgdb_dat = NULL;
+
+    if (extctrl_dat) {
+        tag_extctrl_free_div_assoc_grp(extctrl_dat);
+        extctrl_dat = NULL;
+    }
+
+    mpls_cfgdb_dat = mpls_cfgdb_lsp_extctrl_diversity_assoc_group_get(lsph);
+    if (!mpls_cfgdb_dat) {
+        return NULL;
+    }
+
+    if (mpls_cfgdb_dat->dat_num_groups) {
+        extctrl_dat =
+            tag_extctrl_alloc_div_assoc_grp(mpls_cfgdb_dat->dat_num_groups);
+
+        /* copy diversity association attributes from cfgdb to extctrl */
+        extctrl_dat->dat_spf = mpls_cfgdb_dat->dat_spf;
+        extctrl_dat->dat_num_groups = mpls_cfgdb_dat->dat_num_groups;
+        memcpy(extctrl_dat->dat_group_id, mpls_cfgdb_dat->dat_group_id,
+                mpls_cfgdb_dat->dat_num_groups * sizeof(u_int32_t));
+    }
+
+    return extctrl_dat;
+}
+
+/**
+ * tag_extctrl_update_div_assoc_grp
+ *
+ * Update external controller diversity association group
+ *
+ * @param[in]   new_div_assoc     Pointer to the new diversity assoc
+ * @param[out]  old_div_assoc     Pointer to the old diversity assoc
+ *
+ * @return  old_div_assoc     Pointer to the old diversity assoc
+ */
+tag_extctrl_dat_t *
+tag_extctrl_update_div_assoc_grp (tag_extctrl_dat_t *old_div_assoc,
+                                  tag_extctrl_dat_t *new_div_assoc)
+{
+    if (old_div_assoc) {
+        tag_extctrl_free_div_assoc_grp(old_div_assoc);
+        old_div_assoc = NULL;
+    }
+
+    if (new_div_assoc && new_div_assoc->dat_num_groups) {
+        old_div_assoc =
+            tag_extctrl_alloc_div_assoc_grp(new_div_assoc->dat_num_groups);
+
+        /* copy new diversity association attributes to old */
+        old_div_assoc->dat_spf = new_div_assoc->dat_spf;
+        old_div_assoc->dat_num_groups = new_div_assoc->dat_num_groups;
+        memcpy(old_div_assoc->dat_group_id, new_div_assoc->dat_group_id,
+                new_div_assoc->dat_num_groups * sizeof(u_int32_t));
+    }
+
+    return old_div_assoc;
+}
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_private.h
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_private.h	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_private.h	(working copy)
@@ -124,6 +124,14 @@
 PATNODE_TO_STRUCT(tag_name_patnode_to_extctrler, tag_extctrler_t, 
                   patricia_name);
 
+
+/* diversity association attributes */
+typedef struct {
+    boolean   dat_spf;
+    u_int8_t  dat_num_groups;
+    u_int32_t *dat_group_id;
+} tag_extctrl_dat_t;
+
 /*
  *  Per LSP container of externally controlled LSP info
  */
@@ -143,6 +151,7 @@
     u_int32_t                  te_metric_bound;
     u_int32_t                  igp_metric_bound;
     u_int32_t                  delay_metric_bound;
+    tag_extctrl_dat_t          *div_assoc;
 } tag_extctrl_pvc_info_t;
 
 
@@ -291,4 +300,17 @@
 void
 tag_extctrl_restart_send_jobs(tag_extctrler_t *ctrler);
 
+tag_extctrl_dat_t *
+tag_extctrl_alloc_div_assoc_grp(u_int8_t count);
+
+void
+tag_extctrl_free_div_assoc_grp(tag_extctrl_dat_t *div_assoc);
+
+tag_extctrl_dat_t *
+tag_extctrl_config_apply_div_assoc_grp(mpls_cfgdb_lsp_handle lsph,
+                                       tag_extctrl_dat_t *extctrl_dat);
+
+tag_extctrl_dat_t *
+tag_extctrl_update_div_assoc_grp(tag_extctrl_dat_t *old_div_assoc,
+                                 tag_extctrl_dat_t *new_div_assoc);
 #endif /* __TAG_EXTCTRL_PVT_H__ */
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_pvc.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_pvc.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tag_extctrl_pvc.c	(working copy)
@@ -91,6 +91,7 @@
 #include <jnx/rpd-mpls-oam/mpls_oam_common.h>
 #include <jnx/rpd-mpls-pm-config/mpls_pm_config.h>
 #include <jnx/rpd-tai/tai.h>
+#include <jnx/rpd-dat/dat.h>
 
 /* mpls_te infra */
 #include <jnx/rpd-mpls-te/te_defs.h>
@@ -402,6 +403,9 @@
 void
 tag_extctrl_pvc_var_init (void)
 {
+    /* register for the diversity association config processing */
+    diversity_association_group_register_client(DAT_CLIENT_RSVP);
+
     memset(&tag_extctrl_block, 0, sizeof(tag_extctrl_block));
 
     tag_extctrl_block.tag_extctrler_index =
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tagpvc.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tagpvc.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tagpvc.c	(working copy)
@@ -98,6 +98,7 @@
 #include <jnx/rpd-krt/krt_cos.h>
 #include <jnx/rpd-ctx/app_ctx.h>
 #include <jnx/rpd-ctx/rpd_vector.h>
+#include <jnx/rpd-dat/dat.h>
 
 /* service-mapping infra */
 #include <jnx/rpd-sm/sm_infra_api.h>
@@ -1122,6 +1123,7 @@
     pvc->extctrl_pvc_info.te_metric_bound = 0;
     pvc->extctrl_pvc_info.igp_metric_bound = 0;
     pvc->extctrl_pvc_info.delay_metric_bound = 0;
+    pvc->extctrl_pvc_info.div_assoc = NULL;
     memset(&pvc->extctrl_pvc_info.extctrl_pvc_defaults, 0,
                 sizeof(pvc->extctrl_pvc_info.extctrl_pvc_defaults));
 }
@@ -1366,6 +1368,12 @@
         pvc->extctrl_pvc_info.v4_pfx_list = NULL;
     }
 
+    /* free extctrl div_assoc memory */
+    if (pvc->extctrl_pvc_info.div_assoc) {
+        tag_extctrl_free_div_assoc_grp(pvc->extctrl_pvc_info.div_assoc);
+        pvc->extctrl_pvc_info.div_assoc = NULL;
+    }
+
     if (pvc->tpvc_ted_tunnel) {
 	ted_tunnel_destroy(pvc->tpvc_ted_tunnel);
     }
@@ -4325,6 +4333,11 @@
         new_pvc->extctrl_pvc_info.igp_metric_bound;
     old_pvc->extctrl_pvc_info.delay_metric_bound =
         new_pvc->extctrl_pvc_info.delay_metric_bound;
+
+    /* Update the LSP external controller diversity association attributes */
+    old_pvc->extctrl_pvc_info.div_assoc =
+        tag_extctrl_update_div_assoc_grp(old_pvc->extctrl_pvc_info.div_assoc,
+                                         new_pvc->extctrl_pvc_info.div_assoc);
 }
 
 /*
@@ -9552,6 +9565,9 @@
         }
     }
     
+    /* notify diversity association config processing completion */
+    diversity_association_group_api_cfg_processing_complete(DAT_CLIENT_RSVP);
+
     bzero(instance->pvc_reconfig_nextpvc, sizeof(instance->pvc_reconfig_nextpvc));
 
     /*
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tagpvc_container.c
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tagpvc_container.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tagpvc_container.c	(working copy)
@@ -1872,6 +1872,12 @@
 
    tag_container_pvc_clear_history(cpvc, 0);
 
+   /* free extctrl div_assoc memory */
+   if (cpvc->extctrl_cpvc_info.div_assoc) {
+       tag_extctrl_free_div_assoc_grp(cpvc->extctrl_cpvc_info.div_assoc);
+       cpvc->extctrl_cpvc_info.div_assoc = NULL;
+   }
+
    task_timer_delete(cpvc->cpvc_normalization_retry);
    task_timer_delete(cpvc->normalize_timer);
    task_block_free(tag_pvc_container_index, cpvc);
@@ -1948,6 +1954,8 @@
   cpvc->cpvc_normalization_retry_count = 0;
   cpvc->cpvc_rnh = NULL;
 
+  cpvc->extctrl_cpvc_info.div_assoc = NULL;
+
   thread_new_circular_thread(&cpvc->container_sampling.list_bw);
   tag_set_container_pvc_normalize_timer(cpvc);
 
@@ -2024,6 +2032,13 @@
         new->extctrl_cpvc_info.igp_metric_bound;
     old->extctrl_cpvc_info.delay_metric_bound =
         new->extctrl_cpvc_info.delay_metric_bound;
+
+    /*
+     * Update lsp-external-controller diversity association attributes
+     */
+    old->extctrl_cpvc_info.div_assoc =
+        tag_extctrl_update_div_assoc_grp(old->extctrl_cpvc_info.div_assoc,
+                                         new->extctrl_cpvc_info.div_assoc);
 }
 
 static void
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/static-lsp/Makefile
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/static-lsp/Makefile	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/static-lsp/Makefile	(working copy)
@@ -209,6 +209,7 @@
 	${LIBRPD-IGP-SHARD} \
 	${LIBRMOPD-CLIENT} \
 	${LIBRPD-SRD-IPC} \
+	${LIBRPD-INFRA-DAT} \
 	${LIBRPD-INFRA-RT-DIST-CLIENT} \
 	${LIBRPD-INFRA-RT-DIST-CLIENT-UI} \
 	${LIBRPD-INFRA-RT-DIST-SERVER} \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/static-lsp/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/static-lsp/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/static-lsp/Makefile.depend.host	(working copy)
@@ -509,6 +509,9 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/static-lsp/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/static-lsp/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/static-lsp/Makefile.depend.host32	(working copy)
@@ -509,6 +509,9 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/tunnel_testd/Makefile
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/tunnel_testd/Makefile	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/tunnel_testd/Makefile	(working copy)
@@ -188,6 +188,7 @@
 	${LIBRPD-RT-PROXY} \
 	${LIBRPD-IGP-SHARD} \
 	${LIBRMOPD-CLIENT} \
+	${LIBRPD-INFRA-DAT} \
 	${LIBRPD-SRD-IPC} \
 	${LIBRPD-INFRA-RT-DIST-CLIENT} \
 	${LIBRPD-INFRA-RT-DIST-CLIENT-UI} \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/tunnel_testd/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/tunnel_testd/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/tunnel_testd/Makefile.depend.host	(working copy)
@@ -508,6 +508,9 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
 	layer3/usr.sbin/rpd/lib/ext-reslvr \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/tunnel_testd/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/tunnel_testd/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/tests/tunnel_testd/Makefile.depend.host32	(working copy)
@@ -14,7 +14,6 @@
 	daemon-infra/lib/libjsockaddr-families \
 	daemon-infra/lib/libjsockaddr-families/h.common \
 	daemon-infra/lib/libjsockaddr-families/py \
-	daemon-infra/lib/libjsockaddr-families/py/__pycache__ \
 	daemon-infra/lib/libjsockaddr/h.common \
 	daemon-infra/lib/libjtask \
 	daemon-infra/lib/libjtask-bandwidth-string \
@@ -39,7 +38,6 @@
 	daemon-infra/lib/libjtask/mgmtlib \
 	daemon-infra/lib/libjtask/odl/jtask/odl \
 	daemon-infra/lib/libjtask/py \
-	daemon-infra/lib/libjtask/py/__pycache__ \
 	daemon-infra/lib/libjtask/rtsock \
 	daemon-infra/lib/libjthr \
 	daemon-infra/lib/libjthr/h.common \
@@ -384,7 +382,6 @@
 	layer3/lib/librpd \
 	layer3/lib/librpd/h.common \
 	layer3/lib/librpd/py \
-	layer3/lib/librpd/py/__pycache__ \
 	layer3/lib/libted-compute/api \
 	layer3/lib/libted-compute/app \
 	layer3/lib/libted-compute/infra \
@@ -511,6 +508,9 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
 	layer3/usr.sbin/rpd/lib/ext-reslvr \
@@ -521,7 +521,6 @@
 	layer3/usr.sbin/rpd/lib/if/config \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/if/py \
-	layer3/usr.sbin/rpd/lib/if/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/if/ui \
 	layer3/usr.sbin/rpd/lib/ifx-dist/client \
 	layer3/usr.sbin/rpd/lib/ifx-dist/server \
@@ -555,7 +554,6 @@
 	layer3/usr.sbin/rpd/lib/mock \
 	layer3/usr.sbin/rpd/lib/mock/h.common \
 	layer3/usr.sbin/rpd/lib/mock/py \
-	layer3/usr.sbin/rpd/lib/mock/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/mpls/common/core/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/config \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core \
@@ -563,7 +561,6 @@
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ddl/junos-routing-mpls-tag-lsi/actions \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ddl/junos-routing-mpls-tag-lsi/gen.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/py \
-	layer3/usr.sbin/rpd/lib/mpls/label_mgr/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ui \
 	layer3/usr.sbin/rpd/lib/mpls/lsp_mapping \
 	layer3/usr.sbin/rpd/lib/mpls/lsping_resp \
@@ -598,7 +595,6 @@
 	layer3/usr.sbin/rpd/lib/prpd/ddl/junos-routing-prpd/gen.common \
 	layer3/usr.sbin/rpd/lib/prpd/ui \
 	layer3/usr.sbin/rpd/lib/py/libjunos-patricia-py \
-	layer3/usr.sbin/rpd/lib/py/libjunos-patricia-py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/raas/client/config \
 	layer3/usr.sbin/rpd/lib/raas/client/core \
 	layer3/usr.sbin/rpd/lib/raas/server/config \
@@ -627,7 +623,6 @@
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-basic/gen.common \
 	layer3/usr.sbin/rpd/lib/rt/h.common \
 	layer3/usr.sbin/rpd/lib/rt/py \
-	layer3/usr.sbin/rpd/lib/rt/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/client \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/client/ui \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/server \
@@ -664,7 +659,6 @@
 	layer3/usr.sbin/rpd/lib/tevent-channel \
 	layer3/usr.sbin/rpd/lib/tevent/h.common \
 	layer3/usr.sbin/rpd/lib/tevent/py \
-	layer3/usr.sbin/rpd/lib/tevent/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/trace \
 	layer3/usr.sbin/rpd/lib/vrouter \
 	layer3/usr.sbin/rpd/lmp/ddl/junos-routing-rpd-lmp/actions \
@@ -699,7 +693,6 @@
 	layer3/usr.sbin/rpd/mpls_te/infra/ted/core \
 	layer3/usr.sbin/rpd/mpls_te/infra/ted/core/h.common \
 	layer3/usr.sbin/rpd/mpls_te/infra/ted/py \
-	layer3/usr.sbin/rpd/mpls_te/infra/ted/py/__pycache__ \
 	layer3/usr.sbin/rpd/mpls_te/infra/ted/ui \
 	layer3/usr.sbin/rpd/mpls_te/infra/ted_compute/broker \
 	layer3/usr.sbin/rpd/mpls_te/infra/ted_compute/test_client \
Index: layer3/usr.sbin/rpd/os/backup_warm_standby.c
===================================================================
--- layer3/usr.sbin/rpd/os/backup_warm_standby.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/os/backup_warm_standby.c	(working copy)
@@ -328,6 +328,10 @@
 #include <jnx/rpd-srlg-config/srlg_config_module.h>
 #include <jnx/rpd-srlg-ui/srlg_ui_module.h>
 
+#include <jnx/rpd-dat/dat_module.h>
+#include <jnx/rpd-dat-config/dat_config_module.h>
+#include <jnx/rpd-dat-ui/dat_ui_module.h>
+
 #include <jnx/rpd-rt-frr-sesid/rt_ppm_intf_init.h>
 #include <jnx/rpd-srv6/srv6_module.h>
 #include <jnx/rpd-srv6/srv6_mgmt.h>
@@ -415,6 +419,9 @@
     APP_CTX_RPD_MODULE_SRLG,
     APP_CTX_RPD_MODULE_SRLG_CONFIG,
     APP_CTX_RPD_MODULE_SRLG_UI,
+    APP_CTX_RPD_MODULE_DAT,
+    APP_CTX_RPD_MODULE_DAT_CONFIG,
+    APP_CTX_RPD_MODULE_DAT_UI,
     APP_CTX_RPD_MODULE_RIM,
     APP_CTX_RPD_MODULE_RIM_SERVER,
     APP_CTX_RPD_MODULE_RIM_SERVER_CONFIG,
Index: layer3/usr.sbin/rpd/os/master.c
===================================================================
--- layer3/usr.sbin/rpd/os/master.c	(revision 1333131)
+++ layer3/usr.sbin/rpd/os/master.c	(working copy)
@@ -390,6 +390,9 @@
 #include <jnx/rpd-srlg-config/srlg_config_module.h>
 #include <jnx/rpd-srlg-ui/srlg_ui_module.h>
 
+#include <jnx/rpd-dat/dat_module.h>
+#include <jnx/rpd-dat-config/dat_config_module.h>
+#include <jnx/rpd-dat-ui/dat_ui_module.h>
 
 #include <jnx/rpd-isis-proto/iso_ctx.h>
 
@@ -519,6 +522,9 @@
     APP_CTX_RPD_MODULE_SRLG,
     APP_CTX_RPD_MODULE_SRLG_CONFIG,
     APP_CTX_RPD_MODULE_SRLG_UI,
+    APP_CTX_RPD_MODULE_DAT,
+    APP_CTX_RPD_MODULE_DAT_CONFIG,
+    APP_CTX_RPD_MODULE_DAT_UI,
     APP_CTX_RPD_MODULE_RIM,
     APP_CTX_RPD_MODULE_RIM_SERVER,
     APP_CTX_RPD_MODULE_RIM_SERVER_CONFIG,
Index: layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.amd64	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.amd64,ubuntu	(working copy)
@@ -252,6 +252,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.arm	(working copy)
@@ -250,6 +250,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.host,linux	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.host32	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.i386	(working copy)
@@ -251,6 +251,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.octeon	(working copy)
@@ -251,6 +251,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.octeon,bsd6	(working copy)
@@ -262,6 +262,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.amd64	(working copy)
@@ -254,6 +254,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.amd64,ubuntu	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.arm	(working copy)
@@ -251,6 +251,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.arm64,ubuntu	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.host,linux	(working copy)
@@ -254,6 +254,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.host32	(working copy)
@@ -254,6 +254,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.i386	(working copy)
@@ -252,6 +252,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.octeon	(working copy)
@@ -252,6 +252,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/pim/test-daemon/Makefile.depend.octeon,bsd6	(working copy)
@@ -263,6 +263,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.amd64	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.arm	(working copy)
@@ -250,6 +250,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.arm64,ubuntu	(working copy)
@@ -252,6 +252,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.host,linux	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.host32	(working copy)
@@ -253,6 +253,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.i386	(working copy)
@@ -251,6 +251,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.octeon	(working copy)
@@ -251,6 +251,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.octeon,bsd6	(working copy)
@@ -262,6 +262,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rpd/Makefile.depend.amd64,evo
===================================================================
--- layer3/usr.sbin/rpd/rpd/Makefile.depend.amd64,evo	(revision 1333131)
+++ layer3/usr.sbin/rpd/rpd/Makefile.depend.amd64,evo	(working copy)
@@ -314,6 +314,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rpd/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/rpd/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/rpd/Makefile.depend.amd64,ubuntu	(working copy)
@@ -66,6 +66,7 @@
 	dsa/lib/lfqueue \
 	dsa/lib/rcu \
 	dsa/lib/vector \
+	dsa/lib/vector/h.common \
 	external/apache2/librdkafka/lib \
 	external/bsd/jemalloc/lib/libjemalloc \
 	external/bsd/protobuf-c/lib \
@@ -309,6 +310,12 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
+	layer3/usr.sbin/rpd/lib/divassoc/ui/h.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rpd/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/rpd/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/rpd/Makefile.depend.arm	(working copy)
@@ -66,6 +66,7 @@
 	dsa/lib/lfqueue \
 	dsa/lib/rcu \
 	dsa/lib/vector \
+	dsa/lib/vector/h.common \
 	dsa/shared/include/jnx.common \
 	external/bsd/jemalloc/lib/libjemalloc \
 	external/bsd/protobuf-c/lib \
@@ -328,6 +329,12 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
+	layer3/usr.sbin/rpd/lib/divassoc/ui/h.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rpd/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/rpd/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/rpd/Makefile.depend.arm64,ubuntu	(working copy)
@@ -309,6 +309,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rpd/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/rpd/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/rpd/Makefile.depend.host,linux	(working copy)
@@ -334,6 +334,12 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
+	layer3/usr.sbin/rpd/lib/divassoc/ui/h.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rpd/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/rpd/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/rpd/Makefile.depend.host32	(working copy)
@@ -66,6 +66,7 @@
 	dsa/lib/lfqueue \
 	dsa/lib/rcu \
 	dsa/lib/vector \
+	dsa/lib/vector/h.common \
 	dsa/shared/include/jnx.common \
 	external/apache2/librdkafka/lib \
 	external/bsd/jemalloc/lib/libjemalloc \
@@ -334,6 +335,12 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
+	layer3/usr.sbin/rpd/lib/divassoc/ui/h.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rpd/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/rpd/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/rpd/Makefile.depend.i386	(working copy)
@@ -329,6 +329,12 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
+	layer3/usr.sbin/rpd/lib/divassoc/ui/h.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rpd/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/rpd/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/rpd/Makefile.depend.octeon	(working copy)
@@ -329,6 +329,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rpd/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/rpd/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/rpd/Makefile.depend.octeon,bsd6	(working copy)
@@ -340,6 +340,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: pkgs/container/routing-container/dev/Makefile.depend.amd64,ubuntu
===================================================================
--- pkgs/container/routing-container/dev/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ pkgs/container/routing-container/dev/Makefile.depend.amd64,ubuntu	(working copy)
@@ -86,6 +86,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/actions \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/actions \
Index: pkgs/container/routing-container/dev/Makefile.depend.arm64,ubuntu
===================================================================
--- pkgs/container/routing-container/dev/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ pkgs/container/routing-container/dev/Makefile.depend.arm64,ubuntu	(working copy)
@@ -86,6 +86,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/actions \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/actions \
Index: pkgs/junos-routing/aggregated/Makefile.depend.amd64
===================================================================
--- pkgs/junos-routing/aggregated/Makefile.depend.amd64	(revision 1333131)
+++ pkgs/junos-routing/aggregated/Makefile.depend.amd64	(working copy)
@@ -103,6 +103,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.i386 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.i386 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/actions.i386 \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/actions.i386 \
Index: pkgs/junos-routing/aggregated/Makefile.depend.arm
===================================================================
--- pkgs/junos-routing/aggregated/Makefile.depend.arm	(revision 1333131)
+++ pkgs/junos-routing/aggregated/Makefile.depend.arm	(working copy)
@@ -103,6 +103,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/actions \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/actions \
Index: pkgs/junos-routing/aggregated/Makefile.depend.octeon
===================================================================
--- pkgs/junos-routing/aggregated/Makefile.depend.octeon	(revision 1333131)
+++ pkgs/junos-routing/aggregated/Makefile.depend.octeon	(working copy)
@@ -103,6 +103,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/actions \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/actions \
Index: pkgs/srxsme/domestic/Makefile.depend.octeon,bsd6
===================================================================
--- pkgs/srxsme/domestic/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ pkgs/srxsme/domestic/Makefile.depend.octeon,bsd6	(working copy)
@@ -1121,6 +1121,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/actions \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/actions \
Index: pkgs/srxsme/fips-optest/Makefile.depend.octeon,bsd6
===================================================================
--- pkgs/srxsme/fips-optest/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ pkgs/srxsme/fips-optest/Makefile.depend.octeon,bsd6	(working copy)
@@ -1123,6 +1123,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/actions \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/actions \
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.octeon	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile.depend.octeon	(working copy)
@@ -0,0 +1,34 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/include/jnx.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/lib/librpd \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx/jam.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.i386
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.i386	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/test-daemon/Makefile.depend.i386	(working copy)
@@ -247,6 +247,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/rip2/test-daemon/Makefile.depend.amd64,ubuntu	(working copy)
@@ -252,6 +252,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/lib/rt/tests/rt_sesid/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/rt_sesid/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/rt_sesid/Makefile.depend.host	(working copy)
@@ -579,6 +579,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/bgp-shard-ifx-dist/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/bgp-shard-ifx-dist/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/bgp-shard-ifx-dist/tests/Makefile.depend.host	(working copy)
@@ -582,6 +582,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/ldp/lib/proto/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/ldp/lib/proto/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/lib/proto/tests/Makefile.depend.host	(working copy)
@@ -593,6 +593,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.arm64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.arm64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.arm64	(working copy)
@@ -0,0 +1,17 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.arm	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.arm	(working copy)
@@ -0,0 +1,20 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	junos/bsd/include \
+	junos/lib/libjunos-log-trace \
+	junos/lib/libjunos-offset-patricia \
+	junos/lib/libjunos-patricia \
+	junos/lib/libjunos-product-info \
+	junos/lib/libjunos-string \
+	ui/tools/ddc.host \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,evo
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,evo	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,evo	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	pfe-shared/include/jnx \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.octeon,bsd6	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/core/Makefile.depend.octeon,bsd6	(working copy)
@@ -36,6 +36,7 @@
 	layer3/usr.sbin/rpd/l2vpn/lib/vc-proto/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/ip/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.octeon
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.octeon	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.octeon	(working copy)
@@ -21,9 +21,11 @@
 	layer3/lib/libroute-filter-infra/h.common \
 	layer3/lib/librouting-policy-infra/h.common \
 	layer3/lib/librpd \
+	layer3/lib/librpd/h.common \
 	layer3/lib/libted-compute/api/h.common \
 	layer3/usr.sbin/rpd/lib/bfd/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64	(working copy)
@@ -0,0 +1,17 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/rt/tests/prefix_prioritization/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/prefix_prioritization/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/prefix_prioritization/Makefile.depend.host	(working copy)
@@ -581,6 +581,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/evpn/tests/py/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/evpn/tests/py/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/evpn/tests/py/Makefile.depend.host32	(working copy)
@@ -14,7 +14,6 @@
 	daemon-infra/lib/libjsockaddr-families \
 	daemon-infra/lib/libjsockaddr-families/h.common \
 	daemon-infra/lib/libjsockaddr-families/py \
-	daemon-infra/lib/libjsockaddr-families/py/__pycache__ \
 	daemon-infra/lib/libjsockaddr/h.common \
 	daemon-infra/lib/libjtask \
 	daemon-infra/lib/libjtask-bandwidth-string \
@@ -42,7 +41,6 @@
 	daemon-infra/lib/libjtask/mgmtlib \
 	daemon-infra/lib/libjtask/odl/jtask/odl \
 	daemon-infra/lib/libjtask/py \
-	daemon-infra/lib/libjtask/py/__pycache__ \
 	daemon-infra/lib/libjtask/rtsock \
 	daemon-infra/lib/libjthr \
 	daemon-infra/lib/libjthr/h.common \
@@ -397,7 +395,6 @@
 	layer3/lib/librpd \
 	layer3/lib/librpd/h.common \
 	layer3/lib/librpd/py \
-	layer3/lib/librpd/py/__pycache__ \
 	layer3/lib/libted-compute/api \
 	layer3/lib/libted-compute/app \
 	layer3/lib/libted-compute/infra \
@@ -656,6 +653,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
@@ -669,7 +671,6 @@
 	layer3/usr.sbin/rpd/lib/if/config \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/if/py \
-	layer3/usr.sbin/rpd/lib/if/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/if/ui \
 	layer3/usr.sbin/rpd/lib/ifx-dist/client \
 	layer3/usr.sbin/rpd/lib/ifx-dist/server \
@@ -706,7 +707,6 @@
 	layer3/usr.sbin/rpd/lib/mock \
 	layer3/usr.sbin/rpd/lib/mock/h.common \
 	layer3/usr.sbin/rpd/lib/mock/py \
-	layer3/usr.sbin/rpd/lib/mock/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/config \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/config/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core \
@@ -714,7 +714,6 @@
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ddl/junos-routing-mpls-tag-lsi/actions \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ddl/junos-routing-mpls-tag-lsi/gen.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/py \
-	layer3/usr.sbin/rpd/lib/mpls/label_mgr/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/ui \
 	layer3/usr.sbin/rpd/lib/mpls/lsp_mapping \
 	layer3/usr.sbin/rpd/lib/mpls/lsping_resp \
@@ -748,7 +747,6 @@
 	layer3/usr.sbin/rpd/lib/prpd/ddl/junos-routing-prpd/gen.common \
 	layer3/usr.sbin/rpd/lib/prpd/ui \
 	layer3/usr.sbin/rpd/lib/py/libjunos-patricia-py \
-	layer3/usr.sbin/rpd/lib/py/libjunos-patricia-py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/raas/client/config \
 	layer3/usr.sbin/rpd/lib/raas/client/core \
 	layer3/usr.sbin/rpd/lib/raas/server/config \
@@ -779,7 +777,6 @@
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-basic/gen.common \
 	layer3/usr.sbin/rpd/lib/rt/h.common \
 	layer3/usr.sbin/rpd/lib/rt/py \
-	layer3/usr.sbin/rpd/lib/rt/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/client \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/client/ui \
 	layer3/usr.sbin/rpd/lib/rt/rt-dist/server \
@@ -816,7 +813,6 @@
 	layer3/usr.sbin/rpd/lib/tevent-channel \
 	layer3/usr.sbin/rpd/lib/tevent/h.common \
 	layer3/usr.sbin/rpd/lib/tevent/py \
-	layer3/usr.sbin/rpd/lib/tevent/py/__pycache__ \
 	layer3/usr.sbin/rpd/lib/trace \
 	layer3/usr.sbin/rpd/lib/vrouter \
 	layer3/usr.sbin/rpd/lmp/ddl/junos-routing-rpd-lmp/actions \
Index: layer3/usr.sbin/rpd/lib/rt/tests/multipath_resolution/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/tests/multipath_resolution/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/tests/multipath_resolution/Makefile.depend.host	(working copy)
@@ -581,6 +581,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.amd64,ubuntu	(working copy)
@@ -18,9 +18,11 @@
 	layer3/lib/libroute-filter-infra/h.common \
 	layer3/lib/librouting-policy-infra/h.common \
 	layer3/lib/librpd \
+	layer3/lib/librpd/h.common \
 	layer3/lib/libted-compute/api/h.common \
 	layer3/usr.sbin/rpd/lib/bfd/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
Index: layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/ldp/test-daemon/Makefile.depend.amd64,ubuntu	(working copy)
@@ -252,6 +252,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.amd64,evo
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.amd64,evo	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/tunnel_mgr/config/Makefile.depend.amd64,evo	(working copy)
@@ -27,6 +27,7 @@
 	layer3/usr.sbin/rpd/lib/cfg-mgmt/h.common \
 	layer3/usr.sbin/rpd/lib/common/h.common \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/if/h.common \
 	layer3/usr.sbin/rpd/lib/krt/h.common \
 	layer3/usr.sbin/rpd/lib/mc/h.common \
Index: layer3/usr.sbin/rpd/evpn/tests/evpn_ar_tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/evpn/tests/evpn_ar_tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/evpn/tests/evpn_ar_tests/Makefile.depend.host32	(working copy)
@@ -646,6 +646,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/test-daemon/Makefile.depend.arm64,ubuntu	(working copy)
@@ -261,6 +261,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.arm64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.arm64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.arm64	(working copy)
@@ -0,0 +1,20 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	junos/bsd/include \
+	junos/lib/libjunos-log-trace \
+	junos/lib/libjunos-offset-patricia \
+	junos/lib/libjunos-patricia \
+	junos/lib/libjunos-product-info \
+	junos/lib/libjunos-string \
+	ui/tools/ddc.host \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.arm64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.arm64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/ospf2/test-daemon/Makefile.depend.arm64,ubuntu	(working copy)
@@ -252,6 +252,9 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,bsd6
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,bsd6	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen/Makefile.depend.i386,bsd6	(working copy)
@@ -0,0 +1,13 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	pfe-shared/include/jnx \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.octeon,bsd6
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.octeon,bsd6	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.octeon,bsd6	(working copy)
@@ -0,0 +1,22 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	bsd/include \
+	bsd/lib/csu/mips \
+	junos-shared/include/jnx/sys.common \
+	junos/bsd/include \
+	junos/gnu/lib/csu \
+	junos/gnu/lib/libgcc \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/rpd/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/rpd/Makefile.depend.amd64	(revision 1333131)
+++ layer3/usr.sbin/rpd/rpd/Makefile.depend.amd64	(working copy)
@@ -332,6 +332,12 @@
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
 	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/config/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
+	layer3/usr.sbin/rpd/lib/divassoc/ui/h.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,evo
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,evo	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions/Makefile.depend.amd64,evo	(working copy)
@@ -0,0 +1,17 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
+	pfe-shared/include/jnx \
+	pfe-shared/include/jnx/jam \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/bgp/tests/bgp_performance_tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/bgp/tests/bgp_performance_tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/bgp/tests/bgp_performance_tests/Makefile.depend.host	(working copy)
@@ -586,6 +586,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/evpn/tests/py/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/evpn/tests/py/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/evpn/tests/py/Makefile.depend.host	(working copy)
@@ -653,6 +653,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/dyncfg/h.common \
 	layer3/usr.sbin/rpd/lib/evpn \
Index: layer3/usr.sbin/rpd/lib/krt/Makefile.depend.arm
===================================================================
--- layer3/usr.sbin/rpd/lib/krt/Makefile.depend.arm	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/krt/Makefile.depend.arm	(working copy)
@@ -16,6 +16,7 @@
 	dsa/lib/bit-hi-lo/h.common \
 	dsa/lib/hbtree/h.common \
 	dsa/lib/junos-fsm/h.common \
+	dsa/lib/vector/h.common \
 	dsa/shared/include/jnx.common \
 	junos-shared/include/jnx/sys.common \
 	junos/bsd/include \
Index: layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.amd64,evo
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.amd64,evo	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/core/Makefile.depend.amd64,evo	(working copy)
@@ -0,0 +1,31 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask-grow-array/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	daemon-infra/lib/libjtrace/h.common \
+	dsa/lib/bit-hi-lo/h.common \
+	dsa/lib/hbtree/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/lib/libevent/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/h.common \
+	layer3/usr.sbin/rpd/lib/ctx/h.common \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/krt/h.common \
+	layer3/usr.sbin/rpd/lib/mc/h.common \
+	layer3/usr.sbin/rpd/lib/mpls/label_mgr/core/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.powerpc
===================================================================
--- layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.powerpc	(revision 1333131)
+++ layer3/usr.sbin/rpd/mpls_te/proto/spring-te/config/Makefile.depend.powerpc	(working copy)
@@ -33,6 +33,7 @@
 	layer3/usr.sbin/rpd/lib/service-mapping/h.common \
 	layer3/usr.sbin/rpd/lib/sr-ero/h.common \
 	layer3/usr.sbin/rpd/lib/srlg/core/h.common \
+	layer3/usr.sbin/rpd/lib/divassoc/core/h.common \
 	layer3/usr.sbin/rpd/lib/tevent/h.common \
 	layer3/usr.sbin/rpd/mpls_te/infra/te_util/config/h.common \
 	layer3/usr.sbin/rpd/mpls_te/infra/te_util/core/h.common \
Index: layer3/usr.sbin/pccd/ddl/pccd/pccd.cnf.dd
===================================================================
--- layer3/usr.sbin/pccd/ddl/pccd/pccd.cnf.dd	(revision 1333131)
+++ layer3/usr.sbin/pccd/ddl/pccd/pccd.cnf.dd	(working copy)
@@ -518,6 +518,11 @@
             type toggle
         }
 
+        attribute diversity-association-capability {
+            help " Enable disjoint association in open message for all pcep connections";
+            type toggle
+        }
+
         attribute tls-strict {
             help "Enable TLSv1.2 for all PCEP connections";
             type toggle
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/h/jnx/rpd-dat-ui/dat_ui.h
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/h/jnx/rpd-dat-ui/dat_ui.h	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/h/jnx/rpd-dat-ui/dat_ui.h	(working copy)
@@ -0,0 +1,12 @@
+/*
+ * $Id$
+ *
+ * dat_ui.h - Contains public declarations for UI-related Diversity Association Group handling
+ *
+ * Copyright (c) 2023, Juniper Networks, Inc.
+ * All rights reserved.
+ */
+#ifndef __DAT_UI_H__
+#define __DAT_UI_H__
+
+#endif
Index: layer3/usr.sbin/rpd/lib/divassoc/config/Makefile
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/config/Makefile	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/config/Makefile	(working copy)
@@ -0,0 +1,36 @@
+#
+# $Id$
+#
+# Copyright (c) 2023, Juniper Networks, Inc.
+# All rights reserved.
+#
+
+LIB = rpd-infra-dat-config
+
+WITH_SYM_CHECK = 1
+
+SRCS = \
+	dat_config.c
+
+CFLAGS += \
+	-DRPD_TAG_T \
+	-DDDL_NO_CHECK_PRINTF
+
+SRC_LIBS += \
+	${LIBJTRACE} \
+	${LIBJTASK} \
+	${LIBRPD-INFRA-COMMON} \
+	${LIBRPD-INFRA-POLICY} \
+	${LIBRPD-INFRA-CTX} \
+	${LIBRPD-INFRA-MC} \
+	${LIBRPD-INFRA-IF} \
+	${LIBRPD-INFRA-RT} \
+	${LIBRPD-INFRA-MPLS-LABEL} \
+	${LIBRPD-INFRA-KRT} \
+	${LIBRPD-DAT-CORE} \
+
+DPLIBS += \
+	${LIBJUNOS-ROUTING-INFRA-DAT-DD} \
+
+.include <bsd.lib.mk>
+
Index: pkgs/evo/l3/full/Makefile.depend.amd64,evo
===================================================================
--- pkgs/evo/l3/full/Makefile.depend.amd64,evo	(revision 1333131)
+++ pkgs/evo/l3/full/Makefile.depend.amd64,evo	(working copy)
@@ -98,6 +98,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/actions \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common,${DEP_TARGET_OS} \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/actions \
Index: build/mk/xdl.libnames.mk
===================================================================
--- build/mk/xdl.libnames.mk	(revision 1333131)
+++ build/mk/xdl.libnames.mk	(working copy)
@@ -270,6 +270,8 @@
 INCLUDES_libjunos-routing-infra-rt-advanced-dd ?= -I${STAGED_GEN_DDL}
 LIBJUNOS-ROUTING-INFRA-SRLG-DD ?= ${STAGED_GEN_DDL}/tlv/libjunos-routing-infra-srlg-dd.tlv
 INCLUDES_libjunos-routing-infra-srlg-dd ?= -I${STAGED_GEN_DDL}
+LIBJUNOS-ROUTING-INFRA-DAT-DD ?= ${STAGED_GEN_DDL}/tlv/libjunos-routing-infra-dat-dd.tlv
+INCLUDES_libjunos-routing-infra-dat-dd ?= -I${STAGED_GEN_DDL}
 LIBJUNOS-ROUTING-INFRA-TELEMETRY-DD ?= ${STAGED_GEN_DDL}/tlv/libjunos-routing-infra-telemetry-dd.tlv
 INCLUDES_libjunos-routing-infra-telemetry-dd ?= -I${STAGED_GEN_DDL}
 LIBJUNOS-ROUTING-INGRESS-REPLICATION-DD ?= ${STAGED_GEN_DDL}/tlv/libjunos-routing-ingress-replication-dd.tlv
@@ -1261,6 +1263,7 @@
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-advanced/gen.common \
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-basic/gen.common \
 	layer3/usr.sbin/rpd/lib/srlg/ddl/junos-routing-infra-srlg/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/srv6/ddl/junos-routing-srv6/gen.common \
 	layer3/usr.sbin/rpd/lmp/ddl/junos-routing-rpd-lmp/gen.common \
 	layer3/usr.sbin/rpd/mc/ddl/junos-routing-multicast/gen.common \
@@ -1505,6 +1508,7 @@
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-advanced/actions \
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-basic/actions \
 	layer3/usr.sbin/rpd/lib/srlg/ddl/junos-routing-infra-srlg/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
 	layer3/usr.sbin/rpd/lib/srv6/ddl/junos-routing-srv6/actions \
 	layer3/usr.sbin/rpd/lmp/ddl/junos-routing-rpd-lmp/actions \
 	layer3/usr.sbin/rpd/mc/ddl/junos-routing-multicast/actions \
@@ -1703,6 +1707,7 @@
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-advanced/gen.common \
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-basic/gen.common \
 	layer3/usr.sbin/rpd/lib/srlg/ddl/junos-routing-infra-srlg/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/srv6/ddl/junos-routing-srv6/gen.common \
 	layer3/usr.sbin/rpd/lmp/ddl/junos-routing-rpd-lmp/gen.common \
 	layer3/usr.sbin/rpd/mc/ddl/junos-routing-multicast/gen.common \
@@ -1901,6 +1906,7 @@
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-advanced/actions \
 	layer3/usr.sbin/rpd/lib/rt/ddl/junos-routing-backup-selection-basic/actions \
 	layer3/usr.sbin/rpd/lib/srlg/ddl/junos-routing-infra-srlg/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
 	layer3/usr.sbin/rpd/lib/srv6/ddl/junos-routing-srv6/actions \
 	layer3/usr.sbin/rpd/lmp/ddl/junos-routing-rpd-lmp/actions \
 	layer3/usr.sbin/rpd/mc/ddl/junos-routing-multicast/actions \
Index: junos/lib/libjevt/tests/Makefile.depend.host32
===================================================================
--- junos/lib/libjevt/tests/Makefile.depend.host32	(revision 1333131)
+++ junos/lib/libjevt/tests/Makefile.depend.host32	(working copy)
@@ -345,6 +345,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/actions \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/actions \
Index: junos/lib/libjios/Makefile.depend.amd64,wrlinux
===================================================================
--- junos/lib/libjios/Makefile.depend.amd64,wrlinux	(revision 1333131)
+++ junos/lib/libjios/Makefile.depend.amd64,wrlinux	(working copy)
@@ -3,6 +3,7 @@
 DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
 
 DIRDEPS = \
+	junos/lib/libjbase/h.common \
 
 
 .include <dirdeps.mk>
Index: junos/ui/publish/xsd/Makefile.depend.host,linux
===================================================================
--- junos/ui/publish/xsd/Makefile.depend.host,linux	(revision 1333131)
+++ junos/ui/publish/xsd/Makefile.depend.host,linux	(working copy)
@@ -174,6 +174,7 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-proto-intf/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/ip/ddl/junos-routing-ip/gen.common \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-advanced/gen.common \
 	layer3/usr.sbin/rpd/lib/krt/ddl/junos-routing-krt-basic/gen.common \
Index: layer3/lib/libpcep/core.c
===================================================================
--- layer3/lib/libpcep/core.c	(revision 1333131)
+++ layer3/lib/libpcep/core.c	(working copy)
@@ -1027,6 +1027,16 @@
     conn->parameters->remote.proposition.multipath_capability = openobj->multipath_capability;
     conn->parameters->remote.proposition.max_segment_list = openobj->max_segment_list;
 
+    if (conn->parameters->local.proposition.disjoint_assoc_capability &&
+        (openobj->disjoint_assoc_capability == false)) {
+        pcep_send_pcerr(conn, PCEP_ERR_TYPE_SEF, PCEP_ERR_VAL_NO_NEGOTIATION);
+        log_error(conn->pcep, " PCE is not disjoint association capable. "
+                  "closing the PCEP connection");
+        return close_conn(conn, EINVAL, 0);
+    }
+    conn->parameters->remote.proposition.disjoint_assoc_capability =
+                                                        openobj->disjoint_assoc_capability;
+
     /* send new proposition if this one was not acceptable */
     if (!acceptable) {
         if (conn->state == PCEP_CONN_OPENWAIT) {
@@ -1739,7 +1749,8 @@
                           conn->parameters->local.proposition.pce_flowspec_capability,
                           conn->parameters->local.proposition.path_protection_association,
                           conn->parameters->local.proposition.srpag_association,
-                          conn->parameters->local.proposition.multipath_capability))
+                          conn->parameters->local.proposition.multipath_capability,
+                          conn->parameters->local.proposition.disjoint_assoc_capability))
             return;
         if (transition_to_openwait(conn))
             return;
Index: layer3/lib/libpcep/message.h
===================================================================
--- layer3/lib/libpcep/message.h	(revision 1333131)
+++ layer3/lib/libpcep/message.h	(working copy)
@@ -83,7 +83,8 @@
                bool spring_capability, bool srv6_capability,
                unsigned flags, uint8_t msd,
                bool flowspec_capability, bool path_protection_assoc,
-               bool srpag_assoc, bool multipath_capability);
+               bool srpag_assoc, bool multipath_capability,
+               bool disjoint_assoc_capability);
 
 /**
  * Send a negotiation message (PcErr message with open object)
Index: layer3/lib/libpcep/h/jnx/libpcep_objects.h
===================================================================
--- layer3/lib/libpcep/h/jnx/libpcep_objects.h	(revision 1333131)
+++ layer3/lib/libpcep/h/jnx/libpcep_objects.h	(working copy)
@@ -246,6 +246,7 @@
     PCEP_ERR_VAL_LSPA_MISSING      = 11, /** LSPA Object missing */
     PCEP_ERR_VAL_CLNP_TLV_MISSING  = 13, /** LSP Cleanup TLV missing */
     PCEP_ERR_VAL_SYMB_NAME_MISSING = 14, /** LSP Symbolic name TLV missing */
+    PCEP_ERR_VAL_DISJ_CONFIG_MISSING = 15, /** Disjoint Association Configuration TLV missing */
 
     /* Type 10 values */
     PCEP_ERR_VAL_BAD_LEVEL_VAL       = 2, /** Bad Level value */
@@ -624,6 +625,7 @@
         /* ASSOC-Type-List TLV END*/
         bool    multipath_capability; /*  draft-ietf-pce-multipath-06 */
         uint16_t max_segment_list;
+        bool     disjoint_assoc_capability;
 };
 
 /**
@@ -1216,6 +1218,44 @@
 };
 
 /**
+* DISJOINT CONFIGURATION TLV:
+* RFC 8800
+* 0                   1                   2                   3
+* 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+* +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
+* |            Type = 46          |             Length            |
+* +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
+* |              Unassigned flags                       |T|P|S|N|L|
+* +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
+*/
+struct pcep_obj_disjoint_configuration_tlv {
+    bool link_disjoint;
+    bool node_disjoint;
+    bool srlg_disjoint;
+    bool shortest_path_flag;
+    bool stictness_flag;
+};
+
+/**
+* DISJOINT STATUS TLV:
+* RFC 8800
+* 0                   1                   2                   3
+* 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+* +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
+* |            Type = 47          |             Length            |
+* +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
+* |              Unassigned flags                       |T|P|S|N|L|
+* +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
+*/
+struct pcep_obj_disjoint_status_tlv {
+    bool link_disjoint;
+    bool node_disjoint;
+    bool srlg_disjoint;
+    bool shortest_path_flag;
+    bool stictness_flag;
+};
+
+/**
  * PCEP Association Object
  *
  * Association groups are owned by the PCC, but the PCE may request
@@ -1296,6 +1336,14 @@
         bool sr_preference;
 
         struct pcep_obj_sr_preference_tlv sr_preference_tlv;
+
+        bool disjoint_config;
+
+        struct pcep_obj_disjoint_configuration_tlv disjoint_config_tlv;
+
+        bool disjoint_status;
+
+        struct pcep_obj_disjoint_status_tlv disjoint_status_tlv;
 };
 
 /**
@@ -1377,6 +1425,14 @@
         struct pcep_obj_sr_candidate_path_identifier_tlv sr_candidate_path_identifier_tlv;
 
         struct pcep_obj_sr_preference_tlv sr_preference_tlv;
+
+        bool disjoint_config;
+
+        struct pcep_obj_disjoint_configuration_tlv disjoint_config_tlv;
+
+        bool disjoint_status;
+
+        struct pcep_obj_disjoint_status_tlv disjoint_status_tlv;
 };
 
 /**
@@ -1458,6 +1514,8 @@
 
 #define TLV_SR_CANDIDATE_PATH_IDENTIFIER_FIXED_LEN 28
 #define TLV_SR_PREFERENCE_FIXED_LEN 4
+#define TLV_DISJOINT_STATUS_FIXED_LEN 4
+#define TLV_DISJOINT_CONFIGURATION_FIXED_LEN 4
 
 #define TLV_PATH_BINDING_BT_0_LEN 7
 #define TLV_PATH_BINDING_BT_1_LEN 8
@@ -1771,7 +1829,9 @@
 //Unused 36,37
     TLV_PATH_PROTECTION_ASSOCIATION = 38, /** https://www.iana.org/assignments/pcep/
                                         pcep.xhtml#pcep-tlv-type-indicators */
-// Unused 39-49
+    TLV_DISJOINT_CONFIGURATION      = 46, /** RFC8800 */
+    TLV_DISJOINT_STATUS             = 47, /** RFC8800 */
+// Unused 39-45, 48-49
     TLV_VENDOR_LSP_QUALIFIER     = 50,
     TLV_VENDOR_LSP_BW            = 51,
     TLV_IPV4_P2MP_LSP_IDENTIFIERS_nonIANA = 52,
@@ -1823,6 +1883,8 @@
 /* Association type values start*/
  #define ASSOCIATION_TYPE_PATH_PROTECTION 1 /** https://www.iana.org/assignments/pcep/
                                         pcep.xhtml#association-type-field */
+ #define ASSOCIATION_TYPE_DISJOINT 2 /** RFC8800 */
+
  #define ASSOCIATION_TYPE_SRPAG 6
 
 /**
Index: layer3/usr.sbin/pccd/pccd_config.c
===================================================================
--- layer3/usr.sbin/pccd/pccd_config.c	(revision 1333131)
+++ layer3/usr.sbin/pccd/pccd_config.c	(working copy)
@@ -78,6 +78,7 @@
     int                       pdc_pce_groups_num;
     bool                      pdc_multipath_capability;
     bool                      pdc_propagate_maxsegment_list;
+    bool                      pdc_disjoint_assoc_capability;
     bool                      pdc_tls_enable;
     struct pce_group_cfg_head pdc_pce_groups;
 };
@@ -2361,6 +2362,18 @@
     maximum_srv6_segment_list_depth = (uint8_t)srv6_msd;
 
     ret = dax_get_toggle_by_name(dop,
+                                 DDLNAME_JUNIPER_PROTOCOLS_PCEP_DIVERSITY_ASSOCIATION_CAPABILITY,
+                                 buf);
+    if (ret == TRUE) {
+        cfg->pdc_disjoint_assoc_capability = true;
+        TRACE_CFG("Parsed %s: %d", DDLNAME_JUNIPER_PROTOCOLS_PCEP_DIVERSITY_ASSOCIATION_CAPABILITY,
+                  cfg->pdc_disjoint_assoc_capability);
+    } else {
+        cfg->pdc_disjoint_assoc_capability =  false;
+    }
+    pccd_set_disjoint_assoc_capability(cfg->pdc_disjoint_assoc_capability);
+
+    ret = dax_get_toggle_by_name(dop,
                                  DDLNAME_JUNIPER_PROTOCOLS_PCEP_DISABLE_MULTIPATH_CAPABILITY,
                                  buf);
     if (ret == TRUE) {
Index: layer3/usr.sbin/pccd/pccd_core.c
===================================================================
--- layer3/usr.sbin/pccd/pccd_core.c	(revision 1333131)
+++ layer3/usr.sbin/pccd/pccd_core.c	(working copy)
@@ -69,6 +69,10 @@
 #define PCEP_NEW_MAIN_SWITCH_TIMER  60
 #define MAX_SUM_OF_SIZES_IN_SRV6_SID_STRUCTURE 128
 #define PCCD_PLATFORM_MAX_ERO_COUNT 128
+/*
+ * MAX Groups processed including delete association object is 8
+ */
+#define PCCD_MAX_DISJOINT_ASSOC_GROUPS 8
 
 #define MAX_METRIC_VALUE 4294967295.0
 
@@ -113,6 +117,7 @@
 static bool main_pce_locked = 0;
 bool rfc8231_compliant = true;
 bool multipath_enabled = true;
+bool disjoint_association_enabled = false;
 bool tls_enable = false;
 static bool propagate_maxsegment_list_field = false;
 
@@ -249,6 +254,34 @@
 }
 
 void
+pccd_set_disjoint_assoc_capability (bool value)
+{
+    struct pce_cfg_core            *pce = NULL;
+    struct pce_cfg_core            *tmp = NULL;
+    struct pcep_connect_parameters *params = NULL;
+
+    TRACE_FUNCTION_ENTRY();
+    if (disjoint_association_enabled == value) {
+        TRACE_CORE("No change in Disjoint Association CLI configuration parameters");
+        TRACE_FUNCTION_RETURN();
+    }
+    if (disjoint_association_enabled) {
+        TRACE_CORE("Disabling disjoint association capability for all sessions");
+    } else {
+        TRACE_CORE("Enabling disjoint association capability for all sessions");
+    }
+    disjoint_association_enabled = value;
+
+    SLIST_FOREACH_SAFE(pce, &pce_cfg_head, pc_next, tmp) {
+        params = &pce->pc_params;
+        params->local.proposition.disjoint_assoc_capability = value;
+        pce->pc_pce.pce_opts.pco_disjoint_assoc_capability = value;
+        pccd_core_reload_pce(&pce->pc_pce);
+    }
+    TRACE_FUNCTION_EXIT();
+}
+
+void
 pccd_set_tls_enable (bool value)
 {
     struct pce_cfg_core *pce = NULL;
@@ -1857,6 +1890,8 @@
         params->local.proposition.multipath_capability = false;
     }
 
+    params->local.proposition.disjoint_assoc_capability = disjoint_association_enabled;
+
     TRACE_PCEP(dtfo, "my_dead_max: %d, proposed dead timer: %d",
                params->constraints.local.max_deadtimer,
                params->local.proposal.peer_deadtimer);
@@ -3588,7 +3623,9 @@
         rpd_assoc_type = LSP_ASSOCIATION_TYPE_TE_PLUSPLUS;
     } else if (ASSOCIATION_TYPE_SRPAG == pcep_assoc_type) {
         rpd_assoc_type = LSP_ASSOCIATION_TYPE_SRPAG;
-    } 
+    } else if (ASSOCIATION_TYPE_DISJOINT == pcep_assoc_type) {
+        rpd_assoc_type = LSP_ASSOCIATION_TYPE_DISJOINT;
+    }
 
     return rpd_assoc_type;
 }
@@ -3607,6 +3644,8 @@
         pcep_assoc_type = ASSOCIATION_TYPE_TE_PLUS_PLUS;
     } else if(LSP_ASSOCIATION_TYPE_SRPAG == rpd_assoc_type) {
         pcep_assoc_type = ASSOCIATION_TYPE_SRPAG;
+    } else if(LSP_ASSOCIATION_TYPE_DISJOINT == rpd_assoc_type) {
+        pcep_assoc_type = ASSOCIATION_TYPE_DISJOINT;
     }
 
     TRACE_CORE("RPD association type: %u,PCEP association type: %u",
@@ -4014,6 +4053,151 @@
 	TRACE_FUNCTION_RETURN(0);
 }
 
+static int
+pccd_core_parse_lsp_diversity_association (struct pcep_conn                     *conn,
+                                           rpd_extctrl_lsp_config_status_info_t *info,
+                                           uint32_t                              dag_obj_count,
+                                           bool                                  dag_obj_isipv6[8],
+                                           struct pcep_object                   *dag_obj_list[8],
+                                           uint32_t                              srp_id,
+                                           bool                                  is_pcupd)
+{
+    uint32_t div_assoc_iter = 0;
+
+    TRACE_FUNCTION_ENTRY();
+    if (!conn) {
+        TRACE_FUNCTION_RETURN(-1);
+    }
+
+    TRACE_CORE("DAG: Parsing diversity association information in the PCEP message - %s",
+               is_pcupd? "PCUpd" : "PCInit");
+    while (div_assoc_iter < dag_obj_count) {
+        if (div_assoc_iter == 0) {
+            info->div_assoc_info = xcalloc(1, sizeof(lsp_association_info) * dag_obj_count);
+        }
+        info->div_assoc_info[div_assoc_iter].assoc_type = LSP_ASSOCIATION_TYPE_DISJOINT;
+        info->div_assoc_info_count++;
+        if (dag_obj_isipv6[div_assoc_iter]) {
+            if ((is_pcupd == false) &&
+                (dag_obj_list[div_assoc_iter]->u.association_ipv6.flag_remove == true)) {
+                TRACE_CORE("DAG: Remove flag in association object is not expected in PCInit message");
+                free(info->div_assoc_info);
+                info->div_assoc_info = NULL;
+                pccd_send_error_with_srp(conn, srp_id,
+                                         PCEP_ERR_TYPE_PCCREATE,
+                                         PCEP_ERR_VAL_UNACCEPTABLE_INST_PARAM);
+                TRACE_FUNCTION_RETURN(PCCD_RET_FAIL);
+            }
+            if (dag_obj_list[div_assoc_iter]->u.association_ipv6.flag_remove == true) {
+                info->div_assoc_info[div_assoc_iter].assoc_flags = true;
+            } else {
+                info->div_assoc_info[div_assoc_iter].assoc_flags = false;
+            }
+            info->div_assoc_info[div_assoc_iter].is_assoc_src_ipv6 = true;
+            info->div_assoc_info[div_assoc_iter].assoc_grp_id =
+                            dag_obj_list[div_assoc_iter]->u.association_ipv6.association_id;
+            memcpy(info->div_assoc_info[div_assoc_iter].assoc_source_u.v6,
+                   &dag_obj_list[div_assoc_iter]->u.association_ipv6.ipv6_association_source,
+                   sizeof(struct in6_addr));
+            if (dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_config) {
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info_valid
+                                                                            = true;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info.link_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_config_tlv.link_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info.node_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_config_tlv.node_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info.srlg_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_config_tlv.srlg_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info.shortest_first =
+                     dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_config_tlv.shortest_path_flag;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info.strictness =
+                     dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_config_tlv.stictness_flag;
+            } else {
+                TRACE_CORE("Association config info not found. stopping processing the message");
+                pccd_send_error_with_srp(conn, srp_id, PCEP_ERR_TYPE_MOM,
+                                         PCEP_ERR_VAL_DISJ_CONFIG_MISSING);
+                free(info->div_assoc_info);
+                info->div_assoc_info = NULL;
+                TRACE_FUNCTION_RETURN(PCCD_RET_FAIL)
+            }
+            if (dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_status) {
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info_valid
+                                                                            = true;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info.link_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_status_tlv.link_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info.node_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_status_tlv.node_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info.srlg_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_status_tlv.srlg_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info.shortest_first =
+                     dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_status_tlv.shortest_path_flag;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info.strictness =
+                     dag_obj_list[div_assoc_iter]->u.association_ipv6.disjoint_status_tlv.stictness_flag;
+            } else {
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info_valid
+                                                                            = false;
+            }
+        } else {
+            info->div_assoc_info[div_assoc_iter].is_assoc_src_ipv6 = false;
+            info->div_assoc_info[div_assoc_iter].assoc_grp_id =
+                            dag_obj_list[div_assoc_iter]->u.association.association_id;
+            if ((is_pcupd == false) &&
+                (dag_obj_list[div_assoc_iter]->u.association.flag_remove == true)) {
+                TRACE_CORE("DAG: Remove flag in association object is not expected in PCInit message");
+                pccd_send_error_with_srp(conn, srp_id,
+                                         PCEP_ERR_TYPE_PCCREATE,
+                                         PCEP_ERR_VAL_UNACCEPTABLE_INST_PARAM);
+                TRACE_FUNCTION_RETURN(PCCD_RET_FAIL);
+            }
+            if (dag_obj_list[div_assoc_iter]->u.association.flag_remove == true) {
+                info->div_assoc_info[div_assoc_iter].assoc_flags = true;
+            } else {
+                info->div_assoc_info[div_assoc_iter].assoc_flags = false;
+            }
+            memcpy(&info->div_assoc_info[div_assoc_iter].assoc_source_u.v4,
+                   &dag_obj_list[div_assoc_iter]->u.association.ipv4_association_source,
+                   sizeof(struct in_addr));
+            if (dag_obj_list[div_assoc_iter]->u.association.disjoint_config) {
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info_valid
+                                                                            = true;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info.link_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association.disjoint_config_tlv.link_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info.node_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association.disjoint_config_tlv.node_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info.srlg_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association.disjoint_config_tlv.srlg_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info.shortest_first =
+                     dag_obj_list[div_assoc_iter]->u.association.disjoint_config_tlv.shortest_path_flag;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info.strictness =
+                     dag_obj_list[div_assoc_iter]->u.association.disjoint_config_tlv.stictness_flag;
+            } else {
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_conf_info_valid
+                                                                            = false;
+            }
+            if (dag_obj_list[div_assoc_iter]->u.association.disjoint_status) {
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info_valid
+                                                                            = true;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info.link_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association.disjoint_status_tlv.link_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info.node_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association.disjoint_status_tlv.node_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info.srlg_diverse =
+                     dag_obj_list[div_assoc_iter]->u.association.disjoint_status_tlv.srlg_disjoint;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info.shortest_first =
+                     dag_obj_list[div_assoc_iter]->u.association.disjoint_status_tlv.shortest_path_flag;
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info.strictness =
+                     dag_obj_list[div_assoc_iter]->u.association.disjoint_status_tlv.stictness_flag;
+            } else {
+                info->div_assoc_info[div_assoc_iter].disjoint_assoc_list.assoc_status_info_valid
+                                                                            = false;
+            }
+        }
+        div_assoc_iter++;
+    }
+
+    TRACE_FUNCTION_RETURN(0);
+}
+
 /**
  * pccd_core_report_lsp
  *
@@ -4347,6 +4531,86 @@
             }
         }
 
+        if (rpd_lsp->div_assoc_info_count) {
+            uint32_t div_assoc_iter = 0, obj_delete_count = 0;
+            TRACE_CORE(" PCRpt: filling disjoint association config info");
+            while (div_assoc_iter < rpd_lsp->div_assoc_info_count) {
+                rpd_disjoint_assoc_block_t *dag_ptr = NULL;
+                dag_ptr = &rpd_lsp->div_assoc_info[div_assoc_iter].disjoint_assoc_list;
+                if (!dag_ptr->assoc_conf_info_valid) {
+                    div_assoc_iter++;
+                    TRACE_CORE(" PCRpt: Unexpected scenario. Missing disjoint "
+                               "configuration information");
+                    continue;
+                }
+                if (rpd_lsp->div_assoc_info[div_assoc_iter].is_assoc_src_ipv6) {
+                    objs[++objects].type = PCEP_OBJ_ASSOCIATION_IPV6;
+                    objs[objects].u.association_ipv6.association_id =
+                                            rpd_lsp->div_assoc_info[div_assoc_iter].assoc_grp_id;
+                    memcpy(&objs[objects].u.association_ipv6.ipv6_association_source,
+                           rpd_lsp->div_assoc_info[div_assoc_iter].assoc_source_u.v6,
+                           sizeof(struct in6_addr));
+                    objs[objects].u.association_ipv6.disjoint_config =  true;
+                    objs[objects].u.association_ipv6.association_type = ASSOCIATION_TYPE_DISJOINT;
+                    if (rpd_lsp->div_assoc_info[div_assoc_iter].assoc_flags) {
+                        objs[objects].u.association_ipv6.flag_remove = true;
+                        obj_delete_count++;
+                    } else {
+                        objs[objects].u.association_ipv6.flag_remove = false;
+                    }
+                    objs[objects].u.association_ipv6.disjoint_config_tlv.link_disjoint =
+                                            dag_ptr->assoc_conf_info.link_diverse;
+                    objs[objects].u.association_ipv6.disjoint_config_tlv.node_disjoint =
+                                            dag_ptr->assoc_conf_info.node_diverse;
+                    objs[objects].u.association_ipv6.disjoint_config_tlv.srlg_disjoint =
+                                            dag_ptr->assoc_conf_info.srlg_diverse;
+                    objs[objects].u.association_ipv6.disjoint_config_tlv.shortest_path_flag =
+                                            dag_ptr->assoc_conf_info.shortest_first;
+                    objs[objects].u.association_ipv6.disjoint_config_tlv.stictness_flag =
+                                            dag_ptr->assoc_conf_info.strictness;
+                } else {
+                    objs[++objects].type = PCEP_OBJ_ASSOCIATION;
+                    memcpy(&objs[objects].u.association.ipv4_association_source,
+                           &rpd_lsp->div_assoc_info[div_assoc_iter].assoc_source_u.v4,
+                           sizeof(struct in_addr));
+                    objs[objects].u.association.association_id =
+                                            rpd_lsp->div_assoc_info[div_assoc_iter].assoc_grp_id;
+                    objs[objects].u.association.disjoint_config =  true;
+                    objs[objects].u.association.association_type = ASSOCIATION_TYPE_DISJOINT;
+                    if (rpd_lsp->div_assoc_info[div_assoc_iter].assoc_flags) {
+                        objs[objects].u.association.flag_remove = true;
+                        obj_delete_count++;
+                    } else {
+                        objs[objects].u.association.flag_remove = false;
+                    }
+                    objs[objects].u.association.disjoint_config_tlv.link_disjoint =
+                                            dag_ptr->assoc_conf_info.link_diverse;
+                    objs[objects].u.association.disjoint_config_tlv.node_disjoint =
+                                            dag_ptr->assoc_conf_info.node_diverse;
+                    objs[objects].u.association.disjoint_config_tlv.srlg_disjoint =
+                                            dag_ptr->assoc_conf_info.srlg_diverse;
+                    objs[objects].u.association.disjoint_config_tlv.shortest_path_flag =
+                                            dag_ptr->assoc_conf_info.shortest_first;
+                    objs[objects].u.association.disjoint_config_tlv.stictness_flag =
+                                            dag_ptr->assoc_conf_info.strictness;
+                }
+                div_assoc_iter++;
+            }
+            if (obj_delete_count) {
+                /*
+                 * Currently, PCCD will send delete diversity association group for
+                 * an LSP only when delegation control is removed. Hence, all groups
+                 * will be deleted. Partial delete scenarios does not exist today
+                 * In future when PCC controlled LSPs support diversity association
+                 * groups, this logic could be modified.
+                 */
+                struct pccd_rpd_lsp_info *ptr = (struct pccd_rpd_lsp_info *) rpd_lsp;
+                free(ptr);
+                ptr->div_assoc_info = NULL;
+                ptr->div_assoc_info_count = 0;
+            }
+        }
+
         /* For point to point LSPs*/
         if ((rpd_lsp->setup_type == RPD_EXTCTRL_LSP_SETUP_TYPE_SPRING_TE) ||
             (rpd_lsp->setup_type == RPD_EXTCTRL_LSP_SETUP_TYPE_SPRING_SRV6_TE)) {
@@ -6707,6 +6971,7 @@
         pce->pc_pce.pce_p2mp_lsp_init_capability = false;
         pce->pc_pce.pce_flowspec_capability = false;
         pce->pc_pce.pce_multipath_capability = false;
+        pce->pc_pce.pce_disjoint_assoc_capability = false;
         pce->pc_pce.pce_tls_enabled = false;
 
         // Set spring capability flag
@@ -6734,6 +6999,14 @@
             pce->pc_pce.pce_num_multipaths = 1;
         }
 
+        if (pce->pc_pce.pce_opts.pco_disjoint_assoc_capability &&
+            pce->pc_params.remote.active.disjoint_assoc_capability) {
+            TRACE_CORE("PCE Disjoint Assoc capability: On");
+            pce->pc_pce.pce_disjoint_assoc_capability = true;
+        } else {
+            TRACE_CORE("PCE Disjoint capability: Off");
+        }
+
         /* Set p2mp flags  to true if both sides (pccd and pce) are providing it */
         if (pce->pc_pce.pce_opts.pco_p2mp_lsp_report_capability &&
             pce->pc_params.remote.active.p2mp_lsp_report_capability) {
@@ -7661,6 +7934,9 @@
     int srpag_count  = 0;
     int srpag_ipv6_count  = 0;
     unsigned i = 0;
+    struct pcep_object *dag_obj_list[PCCD_MAX_DISJOINT_ASSOC_GROUPS];
+    uint32_t dag_obj_count = 0;
+    bool dag_obj_isipv6[PCCD_MAX_DISJOINT_ASSOC_GROUPS] = {false, false, false, false, false, false, false, false};
 
     TRACE_FUNCTION_ENTRY();
 
@@ -7685,6 +7961,18 @@
         }
         case PCEP_OBJ_ASSOCIATION: {
             if (NULL != rpd_lsp) {
+            if (ASSOCIATION_TYPE_DISJOINT == objs[i].u.association.association_type) {
+                if (dag_obj_count >= PCCD_MAX_DISJOINT_ASSOC_GROUPS) {
+                    TRACE_CORE(" Received more than 8 diveristy association objects in given"
+                               " message. Not processing the message");
+                    TRACE_FUNCTION_RETURN(PCCD_RET_FAIL);
+                }
+                const struct pcep_object *obja = &objs[i];
+                dag_obj_list[dag_obj_count] = (struct pcep_object *) obja;
+                dag_obj_isipv6[dag_obj_count] = false;
+                dag_obj_count++;
+                break;
+            }
                 if (pccd_core_parse_assoc_obj(conn, srp_id, rpd_lsp, &srpag_count, info, &objs[i].u.association)) {
                     TRACE_FUNCTION_RETURN(PCCD_RET_FAIL);
                 }
@@ -7700,6 +7988,18 @@
         }
         case PCEP_OBJ_ASSOCIATION_IPV6: {
             if (NULL != rpd_lsp) {
+            if (ASSOCIATION_TYPE_DISJOINT == objs[i].u.association_ipv6.association_type) {
+                if (dag_obj_count >= PCCD_MAX_DISJOINT_ASSOC_GROUPS) {
+                    TRACE_CORE(" Received more than 8 diveristy association objects in given"
+                               " message. Not processing the message");
+                    TRACE_FUNCTION_RETURN(PCCD_RET_FAIL);
+                }
+                const struct pcep_object *obja = &objs[i];
+                dag_obj_list[dag_obj_count] = (struct pcep_object *) obja;
+                dag_obj_isipv6[dag_obj_count] = true;
+                dag_obj_count++;
+                continue;
+            }
                 if (pccd_core_parse_assoc_ipv6_obj(conn, srp_id, rpd_lsp, &srpag_ipv6_count, info, &objs[i].u.association_ipv6)) {
                     TRACE_FUNCTION_RETURN(PCCD_RET_FAIL);
                 }
@@ -7714,10 +8014,26 @@
             break;
         }
         default:
-            goto out;
+            break;
         }
     }
 
+    if (dag_obj_count) {
+        if (disjoint_association_enabled == false) {
+            TRACE_CORE("Received disjoint assoc TLVs eventhough PCC is not capable");
+            pccd_send_error_with_srp(conn, srp_id, PCEP_ERR_TYPE_NSO,
+                                     PCEP_ERR_VAL_OBJECT_TYPE);
+            TRACE_FUNCTION_RETURN(PCCD_RET_FAIL);
+        }
+        if (pccd_core_parse_lsp_diversity_association(conn, info, dag_obj_count,
+                                                      dag_obj_isipv6, dag_obj_list, srp_id, true)) {
+            TRACE_FUNCTION_RETURN(-1);
+        }
+        handled_objs += dag_obj_count;
+    } else {
+        TRACE_CORE("DAG: No diversity association info found");
+    }
+
 out:
 
     TRACE_FUNCTION_RETURN(handled_objs);
@@ -10457,9 +10773,12 @@
     bool path_attribute_present = false, list_init = false;
     const struct pcep_object *obj_endpoint = NULL;
     struct pcep_object *ero_obj_list[128], *pa_obj_list[128], *ero_obj = NULL;
+    struct pcep_object *dag_obj_list[PCCD_MAX_DISJOINT_ASSOC_GROUPS];
+    bool dag_obj_isipv6[PCCD_MAX_DISJOINT_ASSOC_GROUPS] = {false, false, false, false, false, false, false, false};
     int srpag_count  = 0;
     int srpag_ipv6_count  = 0;
     uint8_t fs_obj_cnt = 0;
+    uint32_t dag_obj_count = 0;
     unsigned i;
 
     TRACE_FUNCTION_ENTRY();
@@ -10559,12 +10878,23 @@
             break;
         }
         case PCEP_OBJ_ASSOCIATION: {
-
             if (association_present) {
                 TRACE_CORE("Got multiple ASSOC objects for the same LSP");
             } else {
-		info->num_assoc_info = 0;
-	    }
+		        info->num_assoc_info = 0;
+	        }
+            if (ASSOCIATION_TYPE_DISJOINT == objs[i].u.association.association_type) {
+                if (dag_obj_count >= PCCD_MAX_DISJOINT_ASSOC_GROUPS) {
+                    TRACE_CORE(" Received more than 8 diveristy association objects in given"
+                               " message. Not processing the message");
+                    TRACE_FUNCTION_RETURN(PCCD_RET_FAIL);
+                }
+                const struct pcep_object *obja = &objs[i];
+                dag_obj_list[dag_obj_count] = (struct pcep_object *) obja;
+                dag_obj_isipv6[dag_obj_count] = false;
+                dag_obj_count++;
+                continue;
+            }
 
             if (ASSOCIATION_TYPE_SRPAG == objs[i].u.association.association_type) {
 
@@ -10605,7 +10935,19 @@
                 TRACE_CORE("Got multiple ASSOC objects for the same LSP");
             } else {
                 info->num_assoc_info = 0;
-        }
+            }
+            if (ASSOCIATION_TYPE_DISJOINT == objs[i].u.association_ipv6.association_type) {
+                if (dag_obj_count >= PCCD_MAX_DISJOINT_ASSOC_GROUPS) {
+                    TRACE_CORE(" Received more than 8 diveristy association objects in given"
+                               " message. Not processing the message");
+                    TRACE_FUNCTION_RETURN(PCCD_RET_FAIL);
+                }
+                const struct pcep_object *obja = &objs[i];
+                dag_obj_list[dag_obj_count] = (struct pcep_object *) obja;
+                dag_obj_isipv6[dag_obj_count] = true;
+                dag_obj_count++;
+                continue;
+            }
 
             if (ASSOCIATION_TYPE_SRPAG == objs[i].u.association_ipv6.association_type) {
 
@@ -10719,6 +11061,21 @@
             goto out;
         }
     }
+    if (dag_obj_count) {
+        if (disjoint_association_enabled == false) {
+            TRACE_CORE("Received disjoint assoc TLVs eventhough PCC is not capable");
+            pccd_send_error_with_srp(pce->pc_conn, srp_id, PCEP_ERR_TYPE_NSO,
+                                     PCEP_ERR_VAL_OBJECT_TYPE);
+            TRACE_FUNCTION_RETURN(PCCD_RET_FAIL);
+        }
+        if (pccd_core_parse_lsp_diversity_association(pce->pc_conn, info, dag_obj_count,
+                                                      dag_obj_isipv6, dag_obj_list, srp_id, false)) {
+            TRACE_FUNCTION_RETURN(-1);
+        }
+        objs_handled += dag_obj_count;
+    } else {
+        TRACE_CORE("DAG: No diversity association info found");
+    }
 
 out:
     if (flowspec_present) {
Index: layer3/usr.sbin/rpd/lib/jipc-infra/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/jipc-infra/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/jipc-infra/tests/Makefile.depend.host32	(working copy)
@@ -242,6 +242,9 @@
 	layer3/usr.sbin/rpd/lib/common/ui \
 	layer3/usr.sbin/rpd/lib/counting-srvc-ipc \
 	layer3/usr.sbin/rpd/lib/ctx \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/krt/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/krt/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/krt/tests/Makefile.depend.host	(working copy)
@@ -586,6 +586,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/mpls/oam/core/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/mpls/oam/core/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/mpls/oam/core/tests/Makefile.depend.host	(working copy)
@@ -578,6 +578,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/policy/atf-tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/policy/atf-tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/policy/atf-tests/Makefile.depend.host32	(working copy)
@@ -583,6 +583,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.amd64,ubuntu	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.amd64,ubuntu	(working copy)
@@ -0,0 +1,20 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.amd64
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.amd64	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/Makefile.depend.amd64	(working copy)
@@ -0,0 +1,23 @@
+# Autogenerated - do NOT edit!
+
+DEP_RELDIR := ${_PARSEDIR:S,${SRCTOP}/,,}
+
+DIRDEPS = \
+	daemon-infra/lib/libjsockaddr/h.common \
+	daemon-infra/lib/libjtask/h.common \
+	dsa/shared/include/jnx.common \
+	junos-shared/include/jnx/sys.common \
+	junos/include/jnx.common \
+	layer3/lib/librouting-policy-infra/h.common \
+	layer3/usr.sbin/rpd/lib/common/odl/rpd/gen.common,${DEP_TARGET_OS} \
+	layer3/usr.sbin/rpd/lib/if/h.common \
+	layer3/usr.sbin/rpd/lib/policy/h.common \
+	layer3/usr.sbin/rpd/lib/rt/h.common \
+	pfe-shared/include/jnx.common,${DEP_TARGET_OS} \
+
+
+.include <dirdeps.mk>
+
+.if ${DEP_RELDIR} == ${_DEP_RELDIR}
+# local dependencies - needed for -jN in clean tree
+.endif
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/dat_ui.c
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/dat_ui.c	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/dat_ui.c	(working copy)
@@ -0,0 +1,51 @@
+/*
+ * $Id: dat_ui.c$
+ *
+ * dat_ui.c
+ *
+ * Copyright (c) 2023, Juniper Networks, Inc.
+ * All rights reserved.
+ */
+
+
+#include <stddef.h>
+#include <sys/stat.h>
+#include <sys/types.h>
+
+#include <jnx/aux_types.h>
+#include <jnx/thread.h>
+#include <ddl/access.h>
+#include <jnx/xmlrpc.h>
+#include <xmltags/rpd_odl.h>
+
+#include <jnx/task_basic_types.h>
+#include <jnx/jsockaddr.h>
+#include <jnx/task_types.h>
+#include <jnx/task_mem.h>
+#include <jnx/fep/mgmt_proto.h>
+#include <jnx/task_mgmt.h>
+
+#include <jnx/pol_types.h>
+#include <jnx/rpd-pol/pol_types.h>
+#include <jnx/rpd-rt/rt_types.h>
+#include <jnx/jnx_types.h>
+#include <jnx/rpd-if/if_types.h>
+
+#include <jnx/bit_vector.h>
+#include <itable/itable.h>
+#include <jnx/task_stdio.h>
+
+#include <jnx/rpd-dat-ui/dat_ui_module.h>
+
+/*
+ * diversity_association_ui_startup
+ *
+ * This function is module initialization for DAG UI operation
+ * Currently, no UI operations are available for the module
+ * When operational commands are required, necessary initializations
+ * can be performed
+ */
+void
+diversity_association_ui_startup (void)
+{
+}
Index: layer3/usr.sbin/rpd/lib/divassoc/ui/h/Makefile.depend
===================================================================
--- layer3/usr.sbin/rpd/lib/divassoc/ui/h/Makefile.depend	(revision 0)
+++ layer3/usr.sbin/rpd/lib/divassoc/ui/h/Makefile.depend	(working copy)
@@ -0,0 +1,3 @@
+DIRDEPS =
+
+.include <dirdeps.mk>
Index: layer3/usr.sbin/rpd/lib/if-scope/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/if-scope/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/if-scope/tests/Makefile.depend.host32	(working copy)
@@ -572,6 +572,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/if/api/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/if/api/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/if/api/tests/Makefile.depend.host	(working copy)
@@ -578,6 +578,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/ifx-dist/client/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/ifx-dist/client/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/ifx-dist/client/tests/Makefile.depend.host	(working copy)
@@ -452,6 +452,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
 	layer3/usr.sbin/rpd/lib/ext-reslvr \
Index: layer3/usr.sbin/rpd/lib/igp-spf-compute/tests/Makefile.depend.host32
===================================================================
--- layer3/usr.sbin/rpd/lib/igp-spf-compute/tests/Makefile.depend.host32	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/igp-spf-compute/tests/Makefile.depend.host32	(working copy)
@@ -579,6 +579,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/igp-spf-compute/tests/Makefile.depend.host,linux
===================================================================
--- layer3/usr.sbin/rpd/lib/igp-spf-compute/tests/Makefile.depend.host,linux	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/igp-spf-compute/tests/Makefile.depend.host,linux	(working copy)
@@ -579,6 +579,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/raas/shared/core/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/raas/shared/core/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/raas/shared/core/tests/Makefile.depend.host	(working copy)
@@ -589,6 +589,11 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/config \
+	layer3/usr.sbin/rpd/lib/divassoc/core \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ui \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/evpn \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
Index: layer3/usr.sbin/rpd/lib/rt/Makefile.depend.amd64,ubuntu
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/Makefile.depend.amd64,ubuntu	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/Makefile.depend.amd64,ubuntu	(working copy)
@@ -21,6 +21,7 @@
 	dsa/lib/grand/h.common \
 	dsa/lib/hbtree/h.common \
 	dsa/lib/jipc/h.common \
+	dsa/lib/vector/h.common \
 	junos/bsd/include \
 	junos/lib/libagentd \
 	junos/lib/libcallref \
Index: layer3/usr.sbin/rpd/lib/rt/rt-dist/server/tests/Makefile.depend.host
===================================================================
--- layer3/usr.sbin/rpd/lib/rt/rt-dist/server/tests/Makefile.depend.host	(revision 1333131)
+++ layer3/usr.sbin/rpd/lib/rt/rt-dist/server/tests/Makefile.depend.host	(working copy)
@@ -456,6 +456,8 @@
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-virtual-router/gen.common \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/actions.host32 \
 	layer3/usr.sbin/rpd/lib/ddl/junos-routing-instance-vrf/gen.common \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/actions.host32 \
+	layer3/usr.sbin/rpd/lib/divassoc/ddl/junos-routing-infra-dat/gen.common \
 	layer3/usr.sbin/rpd/lib/dyncfg \
 	layer3/usr.sbin/rpd/lib/ext-infra-krt \
 	layer3/usr.sbin/rpd/lib/ext-reslvr \
Index: layer3/usr.sbin/pccd/pccd_ui.c
===================================================================
--- layer3/usr.sbin/pccd/pccd_ui.c	(revision 1333131)
+++ layer3/usr.sbin/pccd/pccd_ui.c	(working copy)
@@ -50,6 +50,7 @@
 #include "pccd_ro.h"
 #include "pccd_mirror.h"
 
+#define DIVERSITY_TYPE_STR_MAX 64
 #define ROUTE_INFO_STRING_MAX_SIZE 2048
 #define MULTI_ROUTE_INFO_STRING_MAX_SIZE (65536 * 16)
 #define PATH_ATTRIBUTES_INFO_STRING_MAX_SIZE 2048
@@ -139,6 +140,10 @@
             pce->pc_params.remote.tls_enable ? "Yes" : "No");
     XML_ELT(mgmt_sock, ODCI_SESSION_TLS_ENABLED, "%s",
             pce->pc_params.pceps_session ? "Yes" : "No");
+    XML_ELT(mgmt_sock, ODCI_PCE_DISJOINT_ASSOCIATION, "%s",
+            pce->pc_params.remote.proposition.disjoint_assoc_capability ? "Yes" : "No");
+    XML_ELT(mgmt_sock, ODCI_PCC_DISJOINT_ASSOCIATION, "%s",
+            pce->pc_params.local.proposition.disjoint_assoc_capability ? "Yes" : "No");
 
     if (detailed) {
         struct pce_common_opts *pec_opts = NULL;
@@ -891,6 +896,8 @@
             return "TE++";
         case LSP_ASSOCIATION_TYPE_SRPAG:
             return "SRPAG";
+        case LSP_ASSOCIATION_TYPE_DISJOINT:
+            return "DISJOINT";
         default:
             return "INVALID";
     }
@@ -971,8 +978,9 @@
     struct in_addr                   addr;
     struct pccd_flowspec_info_s     *fs_info = NULL, *fs_info_tmp = NULL;
     struct lsp_vector               *lsp_vec = NULL;
-    uint32_t                         counter = 0;
+    uint32_t                         counter = 0, dag_i = 0;
     rpd_sr_ero_list_t               *srte_ero_info = NULL, *srte_rro_info = NULL, *pce_srte_ero_list = NULL;
+    char                             div_type[DIVERSITY_TYPE_STR_MAX];
 
     TRACE_FUNCTION_ENTRY();
     if (unparsed && strstr(unparsed, "name")) {
@@ -1306,6 +1314,10 @@
             }
 
             for (uint8_t assoc_itr = 0; assoc_itr < lsp->num_assoc_info; assoc_itr++) {
+                if (strncmp(pccd_ui_get_assoc_type_string((uint8_t)lsp->assoc_info[assoc_itr].assoc_type),
+                    "INVALID", 64) == 0) {
+                    continue;
+                }
                 XML_OPEN(mgmt_sock, ODCI_LSP_ASSOCIATION_ENTRY);
                 XML_ELT(mgmt_sock, ODCI_ASSOCIATION_TYPE, "%s",
                     pccd_ui_get_assoc_type_string(lsp->assoc_info[assoc_itr].assoc_type));
@@ -1370,9 +1382,79 @@
                     }
                     XML_CLOSE(mgmt_sock, ODCI_SRPAG_ASSOCIATION_ENTRY);
                 }
-                
                 XML_CLOSE(mgmt_sock, ODCI_LSP_ASSOCIATION_ENTRY);
             }
+            while (dag_i<lsp->div_assoc_info_count) {
+                XML_OPEN(mgmt_sock, ODCI_LSP_ASSOCIATION_ENTRY);
+                XML_ELT(mgmt_sock, ODCI_ASSOCIATION_TYPE, "DISJOINT");
+                XML_ELT(mgmt_sock, ODCI_ASSOCIATION_ID, "%d",
+                        lsp->div_assoc_info[dag_i].assoc_grp_id);
+                if (!lsp->div_assoc_info[dag_i].is_assoc_src_ipv6) {
+                    addr.s_addr = lsp->div_assoc_info[dag_i].assoc_source_u.v4;
+                    XML_ELT(mgmt_sock, ODCI_ASSOCIATION_SOURCE, "%s", inet_ntoa(addr));
+                } else {
+                    char assoc_ip_str[INET6_ADDRSTRLEN];
+                    struct in6_addr assoc_ipv6_addr;
+                    memset(assoc_ip_str, 0, INET6_ADDRSTRLEN);
+                    memcpy(&assoc_ipv6_addr,
+                           lsp->div_assoc_info[dag_i].assoc_source_u.v6, 16);
+                    inet_ntop(AF_INET6, &assoc_ipv6_addr, assoc_ip_str,
+                              sizeof(assoc_ip_str));
+                    XML_ELT(mgmt_sock, ODCI_ASSOCIATION_SOURCE, "%s", assoc_ip_str);
+                }
+                XML_OPEN(mgmt_sock, ODCI_DAG_ASSOCIATION_ENTRY);
+                if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_conf_info_valid) {
+                    if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_conf_info.srlg_diverse) {
+                        if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_conf_info.link_diverse) {
+                            strncpy(div_type, "SRLG_LINK_DIVERSE", DIVERSITY_TYPE_STR_MAX);
+                        } else if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_conf_info.node_diverse) {
+                            strncpy(div_type, "SRLG_NODE_DIVERSE", DIVERSITY_TYPE_STR_MAX);
+                        } else {
+                            strncpy(div_type, "SRLG_DIVERSE", DIVERSITY_TYPE_STR_MAX);
+                        }
+                    } else {
+                        if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_conf_info.link_diverse) {
+                            strncpy(div_type, "LINK_DIVERSE", DIVERSITY_TYPE_STR_MAX);
+                        } else if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_conf_info.node_diverse) {
+                            strncpy(div_type, "NODE_DIVERSE", DIVERSITY_TYPE_STR_MAX);
+                        } else {
+                            strncpy(div_type, "UNKNOWN", DIVERSITY_TYPE_STR_MAX);
+                        }
+                    }
+                    XML_ELT(mgmt_sock, ODCI_CONFIG_DISJOINT_TYPE, "%s", div_type);
+                    XML_ELT(mgmt_sock, ODCI_CONFIG_STRICT,
+                             (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_conf_info.strictness?"Yes":"No"));
+                    XML_ELT(mgmt_sock, ODCI_CONFIG_SHORTEST_PATH,
+                             (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_conf_info.shortest_first?"Yes":"No"));
+                }
+                if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_status_info_valid) {
+                    if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_status_info.srlg_diverse) {
+                        if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_status_info.link_diverse) {
+                            strncpy(div_type, "SRLG_LINK_DIVERSE", DIVERSITY_TYPE_STR_MAX);
+                        } else if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_status_info.node_diverse) {
+                            strncpy(div_type, "SRLG_NODE_DIVERSE", DIVERSITY_TYPE_STR_MAX);
+                        } else {
+                            strncpy(div_type, "SRLG_DIVERSE", DIVERSITY_TYPE_STR_MAX);
+                        }
+                    } else {
+                        if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_status_info.link_diverse) {
+                            strncpy(div_type, "LINK_DIVERSE", DIVERSITY_TYPE_STR_MAX);
+                        } else if (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_status_info.node_diverse) {
+                            strncpy(div_type, "NODE_DIVERSE", DIVERSITY_TYPE_STR_MAX);
+                        } else {
+                            strncpy(div_type, "UNKNOWN", DIVERSITY_TYPE_STR_MAX);
+                        }
+                    }
+                    XML_ELT(mgmt_sock, ODCI_STATUS_DISJOINT_TYPE, "%s", div_type);
+                    XML_ELT(mgmt_sock, ODCI_STATUS_STRICT,
+                             (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_status_info.strictness?"Yes":"No"));
+                    XML_ELT(mgmt_sock, ODCI_STATUS_SHORTEST_PATH,
+                             (lsp->div_assoc_info[dag_i].disjoint_assoc_list.assoc_status_info.shortest_first?"Yes":"No"));
+                }
+                XML_CLOSE(mgmt_sock, ODCI_DAG_ASSOCIATION_ENTRY);
+                dag_i++;
+                XML_CLOSE(mgmt_sock, ODCI_LSP_ASSOCIATION_ENTRY);
+            }
 
             memset(buff, '\0', 16);
             strftime (buff, 16, "%H:%M:%S.000", localtime (&lsp->last_pc_req_rpt));
@@ -2039,6 +2121,8 @@
     XML_ELT(mgmt_sock, ODCI_TLV_FLOWSPEC_FLOWFILTER, "%u", TLV_FLOWSPEC_FLOWFILTER);
     XML_ELT(mgmt_sock, ODCI_TLV_PATH_ATTRIBUTE_COLOR, "%u", pathattribute_color_tlv_type);
     XML_ELT(mgmt_sock, ODCI_TLV_VENDOR_ROUTE_METRIC, "%u", TLV_VENDOR_LSP_ROUTE_PREFERENCE);
+    XML_ELT(mgmt_sock, ODCI_TLV_DISJOINT_CONFIGURATION, "%u", TLV_DISJOINT_CONFIGURATION);
+    XML_ELT(mgmt_sock, ODCI_TLV_DISJOINT_STATUS, "%u", TLV_DISJOINT_STATUS);
 
     XML_CLOSE(mgmt_sock, ODCI_PCC_TLV_TYPES_ENTRY);
     XML_CLOSE(mgmt_sock, ODCI_PATH_COMPUTATION_CLIENT_TLV_TYPES);
